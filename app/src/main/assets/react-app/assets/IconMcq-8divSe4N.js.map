{"version":3,"file":"IconMcq-8divSe4N.js","sources":["../../src/components/Questions/IconMcq/IconMcq.jsx"],"sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport styles from \"./IconMcq.module.css\";\nimport { valueChange } from \"~/state/runState\";\nimport { useTheme } from \"@emotion/react\";\nimport { Box, Grid } from \"@mui/material\";\nimport { rtlLanguage } from \"~/utils/common\";\n\nfunction IconMcq(props) {\n  const theme = useTheme();\n  const state = useSelector((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode];\n    let show_errors = state.runState.values.Survey.show_errors;\n    let isDirty = state.templateState[props.component.qualifiedCode];\n    return {\n      value: questionState?.value || \"\",\n      showValidation:\n        (show_errors || isDirty) && questionState?.validity === false,\n    };\n  }, shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (componentCode, value) => {\n    dispatch(valueChange({ componentCode, value }));\n  };\n\n  const hideText = props.component?.hideText || false;\n\n  const lang = useSelector((state) => {\n    return state.runState.values[\"Survey\"].lang;\n  });\n  const isRtl = rtlLanguage.includes(lang);\n\n  return (\n    <Grid\n      container\n      className={styles.imageGrid}\n      spacing={props.component.spacing || 8}\n    >\n      {props.component.answers.map((option) => {\n        return (\n          <IconMcqChoice\n            key={option.code}\n            component={option}\n            columns={props.component.columns || 64}\n            theme={theme}\n            iconSize={props.component.iconSize || 64}\n            hideText={hideText}\n          />\n        );\n      })}\n    </Grid>\n  );\n}\n\nfunction IconMcqChoice({\n  component,\n  iconSize,\n  columns,\n  hideText,\n  theme,\n}) {\n  const dispatch = useDispatch();\n  const checked = useSelector(\n    (state) => state.runState.values[component.qualifiedCode].value || false\n  );\n  return (\n    <Grid item xs={12 / columns}>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          width: \"100%\",\n        }}\n      >\n        <Box\n          onClick={() =>\n            dispatch(\n              valueChange({\n                componentCode: component.qualifiedCode,\n                value: !checked,\n              })\n            )\n          }\n          style={{\n            height: iconSize + \"px\",\n            width: iconSize + \"px\",\n            borderRadius: \"8px\",\n            color: checked\n              ? theme.palette.primary.main\n              : theme.textStyles.text.color,\n          }}\n          className={styles.svgContainer}\n          dangerouslySetInnerHTML={{\n            __html: component.icon ? component.icon : \"\",\n          }}\n        />\n      </div>\n\n      {!hideText && (\n        <Box\n          sx={{\n            textAlign: \"center\",\n            fontFamily: theme.textStyles.text.font,\n            color: checked\n              ? theme.palette.primary.main\n              : theme.textStyles.text.color,\n            fontSize: theme.textStyles.text.size,\n          }}\n        >\n          {component.content?.label}\n        </Box>\n      )}\n    </Grid>\n  );\n}\n\nexport default IconMcq;\n"],"names":["state","jsx"],"mappings":";;;;;;;;;;;;AAQA,SAAS,QAAQ,OAAO;;AACtB,QAAM,QAAQ;AACA,cAAY,CAACA,WAAU;AACnC,QAAI,gBAAgBA,OAAM,SAAS,OAAO,MAAM,UAAU,aAAa;AACvE,QAAI,cAAcA,OAAM,SAAS,OAAO,OAAO;AAC/C,QAAI,UAAUA,OAAM,cAAc,MAAM,UAAU,aAAa;AACxD,WAAA;AAAA,MACL,QAAO,+CAAe,UAAS;AAAA,MAC/B,iBACG,eAAe,aAAY,+CAAe,cAAa;AAAA,IAAA;AAAA,KAE3D,YAAY;AACE,cAAY;AAMvB,QAAA,aAAW,WAAM,cAAN,mBAAiB,aAAY;AAEjC,cAAY,CAACA,WAAU;AAClC,WAAOA,OAAM,SAAS,OAAO,QAAQ,EAAE;AAAA,EAAA,CACxC;AAIC,SAAAC,kCAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAS;AAAA,MACT,WAAW,OAAO;AAAA,MAClB,SAAS,MAAM,UAAU,WAAW;AAAA,MAEnC,UAAM,MAAA,UAAU,QAAQ,IAAI,CAAC,WAAW;AAErC,eAAAA,kCAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YAEC,WAAW;AAAA,YACX,SAAS,MAAM,UAAU,WAAW;AAAA,YACpC;AAAA,YACA,UAAU,MAAM,UAAU,YAAY;AAAA,YACtC;AAAA,UAAA;AAAA,UALK,OAAO;AAAA,QAAA;AAAA,MAMd,CAEH;AAAA,IAAA;AAAA,EAAA;AAGP;AAEA,SAAS,cAAc;AAAA,EACrB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG;;AACD,QAAM,WAAW;AACjB,QAAM,UAAU;AAAA,IACd,CAAC,UAAU,MAAM,SAAS,OAAO,UAAU,aAAa,EAAE,SAAS;AAAA,EAAA;AAErE,gDACG,MAAK,EAAA,MAAI,MAAC,IAAI,KAAK,SAClB,UAAA;AAAA,IAAAA,kCAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO;AAAA,UACL,SAAS;AAAA,UACT,gBAAgB;AAAA,UAChB,OAAO;AAAA,QACT;AAAA,QAEA,UAAAA,kCAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAS,MACP;AAAA,cACE,YAAY;AAAA,gBACV,eAAe,UAAU;AAAA,gBACzB,OAAO,CAAC;AAAA,cAAA,CACT;AAAA,YACH;AAAA,YAEF,OAAO;AAAA,cACL,QAAQ,WAAW;AAAA,cACnB,OAAO,WAAW;AAAA,cAClB,cAAc;AAAA,cACd,OAAO,UACH,MAAM,QAAQ,QAAQ,OACtB,MAAM,WAAW,KAAK;AAAA,YAC5B;AAAA,YACA,WAAW,OAAO;AAAA,YAClB,yBAAyB;AAAA,cACvB,QAAQ,UAAU,OAAO,UAAU,OAAO;AAAA,YAC5C;AAAA,UAAA;AAAA,QACF;AAAA,MAAA;AAAA,IACF;AAAA,IAEC,CAAC,YACAA,kCAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,IAAI;AAAA,UACF,WAAW;AAAA,UACX,YAAY,MAAM,WAAW,KAAK;AAAA,UAClC,OAAO,UACH,MAAM,QAAQ,QAAQ,OACtB,MAAM,WAAW,KAAK;AAAA,UAC1B,UAAU,MAAM,WAAW,KAAK;AAAA,QAClC;AAAA,QAEC,0BAAU,+BAAS;AAAA,MAAA;AAAA,IACtB;AAAA,EAEJ,EAAA,CAAA;AAEJ;"}