{"version":3,"file":"index-1f5c2bdf.js","sources":["../../src/pages/manage/ForgotPassword/index.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport {\n  Button,\n  TextField,\n  Box,\n  Typography,\n  FormHelperText,\n  FormGroup,\n} from \"@mui/material\";\nimport AuthService from \"~/services/AuthService\";\nimport styles from \"./ForgotPassword.module.css\";\nimport { useTranslation } from \"react-i18next\";\nimport { onApiError } from \"~/utils/errorsProcessor\";\nimport { onError, setLoading } from \"~/state/edit/editState\";\nimport { useDispatch } from \"react-redux\";\n\nfunction ForgotPassword() {\n  const { t } = useTranslation(\"manage\");\n  const [isSuccess, setSuccess] = useState(false);\n\n  const [email, setEmail] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const onEmailChanged = (e) => {\n    setEmail(e.target.value);\n    setEmailError(\"\");\n  };\n\n  const onSubmit = () => {\n    setEmailError(\"\");\n    if (email.length == 0) {\n      setEmailError(t(\"email_required\"));\n      return false;\n    }\n    dispatch(setLoading(true));\n    AuthService.forgotPassword(email)\n      .then((data) => {\n        setSuccess(true);\n      })\n      .catch((e) => {\n        setFetchingSurveys(false);\n        onApiError({\n          error: e,\n          globalErrorHandler: (processedError) => {\n            dispatch(onError(processedError));\n          },\n        });\n      })\n      .finally(() => {\n        dispatch(setLoading(true));\n      });\n  };\n\n  return (\n    <Box className={styles.wrapper}>\n      <Box className={styles.content}>\n        <Typography variant=\"h4\">{t(\"forgot_password.title\")}</Typography>\n        {isSuccess ? (\n          <Box className={styles.successText}>\n            {t(\"forgot_password.success\")}\n          </Box>\n        ) : (\n          <Box className={styles.form}>\n            <FormGroup>\n              <TextField\n                error={emailError.length > 0}\n                id=\"email\"\n                value={email}\n                required={true}\n                onChange={onEmailChanged}\n                label={t(\"label.email\")}\n                name=\"email\"\n                variant=\"standard\"\n              />\n\n              {emailError && (\n                <FormHelperText className={styles.errorText}>\n                  {emailError}\n                </FormHelperText>\n              )}\n              <FormHelperText>\n                {t(\"forgot_password.helper_text\")}\n              </FormHelperText>\n            </FormGroup>\n            <Button onClick={onSubmit} sx={{ mt: \"40px\" }}>\n              {t(\"forgot_password.send\")}\n            </Button>\n          </Box>\n        )}\n      </Box>\n    </Box>\n  );\n}\n\nexport default ForgotPassword;\n"],"names":["useState","jsx","jsxs"],"mappings":";;;;;;;;;;;;;AAgBA,SAAS,iBAAiB;AACxB,QAAM,EAAE,EAAA,IAAM,eAAe,QAAQ;AACrC,QAAM,CAAC,WAAW,UAAU,IAAIA,sBAAS,KAAK;AAE9C,QAAM,CAAC,OAAO,QAAQ,IAAIA,sBAAS,EAAE;AACrC,QAAM,CAAC,YAAY,aAAa,IAAIA,sBAAS,EAAE;AAC/C,QAAM,WAAW;AAEX,QAAA,iBAAiB,CAAC,MAAM;AACnB,aAAA,EAAE,OAAO,KAAK;AACvB,kBAAc,EAAE;AAAA,EAAA;AAGlB,QAAM,WAAW,MAAM;AACrB,kBAAc,EAAE;AACZ,QAAA,MAAM,UAAU,GAAG;AACP,oBAAA,EAAE,gBAAgB,CAAC;AAC1B,aAAA;AAAA,IACT;AACS,aAAA,WAAW,IAAI,CAAC;AACzB,gBAAY,eAAe,KAAK,EAC7B,KAAK,CAAC,SAAS;AACd,iBAAW,IAAI;AAAA,IAAA,CAChB,EACA,MAAM,CAAC,MAAM;AACZ,yBAAmB,KAAK;AACb,iBAAA;AAAA,QACT,OAAO;AAAA,QACP,oBAAoB,CAAC,mBAAmB;AAC7B,mBAAA,QAAQ,cAAc,CAAC;AAAA,QAClC;AAAA,MAAA,CACD;AAAA,IAAA,CACF,EACA,QAAQ,MAAM;AACJ,eAAA,WAAW,IAAI,CAAC;AAAA,IAAA,CAC1B;AAAA,EAAA;AAIH,SAAAC,kCAAA,IAAC,OAAI,WAAW,OAAO,SACrB,UAACC,kCAAA,KAAA,KAAA,EAAI,WAAW,OAAO,SACrB,UAAA;AAAA,IAAAD,sCAAC,YAAW,EAAA,SAAQ,MAAM,UAAA,EAAE,uBAAuB,GAAE;AAAA,IACpD,YACCA,kCAAA,IAAC,KAAI,EAAA,WAAW,OAAO,aACpB,UAAA,EAAE,yBAAyB,EAC9B,CAAA,IAEAC,kCAAAA,KAAC,KAAI,EAAA,WAAW,OAAO,MACrB,UAAA;AAAA,MAAAA,uCAAC,WACC,EAAA,UAAA;AAAA,QAAAD,kCAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAO,WAAW,SAAS;AAAA,YAC3B,IAAG;AAAA,YACH,OAAO;AAAA,YACP,UAAU;AAAA,YACV,UAAU;AAAA,YACV,OAAO,EAAE,aAAa;AAAA,YACtB,MAAK;AAAA,YACL,SAAQ;AAAA,UAAA;AAAA,QACV;AAAA,QAEC,cACEA,kCAAAA,IAAA,gBAAA,EAAe,WAAW,OAAO,WAC/B,UACH,YAAA;AAAA,QAEDA,kCAAA,IAAA,gBAAA,EACE,UAAE,EAAA,6BAA6B,EAClC,CAAA;AAAA,MAAA,GACF;AAAA,MACAA,kCAAAA,IAAC,QAAO,EAAA,SAAS,UAAU,IAAI,EAAE,IAAI,OAAO,GACzC,UAAE,EAAA,sBAAsB,EAC3B,CAAA;AAAA,IAAA,GACF;AAAA,EAAA,EAEJ,CAAA,EACF,CAAA;AAEJ;"}