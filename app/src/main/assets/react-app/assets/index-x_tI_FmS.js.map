{"version":3,"file":"index-x_tI_FmS.js","sources":["../../src/pages/manage/ForgotPassword/index.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport {\n  Button,\n  TextField,\n  Box,\n  Typography,\n  FormHelperText,\n  FormGroup,\n} from \"@mui/material\";\nimport AuthService from \"~/services/AuthService\";\nimport styles from \"./ForgotPassword.module.css\";\nimport { useTranslation } from \"react-i18next\";\nimport { onApiError } from \"~/utils/errorsProcessor\";\nimport { onError, setLoading } from \"~/state/edit/editState\";\nimport { useDispatch } from \"react-redux\";\nimport LoginInput from \"~/components/common/LoginInput\";\nimport { CheckCircle } from \"@mui/icons-material\";\n\nfunction ForgotPassword() {\n  const { t } = useTranslation(\"manage\");\n  const [isSuccess, setSuccess] = useState(false);\n\n  const [email, setEmail] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const onEmailChanged = (e) => {\n    setEmail(e.target.value);\n    setEmailError(\"\");\n  };\n\n  const onSubmit = () => {\n    setEmailError(\"\");\n    if (email.length == 0) {\n      setEmailError(t(\"email_required\"));\n      return false;\n    }\n    dispatch(setLoading(true));\n    AuthService.forgotPassword(email)\n      .then((data) => {\n        setSuccess(true);\n      })\n      .catch((e) => {\n        setFetchingSurveys(false);\n        onApiError({\n          error: e,\n          globalErrorHandler: (processedError) => {\n            dispatch(onError(processedError));\n          },\n        });\n      })\n      .finally(() => {\n        dispatch(setLoading(false));\n      });\n  };\n\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"start\",\n        height: \"calc(100vh - 80px)\",\n        overflow: \"auto\",\n        width: \"100vw\",\n        backgroundColor: \"#f7f8fc\",\n      }}\n    >\n      <Box sx={{ width: \"100%\", maxWidth: 700, marginTop: 5 }}>\n        <Box className={styles.content}>\n          <Typography variant=\"h4\">{t(\"forgot_password.title\")}</Typography>\n          {isSuccess ? (\n            <Box className={styles.successText}>\n              <CheckCircle sx={{ fontSize: \"60px\" }} />\n\n              {t(\"forgot_password.success\")}\n            </Box>\n          ) : (\n            <Box>\n              <FormGroup>\n                <LoginInput\n                  error={emailError.length > 0}\n                  id=\"email\"\n                  value={email}\n                  required={true}\n                  onChange={onEmailChanged}\n                  label={t(\"label.email\")}\n                  name=\"email\"\n                  variant=\"standard\"\n                />\n                {emailError && (\n                  <FormHelperText className={styles.errorText}>\n                    {emailError}\n                  </FormHelperText>\n                )}\n                <FormHelperText>\n                  {t(\"forgot_password.helper_text\")}\n                </FormHelperText>\n              </FormGroup>\n              <Button\n                fullWidth\n                onClick={onSubmit}\n                className={styles.sendButton}\n                sx={{ mt: \"25px\" }}\n              >\n                {t(\"forgot_password.send\")}\n              </Button>\n            </Box>\n          )}\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n\nexport default ForgotPassword;\n"],"names":["useState","jsx","jsxs"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAkBA,SAAS,iBAAiB;AACxB,QAAM,EAAE,EAAA,IAAM,eAAe,QAAQ;AACrC,QAAM,CAAC,WAAW,UAAU,IAAIA,sBAAS,KAAK;AAE9C,QAAM,CAAC,OAAO,QAAQ,IAAIA,sBAAS,EAAE;AACrC,QAAM,CAAC,YAAY,aAAa,IAAIA,sBAAS,EAAE;AAC/C,QAAM,WAAW;AAEX,QAAA,iBAAiB,CAAC,MAAM;AACnB,aAAA,EAAE,OAAO,KAAK;AACvB,kBAAc,EAAE;AAAA,EAAA;AAGlB,QAAM,WAAW,MAAM;AACrB,kBAAc,EAAE;AACZ,QAAA,MAAM,UAAU,GAAG;AACP,oBAAA,EAAE,gBAAgB,CAAC;AAC1B,aAAA;AAAA,IACT;AACS,aAAA,WAAW,IAAI,CAAC;AACzB,gBAAY,eAAe,KAAK,EAC7B,KAAK,CAAC,SAAS;AACd,iBAAW,IAAI;AAAA,IAAA,CAChB,EACA,MAAM,CAAC,MAAM;AACZ,yBAAmB,KAAK;AACb,iBAAA;AAAA,QACT,OAAO;AAAA,QACP,oBAAoB,CAAC,mBAAmB;AAC7B,mBAAA,QAAQ,cAAc,CAAC;AAAA,QAClC;AAAA,MAAA,CACD;AAAA,IAAA,CACF,EACA,QAAQ,MAAM;AACJ,eAAA,WAAW,KAAK,CAAC;AAAA,IAAA,CAC3B;AAAA,EAAA;AAIH,SAAAC,kCAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,IAAI;AAAA,QACF,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,YAAY;AAAA,QACZ,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,OAAO;AAAA,QACP,iBAAiB;AAAA,MACnB;AAAA,MAEA,UAACA,kCAAAA,IAAA,KAAA,EAAI,IAAI,EAAE,OAAO,QAAQ,UAAU,KAAK,WAAW,EAClD,GAAA,UAAAC,uCAAC,KAAI,EAAA,WAAW,OAAO,SACrB,UAAA;AAAA,QAAAD,sCAAC,YAAW,EAAA,SAAQ,MAAM,UAAA,EAAE,uBAAuB,GAAE;AAAA,QACpD,YACCC,kCAAA,KAAC,KAAI,EAAA,WAAW,OAAO,aACrB,UAAA;AAAA,UAAAD,kCAAA,IAAC,aAAY,EAAA,IAAI,EAAE,UAAU,UAAU;AAAA,UAEtC,EAAE,yBAAyB;AAAA,QAC9B,EAAA,CAAA,2CAEC,KACC,EAAA,UAAA;AAAA,UAAAC,uCAAC,WACC,EAAA,UAAA;AAAA,YAAAD,kCAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,OAAO,WAAW,SAAS;AAAA,gBAC3B,IAAG;AAAA,gBACH,OAAO;AAAA,gBACP,UAAU;AAAA,gBACV,UAAU;AAAA,gBACV,OAAO,EAAE,aAAa;AAAA,gBACtB,MAAK;AAAA,gBACL,SAAQ;AAAA,cAAA;AAAA,YACV;AAAA,YACC,cACEA,kCAAAA,IAAA,gBAAA,EAAe,WAAW,OAAO,WAC/B,UACH,YAAA;AAAA,YAEDA,kCAAA,IAAA,gBAAA,EACE,UAAE,EAAA,6BAA6B,EAClC,CAAA;AAAA,UAAA,GACF;AAAA,UACAA,kCAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAS;AAAA,cACT,SAAS;AAAA,cACT,WAAW,OAAO;AAAA,cAClB,IAAI,EAAE,IAAI,OAAO;AAAA,cAEhB,YAAE,sBAAsB;AAAA,YAAA;AAAA,UAC3B;AAAA,QAAA,GACF;AAAA,MAAA,EAAA,CAEJ,EACF,CAAA;AAAA,IAAA;AAAA,EAAA;AAGN;"}