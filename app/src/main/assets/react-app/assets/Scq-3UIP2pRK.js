import{j as n,r as S}from"./index-_S4YwDqB.js";import{w as C,x as h,y as m,A as F,i as x,z as u,C as b,E as z}from"./Android-C-a1KXUo.js";import R from"./index-9Fxrezp3.js";import{F as T,a as f}from"./RadioGroup-aRjGOcv1.js";import{R as v}from"./Radio-niwnmuZu.js";import{T as E}from"./TextField-jF1OUiCK.js";import"./index-A2bnA5lA.js";import"./RadioGroupContext-kSS3NyLp.js";import"./SwitchBase-FbfkWOin.js";function Q(e){const i=C(o=>{let c=o.runState.values[e.component.qualifiedCode];return{value:(c==null?void 0:c.value)||""}},h),l=m(),r=o=>{l(u({componentCode:o.target.name,value:o.target.value}))};return n.jsx(F,{component:"fieldset",children:n.jsx(T,{name:e.component.qualifiedCode,value:i.value,onChange:r,children:e.component.answers.map(o=>o.type==="other"?n.jsx(B,{parentCode:e.component.qualifiedCode,Choice:o},o.qualifiedCode):n.jsx(I,{Choice:o},o.qualifiedCode))})})}function I(e){const i=x(),l=()=>{var r;return n.jsx(f,{control:n.jsx(v,{}),label:n.jsx(b,{sx:{fontFamily:i.textStyles.text.font,color:i.textStyles.text.color,fontSize:i.textStyles.text.size},children:(r=e.Choice.content)==null?void 0:r.label}),value:e.Choice.code},e.Choice.qualifiedCode)};return l?l():""}function B(e){const i=x(),l=e.Choice.answers[0],r=C(t=>{let s=t.runState.values[e.Choice.qualifiedCode],a=t.runState.values[l.qualifiedCode],p=t.runState.values.Survey.show_errors,w=t.templateState[l.qualifiedCode];return{showChoice:typeof(s==null?void 0:s.relevance)>"u"||s.relevance,childInvalid:(p||w)&&(a==null?void 0:a.relevance)===!0&&(a==null?void 0:a.validity)===!1,value:(a==null?void 0:a.value)||""}},h),o=m(),c=t=>{o(u({componentCode:t.target.name,value:t.target.value}))},j=t=>{o(u({componentCode:e.parentCode,value:e.Choice.code}))},q=t=>{o(z(t.target.name))},d=S.useRef(),y=t=>{t.target.checked&&d.current.focus()},g=()=>{var t,s,a;return n.jsxs("div",{className:"text-left d-flex",children:[n.jsx(f,{control:n.jsx(v,{}),label:n.jsx("div",{className:"w-100",children:n.jsx(E,{variant:"standard",required:((t=r.textChild)==null?void 0:t.relevance)&&((s=l.validation)==null?void 0:s.required),inputRef:d,id:l.qualifiedCode,name:l.qualifiedCode,label:(a=e.Choice.content)==null?void 0:a.label,onChange:c,onFocus:j,onBlur:q,value:r.value,InputProps:{sx:{fontFamily:i.textStyles.text.font,color:i.textStyles.text.color,fontSize:i.textStyles.text.size}},helperText:r.childInvalid?n.jsx(R,{component:l,limit:1}):""})}),onChange:y,value:e.Choice.code},e.Choice.qualifiedCode),n.jsx("p",{})]})};return r.showChoice?g():""}export{Q as default};
