import{j as t}from"./index-_S4YwDqB.js";import{w as s,y as _,K as w,J as C,M as j,N as y,z as f}from"./Android-C-a1KXUo.js";import{R as S}from"./index-7SO96q-n.js";import"./index-g0p8o0B7.js";const b="_container_bvkr6_2",k={container:b};function R(r){var c;const o=r.component,i=s(e=>e.runState.values[o.qualifiedCode]),l=s(e=>e.runState.preview),h=s(e=>e.runState.values.Survey.mode),d=_(),x=()=>{var u,m,p,v;const e=o.qualifiedCode,g=((m=(u=o.validation)==null?void 0:u.validation_max_file_size)==null?void 0:m.isActive)&&((v=(p=o.validation)==null?void 0:p.validation_max_file_size)==null?void 0:v.max_size)||-1;l&&h=="offline"?j("/dummy_video.mp4").then(n=>{y(e,l,n).then(a=>{d(f({componentCode:r.component.qualifiedCode,value:a}))}).catch(a=>{console.error(a)})}):window.Android?(window.Android.captureVideo(e,g),window["onVideoCaptured"+e]=n=>{d(f({componentCode:e,value:n}))}):console.log("no android device!!")};return t.jsxs(w,{className:k.container,children:[!i.value||!i.value.stored_filename?t.jsx("img",{onClick:x,src:"/video.png",style:{maxHeight:"200px"}}):t.jsx("div",{style:{position:"relative",marginTop:"16px",paddingTop:"56%"},children:t.jsx(S,{url:C(i.value.stored_filename),loop:!1,light:!0,controls:!0,config:{forceAudio:!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),t.jsx("br",{}),o.showHint&&t.jsx("span",{children:(c=o.content)==null?void 0:c.hint})]})}export{R as default};
