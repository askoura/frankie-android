{"version":3,"file":"index-pWNc0u2X.js","sources":["../../node_modules/@mui/icons-material/esm/MarkEmailRead.js","../../src/pages/manage/ConfirmSignup/index.jsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 19c0-3.87 3.13-7 7-7 1.08 0 2.09.25 3 .68V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h8.08c-.05-.33-.08-.66-.08-1zM4 6l8 5 8-5v2l-8 5-8-5V6zm13.34 16-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L23 16.34 17.34 22z\"\n}), 'MarkEmailRead');","import { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Box, Card, Typography } from \"@mui/material\";\nimport AuthService from \"~/services/AuthService\";\nimport styles from \"./ConfirmSignup.module.css\";\nimport { useTranslation } from \"react-i18next\";\nimport { PROCESSED_ERRORS, onApiError } from \"~/utils/errorsProcessor\";\nimport { onError, setLoading } from \"~/state/edit/editState\";\nimport { useDispatch } from \"react-redux\";\nimport { MarkEmailRead } from \"@mui/icons-material\";\n\nfunction ConfirmSignup() {\n  const { t } = useTranslation(\"manage\");\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { token } = useParams();\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(false);\n\n  const redirecOnSuccess = (data) => {\n    navigate(\"/\");\n  };\n\n  useEffect(() => {\n    confirmSignup();\n  }, []);\n\n  const confirmSignup = () => {\n    dispatch(setLoading(true));\n    AuthService.confirmSignup(token)\n      .then((data) => {\n        setSuccess(true);\n        setTimeout(() => {\n          redirecOnSuccess(data);\n        }, 10000);\n      })\n      .catch((e) => {\n        onApiError({\n          error: e,\n          globalErrorHandler: (processedError) => {\n            dispatch(onError(processedError));\n          },\n          locallErrorHandler: (processedError) => {\n            if (\n              processedError.name ==\n                PROCESSED_ERRORS.USED_CONFIRMATION_TOKEN.name ||\n              processedError.name ==\n                PROCESSED_ERRORS.EXPIRED_CONFIRMATION_TOKEN.name\n            ) {\n              setError(processed);\n            }\n          },\n        });\n      })\n      .finally(() => {\n        dispatch(setLoading(false));\n      });\n  };\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"calc(100vh - 80px)\",\n        overflow: \"auto\",\n        width: \"100vw\",\n        backgroundColor: \"#f7f8fc\",\n      }}\n    >\n      <Card className={styles.card}>\n        {success && (\n          <Box\n            sx={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              gap: \"3rem\",\n              alignItems: \"center\",\n            }}\n          >\n            <MarkEmailRead sx={{ fontSize: \"5rem\", color: \"#181735\" }} />\n            <Typography variant=\"h5\" fontWeight=\"600\">\n              {t(\"confirm_signup.success\")}\n            </Typography>\n            <Typography variant=\"subtitle1\">\n              {t(\"confirm_signup.info\")}\n            </Typography>\n          </Box>\n        )}\n        {error && (\n          <Box className={styles.errorText}>\n            {t(`processed_errors.${error}`)}\n          </Box>\n        )}\n      </Card>\n    </Box>\n  );\n}\n\nexport default ConfirmSignup;\n"],"names":["_jsx","useState","useEffect","jsx","jsxs"],"mappings":";;;;;;;;AAIA,MAAA,gBAAe,cAA4BA,kCAAI,IAAC,QAAQ;AAAA,EACtD,GAAG;AACL,CAAC,GAAG,eAAe;;;;;;;ACKnB,SAAS,gBAAgB;AACvB,QAAM,EAAE,EAAA,IAAM,eAAe,QAAQ;AACrC,QAAM,WAAW;AACjB,QAAM,WAAW;AACX,QAAA,EAAE,UAAU;AAClB,QAAM,CAAC,OAAO,QAAQ,IAAIC,sBAAS,EAAE;AACrC,QAAM,CAAC,SAAS,UAAU,IAAIA,sBAAS,KAAK;AAEtC,QAAA,mBAAmB,CAAC,SAAS;AACjC,aAAS,GAAG;AAAA,EAAA;AAGdC,eAAAA,UAAU,MAAM;AACA;EAChB,GAAG,CAAE,CAAA;AAEL,QAAM,gBAAgB,MAAM;AACjB,aAAA,WAAW,IAAI,CAAC;AACzB,gBAAY,cAAc,KAAK,EAC5B,KAAK,CAAC,SAAS;AACd,iBAAW,IAAI;AACf,iBAAW,MAAM;AACf,yBAAqB;AAAA,SACpB,GAAK;AAAA,IAAA,CACT,EACA,MAAM,CAAC,MAAM;AACD,iBAAA;AAAA,QACT,OAAO;AAAA,QACP,oBAAoB,CAAC,mBAAmB;AAC7B,mBAAA,QAAQ,cAAc,CAAC;AAAA,QAClC;AAAA,QACA,oBAAoB,CAAC,mBAAmB;AAEpC,cAAA,eAAe,QACb,iBAAiB,wBAAwB,QAC3C,eAAe,QACb,iBAAiB,2BAA2B,MAC9C;AACA,qBAAS,SAAS;AAAA,UACpB;AAAA,QACF;AAAA,MAAA,CACD;AAAA,IAAA,CACF,EACA,QAAQ,MAAM;AACJ,eAAA,WAAW,KAAK,CAAC;AAAA,IAAA,CAC3B;AAAA,EAAA;AAGH,SAAAC,kCAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,IAAI;AAAA,QACF,SAAS;AAAA,QACT,gBAAgB;AAAA,QAChB,YAAY;AAAA,QACZ,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,OAAO;AAAA,QACP,iBAAiB;AAAA,MACnB;AAAA,MAEA,UAACC,kCAAA,KAAA,MAAA,EAAK,WAAW,OAAO,MACrB,UAAA;AAAA,QACC,WAAAA,kCAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,IAAI;AAAA,cACF,SAAS;AAAA,cACT,eAAe;AAAA,cACf,KAAK;AAAA,cACL,YAAY;AAAA,YACd;AAAA,YAEA,UAAA;AAAA,cAAAD,sCAAC,iBAAc,IAAI,EAAE,UAAU,QAAQ,OAAO,aAAa;AAAA,cAC3DA,kCAAAA,IAAC,cAAW,SAAQ,MAAK,YAAW,OACjC,UAAA,EAAE,wBAAwB,GAC7B;AAAA,oDACC,YAAW,EAAA,SAAQ,aACjB,UAAA,EAAE,qBAAqB,GAC1B;AAAA,YAAA;AAAA,UAAA;AAAA,QACF;AAAA,QAED,SACEA,kCAAAA,IAAA,KAAA,EAAI,WAAW,OAAO,WACpB,UAAE,EAAA,oBAAoB,aAAO,EAChC,CAAA;AAAA,MAAA,GAEJ;AAAA,IAAA;AAAA,EAAA;AAGN;","x_google_ignoreList":[0]}