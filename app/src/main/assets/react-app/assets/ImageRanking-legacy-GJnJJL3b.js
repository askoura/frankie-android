!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=a.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){d=!0,i=e}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./index-legacy-BpzfoBKi.js","./Android-legacy-z5Tq9XsV.js","./Grid-legacy-q9Tnt2Yc.js"],(function(n,t){"use strict";var r,i,a,o,l,c,d,u,s,m,g;return{setters:[e=>{r=e.r,i=e.j,a=e.X},e=>{o=e.w,l=e.x,c=e.y,d=e.Q,u=e.C,s=e.E,m=e.z},e=>{g=e.G}],execute:function(){var t=document.createElement("style");t.textContent="._imageGrid_gkz8d_1{margin-top:16px}._imageContainer_gkz8d_5{background-size:contain;background-position:center;background-repeat:no-repeat}._rankContainer_gkz8d_11{display:table;text-align:center;vertical-align:middle;border:1px solid transparent;background-color:rgba(255,255,255,.7)}._rankValue_gkz8d_19{color:#fff;display:table-cell;vertical-align:middle}\n",document.head.appendChild(t),n("default",(function(n){const t=o((e=>{let t={};return n.component.answers.forEach((n=>{t[n.qualifiedCode]=e.runState.values[n.qualifiedCode].value})),t}),l),a=c(),d=r.useRef(null),u=e(r.useState(800),2),h=u[0],v=u[1];r.useEffect((()=>{var e;v(null==d||null===(e=d.current)||void 0===e?void 0:e.offsetWidth)}),[d]);const y=(h-n.component.columns*n.component.spacing*2)/n.component.columns,x=y/(n.component.imageAspectRatio||1);r.useEffect((()=>{const e=()=>{var e;v(null==d||null===(e=d.current)||void 0===e?void 0:e.offsetWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);return o((e=>e.runState.values.Survey.lang)),i.jsx(g,{ref:d,container:!0,className:p.imageGrid,children:n.component.answers.map((e=>i.jsx(f,{option:e,spacing:n.component.spacing,columns:n.component.columns,hideText:n.component.hideText,onClick:()=>(e=>{if(a(s(n.component.qualifiedCode)),a(s(n.parentCode)),+t[e]>0)a(m({componentCode:e,undefined:void 0}));else{let n=Object.keys(t),i=n.map((e=>t[e]));for(var r=1;r<=n.length;r++)if(!i.includes(r))return void a(m({componentCode:e,value:r}))}})(e.qualifiedCode),parentCode:n.component.qualifiedCode,imageHeight:x,imageWidth:y},e.qualifiedCode)))})}));const p={imageGrid:"_imageGrid_gkz8d_1",imageContainer:"_imageContainer_gkz8d_5",rankContainer:"_rankContainer_gkz8d_11",rankValue:"_rankValue_gkz8d_19"};function f(e){var n,t;const r=a(),c=o((n=>{let t=n.runState.values[e.option.qualifiedCode];return{showAnswer:void 0===(null==t?void 0:t.relevance)||t.relevance,value:(null==t?void 0:t.value)||0}}),l),s=null!==(n=e.option.resources)&&void 0!==n&&n.image?`url('${d(e.option.resources.image)}')`:"0";return i.jsxs(g,{item:!0,xs:12/e.columns,children:[i.jsx(u,{className:p.imageContainer,onClick:()=>e.onClick(),display:"flex",justifyContent:"center",alignItems:"center",style:{backgroundImage:s,backgroundColor:r.palette.background.default,margin:e.spacing+"px",boxShadow:2,height:e.imageHeight+"px",border:c.checked?`2px solid ${r.palette.primary.main}`:"2px solid transparent"},children:c.value>0&&i.jsx("div",{style:{height:Math.min(e.imageHeight,e.imageWidth)+"px",width:Math.min(e.imageHeight,e.imageWidth)+"px",borderRadius:Math.min(e.imageHeight,e.imageWidth)/2+"px",fontSize:Math.min(e.imageHeight,e.imageWidth)/2+"px"},className:p.rankContainer,children:i.jsx("span",{className:p.rankValue,style:{color:r.palette.primary.main},children:c.value})})}),!e.hideText&&i.jsx(u,{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size},children:null===(t=e.option.content)||void 0===t?void 0:t.label})]},e.option.code)}}}}))}();
