import{j as t}from"./index-_S4YwDqB.js";import{w as s,y as g,K as w,J as C,M as j,N as y,z as v}from"./Android-C-a1KXUo.js";const S="_container_bvkr6_2",z={container:S};function H(r){var m;const o=r.component,n=s(e=>e.runState.values[o.qualifiedCode]),c=s(e=>e.runState.preview),f=s(e=>e.runState.values.Survey.mode),l=g(),d=()=>{var u,p,x,h;const e=o.qualifiedCode,_=((p=(u=o.validation)==null?void 0:u.validation_max_file_size)==null?void 0:p.isActive)&&((h=(x=o.validation)==null?void 0:x.validation_max_file_size)==null?void 0:h.max_size)||-1;c&&f=="offline"?j("/dummy_image.png").then(i=>{y(e,c,i).then(a=>{l(v({componentCode:r.component.qualifiedCode,value:a}))}).catch(a=>{console.error(a)})}):window.Android?(window.Android.capturePhoto(e,_),window["onPhotoCaptured"+e]=i=>{l(v({componentCode:e,value:i}))}):console.log("no android device!!")};return t.jsxs(w,{className:z.container,sx:{maxHeight:"400px"},children:[!n.value||!n.value.stored_filename?t.jsx("img",{onClick:d,src:"/camera.png",style:{maxHeight:"200px",maxWidth:"100%"}}):t.jsx("img",{onClick:d,src:C(n.value.stored_filename),style:{maxHeight:"100%",maxWidth:"100%"}}),t.jsx("br",{}),o.showHint&&t.jsx("span",{children:(m=o.content)==null?void 0:m.hint})]})}export{H as default};
