{"version":3,"file":"index-75dd2589.js","sources":["../../src/pages/manage/ForgotPassword/index.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport {\n  Button,\n  TextField,\n  Box,\n  Typography,\n  FormHelperText,\n  FormGroup,\n} from \"@mui/material\";\nimport AuthService from \"~/services/AuthService\";\nimport styles from \"./ForgotPassword.module.css\";\nimport { useTranslation } from \"react-i18next\";\nimport { AuthWrap } from \"~/components/manage/AuthWrap\";\nimport { PROCESSED_ERRORS, processError } from \"~/utils/errorsProcessor\";\n\nfunction ForgotPassword() {\n  const { t, i18n } = useTranslation(\"manage\");\n  const [loading, setLoading] = useState(false);\n  const [isSuccess, setSuccess] = useState(false);\n\n  const [email, setEmail] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const [processedError, setProcessedError] = useState(\"\");\n  const [showError, setShowError] = useState(false);\n\n  const onEmailChanged = (e) => {\n    setEmail(e.target.value);\n    setEmailError(\"\");\n  };\n\n  const onSubmit = () => {\n    setEmailError(\"\")\n    if(email.length == 0){\n      setEmailError(t(\"email_required\"));\n      return false\n    }\n    setLoading(true);\n    AuthService.forgotPassword(email)\n      .then((data) => {\n        setSuccess(true);\n      })\n      .catch((e) => {\n        const processed = processError(e);\n        switch (processed) {\n          case PROCESSED_ERRORS.NETWORK_ERR:\n          case PROCESSED_ERRORS.BACKEND_DOWN:\n            setShowError(true);\n            setProcessedError(processed);\n            break;\n        }\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n\n  return (\n    <AuthWrap\n      loading={loading}\n      showError={showError}\n      processedError={processedError}\n      handleClose={() => setShowError(false)}\n    >\n      <Box className={styles.wrapper}>\n        <Box className={styles.content}>\n          <Typography variant=\"h4\">{t(\"forgot_password.title\")}</Typography>\n          {isSuccess ? (\n            <Box className={styles.successText}>\n              {t(\"forgot_password.success\")}\n            </Box>\n          ) : (\n            <Box className={styles.form}>\n              <FormGroup>\n                <TextField\n                  error={emailError.length > 0}\n                  id=\"email\"\n                  value={email}\n                  required={true}\n                  onChange={onEmailChanged}\n                  label={t(\"label.email\")}\n                  name=\"email\"\n                  variant=\"standard\"\n                />\n\n                {emailError && (\n                  <FormHelperText className={styles.errorText}>\n                    {emailError}\n                  </FormHelperText>\n                )}\n                <FormHelperText>\n                  {t(\"forgot_password.helper_text\")}\n                </FormHelperText>\n              </FormGroup>\n              <Button onClick={onSubmit} sx={{ mt: \"40px\" }}>\n                {t(\"forgot_password.send\")}\n              </Button>\n            </Box>\n          )}\n        </Box>\n      </Box>\n    </AuthWrap>\n  );\n}\n\nexport default ForgotPassword;\n"],"names":["useState","jsx","jsxs"],"mappings":";;;;;;;;;;;;;;;;AAeA,SAAS,iBAAiB;AACxB,QAAM,EAAE,GAAG,KAAK,IAAI,eAAe,QAAQ;AAC3C,QAAM,CAAC,SAAS,UAAU,IAAIA,sBAAS,KAAK;AAC5C,QAAM,CAAC,WAAW,UAAU,IAAIA,sBAAS,KAAK;AAE9C,QAAM,CAAC,OAAO,QAAQ,IAAIA,sBAAS,EAAE;AACrC,QAAM,CAAC,YAAY,aAAa,IAAIA,sBAAS,EAAE;AAC/C,QAAM,CAAC,gBAAgB,iBAAiB,IAAIA,sBAAS,EAAE;AACvD,QAAM,CAAC,WAAW,YAAY,IAAIA,sBAAS,KAAK;AAE1C,QAAA,iBAAiB,CAAC,MAAM;AACnB,aAAA,EAAE,OAAO,KAAK;AACvB,kBAAc,EAAE;AAAA,EAAA;AAGlB,QAAM,WAAW,MAAM;AACrB,kBAAc,EAAE;AACb,QAAA,MAAM,UAAU,GAAE;AACL,oBAAA,EAAE,gBAAgB,CAAC;AAC1B,aAAA;AAAA,IACT;AACA,eAAW,IAAI;AACf,gBAAY,eAAe,KAAK,EAC7B,KAAK,CAAC,SAAS;AACd,iBAAW,IAAI;AAAA,IAAA,CAChB,EACA,MAAM,CAAC,MAAM;AACN,YAAA,YAAY,aAAa,CAAC;AAChC,cAAQ,WAAW;AAAA,QACjB,KAAK,iBAAiB;AAAA,QACtB,KAAK,iBAAiB;AACpB,uBAAa,IAAI;AACjB,4BAAkB,SAAS;AAC3B;AAAA,MACJ;AAAA,IAAA,CACD,EACA,QAAQ,MAAM;AACb,iBAAW,KAAK;AAAA,IAAA,CACjB;AAAA,EAAA;AAKH,SAAAC,kCAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA,aAAa,MAAM,aAAa,KAAK;AAAA,MAErC,UAAAA,kCAAAA,IAAC,OAAI,WAAW,OAAO,SACrB,UAACC,kCAAA,KAAA,KAAA,EAAI,WAAW,OAAO,SACrB,UAAA;AAAA,QAAAD,sCAAC,YAAW,EAAA,SAAQ,MAAM,UAAA,EAAE,uBAAuB,GAAE;AAAA,QACpD,YACCA,kCAAA,IAAC,KAAI,EAAA,WAAW,OAAO,aACpB,UAAA,EAAE,yBAAyB,EAC9B,CAAA,IAEAC,kCAAAA,KAAC,KAAI,EAAA,WAAW,OAAO,MACrB,UAAA;AAAA,UAAAA,uCAAC,WACC,EAAA,UAAA;AAAA,YAAAD,kCAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,OAAO,WAAW,SAAS;AAAA,gBAC3B,IAAG;AAAA,gBACH,OAAO;AAAA,gBACP,UAAU;AAAA,gBACV,UAAU;AAAA,gBACV,OAAO,EAAE,aAAa;AAAA,gBACtB,MAAK;AAAA,gBACL,SAAQ;AAAA,cAAA;AAAA,YACV;AAAA,YAEC,cACEA,kCAAAA,IAAA,gBAAA,EAAe,WAAW,OAAO,WAC/B,UACH,YAAA;AAAA,YAEDA,kCAAA,IAAA,gBAAA,EACE,UAAE,EAAA,6BAA6B,EAClC,CAAA;AAAA,UAAA,GACF;AAAA,UACAA,kCAAAA,IAAC,QAAO,EAAA,SAAS,UAAU,IAAI,EAAE,IAAI,OAAO,GACzC,UAAE,EAAA,sBAAsB,EAC3B,CAAA;AAAA,QAAA,GACF;AAAA,MAAA,EAAA,CAEJ,EACF,CAAA;AAAA,IAAA;AAAA,EAAA;AAGN;"}