"use strict";(self.webpackChunkfrankie_react=self.webpackChunkfrankie_react||[]).push([[238],{64617:function(e,n,t){t.d(n,{Z:function(){return c}});t(72791);var i=t(95048),o=t(25248),r="Layout_main__FV28D",a=t(50228),l=t(80184);function c(e){var n=(0,i.v9)((function(e){return e.template.isLoading}));return(0,l.jsxs)(a.Z,{className:r,sx:{backgroundColor:"background.default",color:"text.primary"},children:[n?(0,l.jsx)(o.Z,{}):null,e.children]})}},83238:function(e,n,t){t.r(n),t.d(n,{default:function(){return vo}});var i=t(1413),o=t(72791),r=t(71287),a=t(21703),l=t(57012),c=t(75579),s=t(64617),d="EditSurvey_mainContainer__660V1",u="EditSurvey_updateButtons__LFbuB",v=t(29439),_=t(74244),f=t(48656),m=t(24643),h="TextQuestionDesign_questionItem__EDG6-",p=t(74142),g=t(95048),x=t(80184);var j=function(e){var n,t,i,o,r=e.code,a=(0,p.Z)(),l=(0,g.v9)((function(e){return e.designState[r]})),c=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:h,children:(0,x.jsx)(m.Z,{disabled:!0,variant:"standard",required:!(null===(n=l.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:l.showHint&&((null===(i=l.content)||void 0===i||null===(o=i.hint)||void 0===o?void 0:o[c])||""),value:"",InputProps:{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}}})})},y="EmailQuestionDesign_questionItem__BJLQa";var b=function(e){var n,t,i,o,r=e.code,a=(0,p.Z)(),l=(0,g.v9)((function(e){return e.designState[r]})),c=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:y,children:(0,x.jsx)(m.Z,{disabled:!0,variant:"standard",required:!(null===(n=l.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:l.showHint&&((null===(i=l.content)||void 0===i||null===(o=i.hint)||void 0===o?void 0:o[c])||""),InputProps:{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}},value:""})})},Z="NumberQuestionDesign_questionItem__BtoyZ";var S=function(e){var n,t,i,o,r=e.code,a=(0,p.Z)(),l=(0,g.v9)((function(e){return e.designState[r]})),c=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:Z,children:(0,x.jsx)(m.Z,{disabled:!0,variant:"standard",required:!(null===(n=l.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:l.showHint&&((null===(i=l.content)||void 0===i||null===(o=i.hint)||void 0===o?void 0:o[c])||""),value:"",InputProps:{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}}})})},C=t(71747),I="ParagraphQuestionDesign_questionItem__1iaDm",w="ParagraphQuestionDesign_paragraph__bAU0T",N="ParagraphQuestionDesign_wordCount__7Meli";var k=function(e){var n,t,i,o,r=e.code,a=e.t,l=(0,g.v9)((function(e){return e.designState[r]})),c=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsxs)("div",{className:I,children:[(0,x.jsx)(C.Z,{disabled:!0,className:w,required:!(null===(n=l.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),placeholder:l.showHint&&((null===(i=l.content)||void 0===i||null===(o=i.hint)||void 0===o?void 0:o[c])||""),minRows:l.minRows||2,value:""}),l.showWordCount?(0,x.jsx)("div",{className:N,children:(0,x.jsx)("span",{children:a("word_count",{lng:c,count:0})})}):""]})},q="QuestionDesign_textDescriptionContent__esAki",D="QuestionDesign_groupQuestion__6eWyU",A="QuestionDesign_titleQuestion__JyiBU",P="QuestionDesign_questionWrapper__PwQ1z",L="QuestionDesign_moveBox__dVlu+",E=t(15614),O="ContentEditor_fullWidth__Dd36B",z="ContentEditor_noPadding__ohOAq",R="ContentEditor_placeholder__c-aPx",F=t(50228),T=t(74165),M=t(15861),Y=(t(86009),t(66770)),B=t.n(Y),V=t(95943),H=(t(33193),t(57126)),Q=function(e,n){var t=[];if(!e)return t;var i=e.find((function(e){return e.code===n}));if(!i)return t;i.parent&&K(e,i).forEach((function(n){t=t.concat(W(e,n))}));return((0,H.ty)(i.code)||(0,H.KX)(i.code))&&(t=t.concat(W(e,i))),t},K=function e(n,t){var i=[],o=n.find((function(e){return e.code===t.parent}));return o&&o.parent&&(i.push(o),i=i.concat(e(n,o))),i},W=function(e,n){var t=[];if(!(0,H.ty)(n.code)&&!(0,H.KX)(n.code))return t;var i=e.filter((function(e){return e.parent===n.parent&&e.maxIndex<n.minIndex&&(!n.prioritisedSiblings||-1===n.prioritisedSiblings.indexOf(e.code))}));return i.forEach((function(n){t=(t=t.concat(n.code)).concat(G(e,n))})),t},G=function e(n,t){var i=[];return(0,H.ty)(t.code)?(t.children&&t.children.forEach((function(t){var o=n.find((function(e){return e.code===t}));i=(i=i.concat(o.code)).concat(e(n,o))})),i):i},U=function(e,n,t,i){var o=Q(e,n),r=[];return o.forEach((function(e){if((0,H.KX)(e)){var n=X(e,t[e],t,i);n.length&&(r=r.concat(n))}})),r},X=function(e,n,t,i){var o,r,a=e+". "+(0,H.oN)(null===(o=n.content)||void 0===o||null===(r=o.label)||void 0===r?void 0:r[i]),l="",c=n.type;switch(n.type){case"scq_array":return n.children.filter((function(e){return"row"==e.type})).map((function(n){var o,r;return{value:a+" - "+e+". "+(0,H.oN)(null===(o=t[n.qualifiedCode].content)||void 0===o||null===(r=o.label)||void 0===r?void 0:r[i]),id:e+n.code,type:"SCQ Array Row",instruction:e+n.code+".masked_value"}}));case"text":c="Short Text",l="".concat(e,".value");break;case"nps":c="NPS",l="".concat(e,".value");break;case"email":c="Email",l="".concat(e,".value");break;case"paragraph":l="".concat(e,".value"),c="Long Text";break;case"number":c="Number",l="".concat(e,".value");break;case"date":c="Date",l="".concat(e,".masked_value");break;case"time":c="time",l="".concat(e,".masked_value");break;case"date_time":c="Date Time",l="".concat(e,".masked_value");break;case"scq":c="SCQ",l="".concat(e,".masked_value");break;case"image_scq":c="Image SCQ",l="".concat(e,".masked_value");break;case"mcq":c="MCQ",l="".concat(e,".masked_value");break;case"image_mcq":c="Image MCQ",l="".concat(e,".masked_value");break;default:return[]}return[{id:e,instruction:l,value:a,type:c}]},J=t(42038);function $(e){var n=e.value,t=e.onBlurListener,r=e.extended,a=e.isRtl,l=e.lang,c=e.code;console.log("DraftEditor for: "+c);var s=function(e,n){return n?"<p>"+e.replace(/<br>/gi,"").replace(/<p>/gi,"").replace(/<\/p>/,"")+"</p>":e},d=o.createRef(),u=(0,o.useState)(s(n,!r)),_=(0,v.Z)(u,2),f=_[0],m=_[1],h=(0,o.useState)(0),p=(0,v.Z)(h,2),g=p[0],j=p[1];function y(e){return b.apply(this,arguments)}function b(){return b=(0,M.Z)((0,T.Z)().mark((function e(n){var t,i,o,r;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=J.Kj.getState().designState,i=U(t.componentIndex,c,t,t.langInfo.mainLang),0!==n.length){e.next=6;break}return e.abrupt("return",i);case 6:for(o=[],r=0;r<i.length;r++)i[r].value.toLowerCase().indexOf(n.toLowerCase())>=0&&o.push(i[r]);return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}(0,o.useEffect)((function(){var e=d.current.getEditor();e.setSelection(e.getLength(),0)}),[d.current]);var Z=(0,o.useMemo)((function(){return{mention:{dataAttributes:["instruction","type"],isolateCharacter:!0,allowedChars:/[^\p{L}\p{N}]*$/,mentionDenotationChars:["@"],showDenotationChar:!1,onSelect:function(e,n){n((0,i.Z)((0,i.Z)({},e),{},{value:"{{".concat(e.id,":").concat(e.type,"}}")}))},source:function(){var e=(0,M.Z)((0,T.Z)().mark((function e(n,t){var i;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n);case 2:i=e.sent,t(i);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},toolbar:{container:r?[["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]:[["bold","italic","underline","strike","link"],[{color:[]},{background:[]}],["clean"]]}}}),[]),S=null,C=function(){j(Date.now()),S&&clearTimeout(S)};return(0,x.jsx)("div",{onFocus:C,onBlur:function(){Date.now()-g>100&&(S=setTimeout((function(){t(f,l)}),100))},children:(0,x.jsx)(B(),{className:a?"rtl":"ltr",theme:"snow",ref:d,modules:Z,formats:["bold","italic","underline","strike","direction","list","bullet","indent","color","background","mention","link"],value:f,onChange:function(e){C(),m(s(e,!r))}})})}Y.Quill.register("modules/mentions",V.Z);var ee=o.memo($),ne=t(76723);function te(e){var n=e.placeholder,t=e.extended,i=e.contentKey,r=e.code,a=e.onActive;console.log("ContentEditor for : "+r);var l=(0,g.I0)(),c=(0,g.v9)((function(e){var n;return null===(n=e.designState[r].content)||void 0===n?void 0:n[i]})),s=(0,g.v9)((function(e){return e.designState.langInfo})),d=s.lang,u=s.mainLang,_=s.mainLang==s.lang,f=(null===c||void 0===c?void 0:c[d])||"",m=_?n:(null===c||void 0===c?void 0:c[u])||n,h=(0,o.useState)(!1),p=(0,v.Z)(h,2),j=p[0],y=p[1],b=E.Bc.includes(d);return(0,x.jsx)(F.Z,{className:O,onClick:function(e){e.preventDefault(),y(!0),a()},children:j?(0,x.jsx)(ee,{lang:d,isRtl:b,code:r,extended:t,onBlurListener:function(e,n){y(!1),d==n&&e!=f&&l((0,ne.ve)({code:r,key:i,lang:d,value:e}))},value:f}):/[^<br><p><\/p>\s]/gm.test(f)?(0,x.jsx)("div",{className:"".concat(b?"rtl":"ltr"," ql-editor ").concat(z),dangerouslySetInnerHTML:{__html:f}}):(0,x.jsx)("div",{className:"".concat(b?"rtl":"ltr"," ql-editor ").concat(R),dangerouslySetInnerHTML:{__html:m}})})}var ie=o.memo(te),oe="FileUploadQuestionDesign_questionItem__-vw7A";var re=function(e){var n,t,i=e.code,o=(0,p.Z)(),r=(0,g.v9)((function(e){return e.designState[i]})),a=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:oe,children:(0,x.jsx)(m.Z,{variant:"standard",required:!(null===(n=r.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:r.showHint&&r.content.hint?r.content.hint[a]:"",InputProps:{sx:{fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}},value:"",type:"file",disabled:!0})})},ae="DateTimeQuestionDesign_questionItem__YMDye";var le=function(e){var n,t,i=e.code,o=(0,p.Z)(),r=(0,g.v9)((function(e){return e.designState[i]})),a=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:ae,children:(0,x.jsx)(m.Z,{disabled:!0,variant:"standard",required:!(null===(n=r.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:r.showHint&&r.content.hint?r.content.hint[a]:"",value:"",InputProps:{sx:{fontFamily:o.textStyles.text,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}},placeholder:r.dateFormat})})},ce="TimeQuestionDesign_questionItem__iDKIk";var se=function(e){var n,t,i=e.code,o=(0,p.Z)(),r=(0,g.v9)((function(e){return e.designState[i]})),a=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:ce,children:(0,x.jsx)(m.Z,{disabled:!0,variant:"standard",required:!(null===(n=r.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:r.showHint&&r.content.hint?r.content.hint[a]:"",value:"",type:"time",InputProps:{sx:{fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}}})})},de={answerAdd:"ChoiceQuestion_answerAdd__9qS4f",answerIcon:"ChoiceQuestion_answerIcon__sVvpM"},ue=t(16378),ve=t(98937),_e=t(44897),fe="ChoiceQuestionItem_answerItem__N6qqg",me="ChoiceQuestionItem_answerIcon__Z6vZ9",he="ChoiceQuestionItem_answerIconOther__WSecR",pe="ChoiceQuestionItem_answerNumberOrder__zPAV+",ge="ChoiceQuestionItem_answerControl__MZIIJ",xe="ChoiceQuestionItem_answerControlRtl__0brpr",je="ChoiceQuestionItem_answerControlOther__Yl0co",ye="ChoiceQuestionItem_answerControlOtherRtl__q7NUW",be=t(47462),Ze=t(29823),Se=t(22482),Ce=t(78527),Ie=t(83708);var we=function(e){var n=(0,g.I0)(),t=(0,p.Z)(),o=(0,g.v9)((function(e){return e.designState.langInfo})),a=(0,g.v9)((function(n){return n.designState[e.qualifiedCode]})),l=o.lang===o.mainLang,c=o.lang,s=E.Bc.includes(c),d=(0,g.v9)((function(n){var t;return"other"===a.type&&(null===(t=n.designState.setup)||void 0===t?void 0:t.code)==e.qualifiedCode+"Atext"})),u=(0,g.v9)((function(n){var t,i;return null===(t=n.designState[e.qualifiedCode].content)||void 0===t||null===(i=t.label)||void 0===i?void 0:i[c]})),v=(0,g.v9)((function(n){var t,i;return null===(t=n.designState[e.qualifiedCode].content)||void 0===t||null===(i=t.label)||void 0===i?void 0:i[o.mainLang]})),_=function(n){switch(n){case"radio":return(0,x.jsx)(ue.Z,{className:me,sx:{fontSize:18,color:Se.Z[600]}});case"checkbox":return(0,x.jsx)(ve.default,{className:me,sx:{fontSize:18,color:Se.Z[600]}});case"numberOrder":return(0,x.jsx)("div",{className:pe,style:{fontFamily:t.textStyles.text.font,color:t.textStyles.text.color,fontSize:18},children:e.code})}};return(0,x.jsx)(r._l,{draggableId:e.qualifiedCode,index:e.index,children:function(o){return(0,x.jsxs)(F.Z,(0,i.Z)((0,i.Z)((0,i.Z)({sx:{backgroundColor:d?"beige":"inherit"},ref:o.innerRef},o.draggableProps),o.dragHandleProps),{},{className:fe,children:[(0,x.jsx)(be.Z,{className:me,sx:{fontSize:18,color:Se.Z[600]}}),_(e.type),e.label?(0,x.jsx)("b",{children:e.label}):"",(0,x.jsx)(m.Z,{variant:"standard",className:"other"===a.type&&s?ye:"other"===a.type?je:s?xe:ge,value:u||"",onChange:function(t){return n((0,ne.ve)({code:e.qualifiedCode,key:"label",lang:c,value:t.target.value}))},placeholder:l?"Option":v||"Option",InputProps:{sx:{fontFamily:t.textStyles.text.font,color:t.textStyles.text.color,fontSize:t.textStyles.text.size}}}),"other"===a.type&&(0,x.jsx)(Ce.Z,{sx:{fontSize:18,color:Se.Z[600]},className:he,onClick:function(){n((0,ne.cY)({code:e.qualifiedCode+"Atext",rules:(0,Ie.I3)("other_text")}))}},"setup"),(0,x.jsx)(Ze.Z,{sx:{fontSize:18,color:Se.Z[600]},className:me,onClick:function(t){return n((0,ne.EU)(e.qualifiedCode))}},"close")]}))}})};var Ne=function(e){var n=(0,p.Z)(),t=e.t,o=(0,g.v9)((function(n){return n.designState[e.code].children})),a=(0,g.v9)((function(n){return n.designState[e.code].type})),l=("mcq"==a||"scq"==a)&&(!o||!o.some((function(e){return"Aother"===e.code})));return(0,x.jsxs)("div",{className:de.questionItem,children:[(0,x.jsx)(r.bK,{droppableId:"option-".concat(e.code),type:"option-".concat(e.code),children:function(n){return(0,x.jsxs)("div",(0,i.Z)((0,i.Z)({ref:n.innerRef},n.droppableProps),{},{children:[o&&o.length>0&&o.map((function(n,t){return(0,x.jsx)(we,{code:n.code,label:n.code,qualifiedCode:n.qualifiedCode,index:t,type:e.type},n.code)})),n.placeholder]}))}}),(0,x.jsxs)("div",{className:de.answerAdd,children:["checkbox"===e.type?(0,x.jsx)(ve.default,{style:{fontSize:18,color:Se.Z[600]},className:de.answerIcon}):"radio"===e.type?(0,x.jsx)(ue.Z,{style:{fontSize:18,color:Se.Z[600]},className:de.answerIcon}):(0,x.jsx)(_e.Z,{style:{fontSize:18,color:Se.Z[600]},className:de.answerIcon}),(0,x.jsx)(c.Z,{size:"small",style:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},onClick:function(){return e.addNewAnswer(e.code,a)},children:t("add_option")}),l&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{children:t("or")}),(0,x.jsx)(c.Z,{style:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},size:"small",className:de.answerIcon,onClick:function(){return e.addNewAnswer(e.code,a,"other")},children:t("add_other")})]})]})]})},ke="SCQArray_scqList__tpRDP",qe="SCQArray_scqItem__qj08e",De="SCQArray_answerAdd__UmJHS";var Ae=function(e){var n=(0,p.Z)(),t=e.t,o=(0,g.v9)((function(n){var t;return(null===(t=n.designState[e.code].children)||void 0===t?void 0:t.filter((function(e){return"row"==e.type})))||[]})),a=(0,g.v9)((function(n){var t;return(null===(t=n.designState[e.code].children)||void 0===t?void 0:t.filter((function(e){return"column"==e.type})))||[]}));return(0,x.jsxs)("div",{className:ke,children:[(0,x.jsx)(r.bK,{droppableId:"row-".concat(e.code),type:"row-".concat(e.code),children:function(r){return(0,x.jsxs)("div",(0,i.Z)((0,i.Z)({ref:r.innerRef},r.droppableProps),{},{className:qe,children:[(0,x.jsx)("h5",{children:"Rows"}),o&&o.map((function(e,n){return(0,x.jsx)(we,{code:e.code,index:n,qualifiedCode:e.qualifiedCode,type:"numberOrder"},e.code)})),r.placeholder,(0,x.jsx)("div",{className:De,children:(0,x.jsx)(c.Z,{sx:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},onClick:function(n){return e.addNewAnswer(e.code,e.type,"row")},children:t("add_row")})})]}))}}),(0,x.jsx)(r.bK,{droppableId:"col-".concat(e.code),type:"col-".concat(e.code),children:function(o){return(0,x.jsxs)("div",(0,i.Z)((0,i.Z)({ref:o.innerRef},o.droppableProps),{},{className:qe,children:[(0,x.jsx)("h5",{children:"Columns"}),a&&a.map((function(e,n){return(0,x.jsx)(we,{code:e.code,index:n,qualifiedCode:e.qualifiedCode,type:"radio"},e.code)})),o.placeholder,(0,x.jsx)("div",{className:De,children:(0,x.jsx)(c.Z,{sx:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},size:"small",onClick:function(n){return e.addNewAnswer(e.code,e.type,"column")},children:t("add_column")})})]}))}})]})},Pe="ErrorDisplay_errorDisplay__V716q",Le="ErrorDisplay_clickable__4fP-L",Ee=t(15146),Oe=t(22020),ze=t(42237);function Re(e){var n,t=(0,Oe.$)("design").t,o=(0,g.I0)(),r=(0,g.v9)((function(n){return n.designState[e.code]})),a=r.errors,l=r.designErrors,c=null===(n=r.instructionList)||void 0===n?void 0:n.filter((function(e){return e.errors})),s=(null===a||void 0===a?void 0:a.length)>0||(null===l||void 0===l?void 0:l.length)>0||(null===c||void 0===c?void 0:c.length)>0,d=(0,g.v9)((function(n){var t;return"Survey"==e.code?"":(0,H.ty)(e.code)?(null===(t=n.designState[e.code].groupType)||void 0===t?void 0:t.toLowerCase())||"group":n.designState[e.code].type}));return s?(0,x.jsxs)(F.Z,{className:Pe,children:[a&&a.map((function(n){return(0,x.jsxs)("div",{children:[(0,x.jsx)(Ze.Z,{style:{verticalAlign:"middle"}}),Fe(e.code,n,t)]},n)})),l&&l.map((function(e){return(0,x.jsxs)("div",{children:[(0,x.jsx)(Ze.Z,{style:{verticalAlign:"middle"}}),e.message]},e.code)})),c&&c.map((function(n){return(0,x.jsxs)("div",{className:(r=n,"conditional_relevance"===r.code||"random_group"===r.code||"priority_groups"===r.code||r.code.startsWith("skip_to")?Le:""),onClick:function(){return function(n){return"conditional_relevance"===n.code?o((0,ne.cY)({code:e.code,rules:(0,Ie.I3)(d),highlighted:"relevance",expanded:["relevance"]})):"random_group"===n.code||"priority_groups"===n.code?"Survey"==e.code?o((0,ne.cY)((0,i.Z)((0,i.Z)({},Ie.vv),{},{highlighted:"random"}))):o((0,ne.cY)({code:e.code,rules:(0,Ie.I3)(d),highlighted:"random",expanded:["random"]})):n.code.startsWith("skip_to")&&o((0,ne.cY)({code:e.code,rules:(0,Ie.I3)(d),highlighted:"skip_logic",expanded:["skip_logic"]})),""}(n)},children:[(0,x.jsx)(Ee.Z,{style:{verticalAlign:"middle"}}),Te(n,t)]},n.code);var r}))]}):""}var Fe=function(e,n,t){return"EMPTY_PARENT"===n?t("err_empty_parent",{component_name:Me(e,t),child_name:Ye(e,t)}):"DUPLICATE_CODE"===n?(t("err_duplicate_code"),{component_name:Me(e,t)}):"NO_END_GROUP"===n?t("err_no_end_group"):"MISPLACED_END_GROUP"===n?t("err_misplaced_end_group"):"MISPLACED_WELCOME_GROUP"===n?t("err_misplaced_welcome_group"):""},Te=function(e,n){return"value"===e.code&&"ValueInEndGroup"==e.errors[0].name?n("err_value_in_end_group"):"conditional_relevance"===e.code?n("err_relevance"):"random_group"===e.code?n("err_random"):"priority_groups"===e.code?n("err_priority"):e.code.startsWith("reference")?(0,x.jsx)(ze.c,{t:n,values:{codes:e.errors.map((function(e){return e.dependency.componentCode})).join(", "),lang:e.lang},i18nKey:"err_reference"}):e.code.startsWith("skip_to")?n("err_skip"):""},Me=function(e,n){return"Survey"==e?n("survey"):(0,H.KX)(e)?n("question"):(0,H.ty)(e)?n("group"):n("option")},Ye=function(e,n){return(0,H.ty)(e)?n("question"):n("Survey"==e?"group":"option")},Be=(0,o.memo)(Re),Ve=t(75196),He=t(51508),Qe="ActionToolbar_actionControl__yq1fK",Ke="ActionToolbar_statusIcon__O6YRN",We="ActionToolbar_actionIcon__NtsQP",Ge="ActionToolbar_settingIcon__njjP9",Ue="ActionToolbar_deleteIcon__q5C-6",Xe=t(82271),Je=t(91291),$e=t(32207),en=t(3746),nn=t(59581),tn=t(50194),on=t(14373),rn=t(60428),an=t(40842);var ln=function(e){var n=e.code,t=e.isGroup,o=e.parentCode,r=e.collapsed,a=e.toggleCollapse,l=e.disableDelete,c=e.onDelete,s=e.onClone,d=e.t,u=(0,g.I0)(),v=(0,g.v9)((function(e){var i;return t?(null===(i=e.designState[n].groupType)||void 0===i?void 0:i.toLowerCase())||"group":e.designState[n].type})),_=(0,g.v9)((function(e){var t,i,o=null===(t=e.designState[n])||void 0===t||null===(i=t.instructionList)||void 0===i?void 0:i.find((function(e){return"conditional_relevance"==e.code}));return"undefined"!==typeof o&&!o.errors})),f=(0,g.v9)((function(e){var i,o,r;return!t&&(null===(i=e.designState[n])||void 0===i||null===(o=i.instructionList)||void 0===o||null===(r=o.filter((function(e){return e.code.startsWith("validation_")&&!e.errors})))||void 0===r?void 0:r.length)>0})),m=function(){u(t?(0,ne.cY)((0,i.Z)((0,i.Z)({},Ie.vv),{},{highlighted:"random"})):(0,ne.cY)({code:o,rules:(0,Ie.I3)("group"),highlighted:"random",expanded:["random"]}))},h=(0,g.v9)((function(e){var t,i,o,r=null===(t=e.designState[n])||void 0===t||null===(i=t.instructionList)||void 0===i?void 0:i.filter((function(e){return e.code.startsWith("skip_to")}));return(null===r||void 0===r||null===(o=r.filter((function(e){return!e.errors})))||void 0===o?void 0:o.length)>=1})),p=(0,g.v9)((function(e){var t,i=null===(t=e.designState.componentIndex)||void 0===t?void 0:t.find((function(e){return e.code==n}));return i&&i.minIndex!=i.maxIndex})),j=(0,g.v9)((function(e){var t,i=null===(t=e.designState.componentIndex)||void 0===t?void 0:t.find((function(e){return e.code==n}));return i&&i.prioritisedSiblings}));return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:Qe,children:[(0,x.jsx)(Ve.Z,{onClick:a,children:r?(0,x.jsx)($e.Z,{}):(0,x.jsx)(Je.Z,{})}),_&&(0,x.jsx)(He.Z,{title:"Has show/Hide Condition",children:(0,x.jsx)(Ve.Z,{className:Ke,onClick:function(){u((0,ne.cY)({code:n,rules:(0,Ie.I3)(v),highlighted:"relevance",expanded:["relevance"]}))},children:(0,x.jsx)(en.Z,{})})}),f&&(0,x.jsx)(He.Z,{title:"Has Validation",children:(0,x.jsx)(Ve.Z,{className:Ke,onClick:function(){u((0,ne.cY)({code:n,rules:(0,Ie.I3)(v),highlighted:"validation",expanded:["validation"]}))},children:(0,x.jsx)(nn.Z,{})})}),p&&(0,x.jsx)(He.Z,{title:"Is part of a valid Random Group (within parent)",children:(0,x.jsx)(Ve.Z,{className:Ke,onClick:function(){return m()},children:(0,x.jsx)(on.Z,{})})}),j&&(0,x.jsx)(He.Z,{title:"Is part of a valid Priority Group (within parent)",children:(0,x.jsx)(Ve.Z,{className:Ke,onClick:function(){return m()},children:(0,x.jsx)(rn.Z,{})})}),h&&(0,x.jsx)(He.Z,{title:"Has active Skip Logic",children:(0,x.jsx)(Ve.Z,{className:Ke,onClick:function(){u((0,ne.cY)({code:n,rules:(0,Ie.I3)(v),highlighted:"skip_logic",expanded:["skip_logic"]}))},children:(0,x.jsx)(an.Z,{})})}),"welcome"!=v&&"end"!=v&&(0,x.jsx)(Ve.Z,{onClick:function(){u((0,ne.cY)({code:n,rules:(0,Ie.I3)(v)}))},children:(0,x.jsx)(Ce.Z,{className:Ge})}),!t&&(0,x.jsx)(Ve.Z,{onClick:function(){return s()},children:(0,x.jsx)(tn.Z,{className:We})}),(0,x.jsx)(Ve.Z,{onClick:function(){window.confirm(d("are_you_sure"))&&c()},disabled:l,children:(0,x.jsx)(Xe.Z,{className:Ue})})]})})},cn=t(93433),sn={addAnswerIcon:"ImageChoiceQuestion_addAnswerIcon__XBShg",addAnswerButton:"ImageChoiceQuestion_addAnswerButton__7AZ4K"},dn=t(11749),un=t(95152),vn="ImageChoiceQuestionItem_imageIconButton__qWlaj",_n="ImageChoiceQuestionItem_imageContainer__c6Ftx",fn="ImageChoiceQuestionItem_addAnswerIcon__Zq8j3",mn="ImageChoiceQuestionItem_addAnswerButton__tNoUp",hn=t(48928),pn=t(85399),gn=t(235),xn=t(8181),jn=t(42419);var yn=function(e){var n,t=e.qualifiedCode,i=e.imageHeight,o=e.hideText,r=e.spacing,a=e.type,l=e.addAnswer,c=(0,g.I0)(),s=(0,p.Z)(),d=(0,g.v9)((function(e){return e.designState.langInfo})),u=(0,g.v9)((function(e){return"add"==a?void 0:e.designState[t]})),v=d.lang===d.mainLang,_=d.lang,f=(0,g.v9)((function(e){var n,i;return"add"==a||null===(n=e.designState[t].content)||void 0===n||null===(i=n.label)||void 0===i?void 0:i[_]})),h=(0,g.v9)((function(e){var n,i;return"add"==a||null===(n=e.designState[t].content)||void 0===n||null===(i=n.label)||void 0===i?void 0:i[d.mainLang]})),j=null!==u&&void 0!==u&&null!==(n=u.resources)&&void 0!==n&&n.image?"url('".concat((0,xn.pT)(u.resources.image),"')"):"0";return"add"==a?(0,x.jsx)(gn.P,{style:{padding:r+"px"},children:(0,x.jsx)(hn.Z,{className:mn,style:{backgroundColor:s.palette.background.default,height:i+"px",width:"100%"},children:(0,x.jsx)(Ve.Z,{className:fn,onClick:function(){l()},children:(0,x.jsx)(jn.default,{})})})},"add"):(0,x.jsxs)(gn.P,{style:{padding:r+"px"},children:[(0,x.jsxs)(hn.Z,{className:_n,style:{backgroundImage:j,backgroundColor:s.palette.background.default,height:i+"px"},children:[(0,x.jsx)(Ve.Z,{className:vn,onClick:function(){window.confirm("Are you sure?")&&c((0,ne.EU)(t))},children:(0,x.jsx)(Xe.Z,{})}),(0,x.jsxs)(Ve.Z,{component:"label",className:vn,children:[(0,x.jsx)("input",{hidden:!0,id:t,accept:"image/*",multiple:!0,type:"file",onChange:function(e){e.preventDefault();var n=e.target.files[0];(0,xn.hN)(n).then((function(e){c((0,ne.RX)({code:t,key:"image",value:n.name}))})).catch((function(e){console.error(e)}))}}),(0,x.jsx)(pn.Z,{})]})]}),!o&&(0,x.jsx)(m.Z,{variant:"standard",value:f||"",onChange:function(e){return c((0,ne.ve)({code:t,key:"label",lang:_,value:e.target.value}))},placeholder:v?"Option":h||"Option",InputProps:{sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size}}})]},t)};var bn=function(e){var n=(0,o.useRef)(null),t=(0,g.I0)(),i=(0,o.useState)(800),r=(0,v.Z)(i,2),a=r[0],l=r[1],c=(0,g.v9)((function(n){return n.designState[e.code].children||[]})),s=(0,g.v9)((function(n){return n.designState[e.code].type})),d=[].concat((0,cn.Z)(c),[{type:"add",code:"add"}]),u=(0,g.v9)((function(n){return n.designState[e.code].columns||2})),_=(0,g.v9)((function(n){return n.designState[e.code].hideText||!1})),f=(0,g.v9)((function(n){return n.designState[e.code].spacing||8})),m=(0,g.v9)((function(n){return n.designState[e.code].imageAspectRatio||1})),h=_?0:80,p=(a-u*f*2)/u/m,j=Math.ceil(((c?c.length:0)+1)/u)*(p+h+u*f);return(0,o.useEffect)((function(){var e;l(null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.offsetWidth)}),[n]),(0,x.jsx)("div",{ref:n,className:sn.questionItem,style:{direction:"ltr"},children:p&&(0,x.jsx)(dn.d,{onChange:function(e,n,i,o){if(n<d.length-1&&i<d.length-1){var r={type:"reorder_answers",id:c[n].qualifiedCode,fromIndex:n,toIndex:i};t((0,ne.dz)(r))}},children:(0,x.jsx)(un.$,{id:"items-"+e.code,boxesPerRow:u,rowHeight:p+h+f,style:{height:j+"px"},children:d.map((function(n){return(0,x.jsx)(yn,{spacing:f,addAnswer:function(){return e.addNewAnswer(e.code,s)},type:n.type,imageHeight:p,hideText:_,qualifiedCode:n.qualifiedCode},n.code)}))})})})},Zn=t(96710),Sn=t(62946),Cn="VideoDisplay_buttonContainer__6VAZM";var In=function(e){var n,t=e.code,i=((0,p.Z)(),(0,g.I0)()),o=(0,g.v9)((function(e){return e.designState[t]}));return(0,x.jsxs)(x.Fragment,{children:[(null===(n=o.resources)||void 0===n?void 0:n.videoUrl)&&(0,x.jsx)("div",{style:{position:"relative",marginTop:"16px",paddingTop:o.audio_only?"10%":"56%"},children:(0,x.jsx)(Zn.Z,{url:(0,xn.pT)(o.resources.videoUrl),loop:o.loop||!1,light:!0,controls:!0,config:{forceAudio:o.audio_only||!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),(0,x.jsx)("div",{className:Cn,children:(0,x.jsxs)(c.Z,{component:"label",variant:"outlined",startIcon:(0,x.jsx)(Sn.Z,{}),children:[o.video?"Replace Video":"Upload Video",(0,x.jsx)("input",{hidden:!0,id:t,accept:"video/*",multiple:!0,type:"file",onChange:function(e){e.preventDefault();var n=e.target.files[0];(0,xn.hN)(n).then((function(e){i((0,ne.RX)({code:t,key:"videoUrl",value:n.name}))})).catch((function(e){console.error(e)}))}})]})})]})},wn="SignatureDesign_signatureCanvas__jOfTs";var Nn=function(){return(0,x.jsx)(F.Z,{className:wn,sx:{backgroundColor:"background.default"},children:(0,x.jsx)("img",{src:"/signature.png",style:{backgroundColor:"rgba(255,255,255,255)",width:"80%",maxWidth:"500px",height:"200px"}})})},kn="ImageDisplayDesign_buttonContainer__SadKg";var qn=function(e){var n,t=e.code,i=(0,g.I0)(),o=(0,g.v9)((function(e){return e.designState[t]}));return(0,x.jsxs)(x.Fragment,{children:[(null===(n=o.resources)||void 0===n?void 0:n.imageUrl)&&(0,x.jsx)("img",{style:{width:"100%"},src:(0,xn.pT)(o.resources.imageUrl)}),(0,x.jsx)("div",{className:kn,children:(0,x.jsxs)(c.Z,{component:"label",variant:"outlined",startIcon:(0,x.jsx)(pn.Z,{}),children:[o.video?"Replace Image":"Upload Image",(0,x.jsx)("input",{hidden:!0,id:t,accept:"image/*",type:"file",onChange:function(e){e.preventDefault();var n=e.target.files[0];(0,xn.hN)(n).then((function(e){i((0,ne.RX)({code:t,key:"imageUrl",value:n.name}))})).catch((function(e){console.error(e)}))}})]})})]})},Dn="NPSDesign_choicesContainer__Cyv+p",An="NPSDesign_choice__rb5mj",Pn="NPSDesign_choiceLabels__j5tr-";var Ln=function(e){var n,t,i,o,r=e.code,a=((0,p.Z)(),(0,g.v9)((function(e){return e.designState[r]}))),l=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(F.Z,{className:Pn,children:[(0,x.jsx)(F.Z,{children:null===(n=a.content)||void 0===n||null===(t=n.lower_bound_hint)||void 0===t?void 0:t[l]}),(0,x.jsx)(F.Z,{children:null===(i=a.content)||void 0===i||null===(o=i.higher_bound_hint)||void 0===o?void 0:o[l]})]}),(0,x.jsx)(F.Z,{className:Dn,children:[0,1,2,3,4,5,6,7,8,9,10].map((function(e){return(0,x.jsx)(F.Z,{className:An,children:e},e)}))})]})};function En(e){var n=e.code,t=e.type,r=e.parentCode,a=e.dragHandleProps,l=e.t;console.log(n);var c=(0,g.I0)(),s=(0,p.Z)(),d=(0,g.v9)((function(e){var t;return(null===(t=e.designState.setup)||void 0===t?void 0:t.code)==n})),u=(0,g.v9)((function(e){return e.designState[n].children})),v=(0,g.v9)((function(e){return e.designState[n].collapsed})),m=function(e,n,t){var i=u||[],o=1,r="",a="",l="",s={code:"value",isActive:!1,returnType:{name:"ranking"==n||"nps"==n||"image_ranking"==n?"Int":"Boolean"},text:""};switch(t){case"column":l="Col"+(o=(0,E.To)(i.filter((function(e){return"column"===e.type})))),a=e+(r="Ac"+o),c((0,ne.KC)({label:l,answer:{code:r,qualifiedCode:a,type:t}}));break;case"row":l="Row"+(o=(0,E.To)(i.filter((function(e){return"row"===e.type})))),a=e+(r="A"+o),c((0,ne.KC)({label:l,instructionList:[s],answer:{code:r,qualifiedCode:a,type:t}}));break;case"other":l="Other",a=e+(r="Aother");var d=[{code:"value",isActive:!1,returnType:{name:"String"},text:""},{code:"conditional_relevance",isActive:!0,returnType:{name:"Boolean"},text:"".concat(e,"scq"===n?".value === 'Aother'":"Aother.value === true")}];c((0,ne.KC)({label:l,answer:{code:r,qualifiedCode:a,type:t},instructionList:"mcq"==n?[s]:[]})),c((0,ne.KC)({instructionList:d,answer:{code:"Atext",qualifiedCode:a+"Atext",type:"other_text"}}));break;default:l="Option"+(o=(0,E.To)(i)),a=e+(r="A"+o),c((0,ne.KC)({label:l,answer:{code:r,qualifiedCode:a},instructionList:"mcq"==n||"image_mcq"==n||"ranking"==n||"image_ranking"==n?[s]:[]}))}},h=o.useCallback((function(){c((0,ne.cY)({code:n,rules:(0,Ie.I3)(t)}))}));return(0,x.jsxs)(F.Z,{sx:{backgroundColor:d?"beige":"background.paper",borderColor:"grey.500"},className:"".concat(D),children:[(0,x.jsxs)("div",{className:P,children:[(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",(0,i.Z)((0,i.Z)({className:L},a),{},{children:(0,x.jsx)(f.Z,{})})),(0,x.jsx)(ln,{t:l,isGroup:!1,code:n,parentCode:r,toggleCollapse:function(){c((0,ne.sj)(n))},collapsed:v,onClone:function(){return c((0,ne.Jv)(n))},onDelete:function(){return c((0,ne.Km)(n))},disableDelete:!1})]}),(0,x.jsx)("div",{className:A,style:{fontFamily:s.textStyles.question.font,color:s.textStyles.question.color,fontSize:s.textStyles.question.size},children:(0,x.jsx)(ie,{code:n,extended:!1,onActive:h,placeholder:"Title",contentKey:"label"})}),!v&&(0,x.jsx)(F.Z,{className:q,children:(0,x.jsx)(ie,{code:n,onActive:h,extended:!0,placeholder:"Description",contentKey:"description"})})]}),(0,x.jsx)(_.Z,{in:!0!==v,timeout:"auto",unmountOnExit:!0,children:function(){switch(t){case"video_display":return(0,x.jsx)(In,{code:n},n);case"image_display":return(0,x.jsx)(qn,{code:n},n);case"signature":return(0,x.jsx)(Nn,{});case"date_time":case"date":return(0,x.jsx)(le,{code:n},n);case"time":return(0,x.jsx)(se,{code:n},n);case"scq":return(0,x.jsx)(Ne,{t:l,addNewAnswer:m,code:n,type:"radio"},n);case"image_mcq":case"image_scq":case"image_ranking":return(0,x.jsx)(bn,{t:l,addNewAnswer:m,code:n},n);case"scq_array":return(0,x.jsx)(Ae,{addNewAnswer:m,code:n,t:l},n);case"file_upload":return(0,x.jsx)(re,{code:n},n);case"mcq":return(0,x.jsx)(Ne,{addNewAnswer:m,code:n,t:l,type:"checkbox"},n);case"ranking":return(0,x.jsx)(Ne,{addNewAnswer:m,code:n,t:l,type:"ranking"},n);case"nps":return(0,x.jsx)(Ln,{code:n},n);case"number":return(0,x.jsx)(S,{code:n},n);case"text":return(0,x.jsx)(j,{code:n},n);case"paragraph":return(0,x.jsx)(k,{t:l,code:n},n);case"email":return(0,x.jsx)(b,{code:n},n);default:return""}}()}),(0,x.jsx)(Be,{code:n})]})}var On=o.memo(En),zn="GroupDesign_textHeader__SAOqm",Rn="GroupDesign_textDescription__oEn1z",Fn="GroupDesign_titleRow__rAwtS",Tn="GroupDesign_groupCard__gMTTB",Mn="GroupDesign_type__PX45f",Yn="GroupDesign_questionsOuterContainer__LI1bK",Bn="GroupDesign_questionsInnerContainer__vKaDl",Vn="GroupDesign_groupHeader__PwsgO",Hn="GroupDesign_moveBox__fQMku",Qn=t(58195),Kn=t(40464),Wn=t(77248),Gn=t(70734);function Un(e){console.log(e.code);var n=(0,g.I0)(),t=o.useState(!1),a=(0,v.Z)(t,2),l=a[0],s=a[1],d=(0,g.v9)((function(n){return n.designState[e.code].collapsed})),u=(0,g.v9)((function(n){var t;return(null===(t=n.designState.setup)||void 0===t?void 0:t.code)==e.code})),m=(0,g.v9)((function(n){return n.designState[e.code].children})),h=((0,g.v9)((function(e){return e.designState.langInfo})),function(){n((0,ne.sj)(e.code))}),j=o.useCallback((function(){n((0,ne.cY)({code:e.code,rules:(0,Ie.I3)("group")}))})),y=(0,p.Z)();return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(r._l,{isDragDisabled:e.isDragDisabled,draggableId:e.code,index:e.dragIndex,children:function(t){return(0,x.jsx)("div",(0,i.Z)((0,i.Z)({ref:t.innerRef},t.draggableProps),{},{children:(0,x.jsxs)(F.Z,{className:Tn,sx:{borderColor:"grey.500",boxShadow:1,backgroundColor:u?"beige":"background.paper"},children:[(0,x.jsx)(F.Z,{sx:{backgroundColor:"primary.main",height:"8px"},className:Vn}),(0,x.jsx)("div",(0,i.Z)((0,i.Z)({},t.dragHandleProps),{},{className:Hn,onMouseDown:function(n){e.isDragDisabled&&(n.preventDefault(),s(!0))},children:(0,x.jsx)(f.Z,{})})),(0,x.jsx)(ln,{code:e.code,t:e.t,isGroup:!0,toggleCollapse:h,collapsed:d,onDelete:function(){return n((0,ne.iE)(e.code))},disableDelete:m&&m.length>0}),(0,x.jsxs)("div",{className:Fn,children:[(0,x.jsx)("div",{className:zn,style:{fontFamily:y.textStyles.group.font,color:y.textStyles.group.color,fontSize:y.textStyles.group.size},children:(0,x.jsx)(ie,{code:e.code,extended:!1,onActive:j,contentKey:"label",placeholder:"Title"})}),(0,x.jsx)(F.Z,{className:Rn,children:(0,x.jsx)(ie,{code:e.code,extended:!0,onActive:j,contentKey:"description",placeholder:"Description"})})]}),(0,x.jsx)(Be,{type:"group",code:e.code})]})}))}},e.code),(0,x.jsx)(_.Z,{className:Yn,in:!0!==d,sx:{backgroundColor:u?"beige":"background.paper"},timeout:"auto",unmountOnExit:!0,children:(0,x.jsx)(r.bK,{droppableId:e.code,type:"questions",children:function(n){return(0,x.jsxs)(F.Z,(0,i.Z)((0,i.Z)({ref:n.innerRef},n.droppableProps),{},{className:Bn,sx:{backgroundColor:"background.default"},children:[null===m||void 0===m?void 0:m.map((function(n,t){return(0,x.jsx)(r._l,{parentIndex:e.dragIndex,draggableId:n.code,index:e.dragIndex+t+1,children:function(o,r){return(0,x.jsxs)("div",(0,i.Z)((0,i.Z)({ref:o.innerRef,snapshot:r},o.draggableProps),{},{children:[(0,x.jsxs)("div",{className:Mn,children:[(0,Gn.Xc)(n.type,"small"),"\xa0",e.t("component_"+n.type+"_title")]}),(0,x.jsx)(On,{t:e.t,dragHandleProps:o.dragHandleProps,parentCode:e.code,index:t,type:n.type,code:n.code},n.code)]}))}},n.code)})),n.placeholder]}))}})}),(0,x.jsxs)(Qn.Z,{open:l,onClose:function(){return s(!1)},"aria-labelledby":"alert-dialog-title-collapse-all","aria-describedby":"alert-dialog-description",children:[(0,x.jsx)(Kn.Z,{id:"alert-dialog-title-collapse-all",children:"All Groups Must be collapsed first before you can drag them... Collapse All?"}),(0,x.jsxs)(Wn.Z,{children:[(0,x.jsx)(c.Z,{onClick:function(){return s(!1)},children:"Cancel"}),(0,x.jsx)(c.Z,{onClick:function(){n((0,ne.lh)()),s(!1)},children:"Collapse"})]})]})]})}var Xn=o.memo(Un),Jn={surveyGroups:"ContentPanel_surveyGroups__use9E",dropPanel:"ContentPanel_dropPanel__0HjAU",droppable:"ContentPanel_droppable__LptFO",footer:"ContentPanel_footer__JC4SU",headerImage:"ContentPanel_headerImage__kWXIo"},$n=t(30199);var et=function(e){var n,t=(0,p.Z)(),o=!1,a=(0,g.v9)((function(n){return(0,ne.em)(n.designState,e.groups)}),E.dv),l=(0,g.v9)((function(n){var t,i={};return null===(t=e.groups)||void 0===t||t.forEach((function(e){i[e.code]=n.designState[e.code].collapsed})),i}),E.dv);return null===(n=e.groups)||void 0===n||n.forEach((function(e){e&&!l[e.code]&&(o=!0)})),(0,x.jsxs)("div",{className:Jn.dropPanel,style:{fontFamily:t.textStyles.text.font,color:t.textStyles.text.color,fontSize:t.textStyles.text.size},children:[(0,x.jsx)(Be,{code:"Survey"}),(0,x.jsx)(r.bK,{droppableId:"content-panel",type:"groups",children:function(n){return(0,x.jsxs)("div",(0,i.Z)((0,i.Z)({className:Jn.droppable,ref:n.innerRef},n.droppableProps),{},{children:[e.headerImage&&(0,x.jsx)($n.Z,{className:Jn.cardImage,component:"img",image:(0,xn.pT)(e.headerImage),height:"140"}),e.groups&&e.groups.map((function(n){return(0,x.jsx)(Xn,{className:Jn.surveyGroups,t:e.t,code:n.code,dragIndex:a.indexOf(n.code),isDragDisabled:o},n.code)})),n.placeholder,(0,x.jsx)("div",{className:Jn.footer})]}))}})]})},nt=t(93740),tt=t(8197),it=t(29886),ot=t(24086),rt=t(45401),at=t(23571),lt=t(93835),ct=t(80473),st={leftContent:"LeftPanel_leftContent__-JUSc",leftPanelGroupItem:"LeftPanel_leftPanelGroupItem__ATUDj",close:"LeftPanel_close__H42Zx"};var dt=function(e){var n=e.label,t=e.rule,i=e.defaultValue,o=e.code,r=e.lowerBound,a=e.upperBound,l=(0,g.I0)(),c=(0,g.v9)((function(e){return e.designState[o][t]||i})),s=c<r||c>a;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h4",{children:[n,":"]}),(0,x.jsx)(m.Z,{label:n,error:s,variant:"outlined",type:"number",size:"small",style:{maxWidth:"200px"},value:c,onChange:function(e){return function(e){l((0,ne.wE)({code:o,key:t,value:Math.max(r,Math.min(a,e.target.value))}))}(e)}})]})},ut=t(71770),vt="ShowHint_showHint__zyqpL",_t="ShowHint_inputValue__f4Zu9";function ft(e){var n=e.code,t=e.objectName,i=e.title,o=(0,g.I0)(),r=(0,g.v9)((function(e){return e.designState.langInfo.languagesList})),a=(0,g.v9)((function(e){var i;return null===(i=e.designState[n].content)||void 0===i?void 0:i[t]}));return(0,x.jsxs)(x.Fragment,{children:[i&&(0,x.jsx)("h4",{children:i}),r.map((function(e){return(0,x.jsx)("div",{className:_t,children:(0,x.jsx)(m.Z,{label:e.langName,variant:"standard",type:"text",value:(null===a||void 0===a?void 0:a[e.code])||"",onChange:function(i){return function(e,i){o((0,ne.ve)({code:n,key:t,lang:e,value:i}))}(e.code,i.target.value)}})},e.code)}))]})}var mt=function(e){var n=e.code,t=e.t,o=(0,g.I0)(),r=(0,g.v9)((function(e){return e.designState[n].showHint||!1}));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:vt,children:[(0,x.jsx)("h4",{children:t("show_question_hint")}),(0,x.jsx)(ut.Z,(0,i.Z)((0,i.Z)({},{inputProps:{"aria-label":"Switch demo"}}),{},{checked:r,onChange:function(e){return t=e.target.checked,void o((0,ne.wE)({code:n,key:"showHint",value:t}));var t}}))]}),r&&(0,x.jsx)(ft,{code:n,objectName:"hint"})]})},ht="ValidationSetupItem_boxContainer__isukr",pt="ValidationSetupItem_title__sTQ7E",gt=t(4942),xt="ValidationSetupMessage_mt10__9R8dy",jt="ValidationSetupMessage_uppercase__h-ZCF",yt="ValidationSetupMessage_title__ZQ9C5",bt="ValidationSetupMessage_errorWrapper__pbHit",Zt="ValidationSetupMessage_errorLabelWrapper__69Ph6",St="ValidationSetupMessage_errorItem__PmtdY",Ct="ValidationSetupMessage_errorItemContainer__nwkXe";var It=function(e){var n=e.validationRule,t=e.code,o=e.rule,r=e.t,a=(0,g.I0)(),l=n.isCustomErrorActive||!1,c=(0,g.v9)((function(e){return e.designState.langInfo.languagesList})),s=n.content||{};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h4",{children:r("standard_error")}),(0,x.jsxs)("div",{className:bt,children:[(0,x.jsx)("div",{className:Zt,children:c.map((function(e){return(0,x.jsxs)("div",{className:"".concat(St," ").concat(jt),children:[e.code,":"]},e.code)}))}),(0,x.jsx)("div",{children:c.map((function(e){return(0,x.jsx)("div",{className:St,children:r(o,(0,i.Z)({ns:"run",lng:e.code},n))},e.code)}))})]}),(0,x.jsxs)("div",{className:yt,children:[(0,x.jsx)("h4",{className:xt,children:r("custom_error")}),(0,x.jsx)(ut.Z,(0,i.Z)((0,i.Z)({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:l,onChange:function(e){return n=e.target.checked,void a((0,ne.de)({code:t,rule:o,key:"isCustomErrorActive",value:n}));var n}}))]}),l?(0,x.jsxs)("div",{className:bt,children:[(0,x.jsx)("div",{className:Zt,children:c.map((function(e){return(0,x.jsxs)("div",{className:"".concat(St," ").concat(jt),children:[e.code,":"]},e.code)}))}),(0,x.jsx)("div",{className:Ct,children:c.map((function(e){return(0,x.jsx)("div",{className:St,children:(0,x.jsx)(m.Z,{size:"small",variant:"standard",value:s[e.code]||"",onChange:function(n){return function(e,n){var r=(0,i.Z)((0,i.Z)({},s),{},(0,gt.Z)({},e,n));a((0,ne.de)({code:t,rule:o,key:"content",value:r}))}(e.code,n.target.value)}})},e.code)}))})]}):""]})},wt="ValidationSetupValue_valueValidationItems__S1qIy",Nt="ValidationSetupValue_valueValidationItemsContainer__pyUrp";var kt=function(e){return Object.keys(e).filter((function(e){return!["content","isActive","isCustomErrorActive","bounds"].includes(e)}))},qt=function(e){var n=e.code,t=e.validation,i=e.rule,o=e.t,r=(0,g.v9)((function(e){var t,o,r;switch(i){case"validation_min_char_length":case"validation_max_char_length":case"validation_max_word_count":case"validation_min_word_count":return[1,Number.MAX_VALUE];case"validation_min_ranking_count":case"validation_min_option_count":return[1,(null===(t=e.designState[n].children)||void 0===t?void 0:t.length)||0];case"validation_max_ranking_count":case"validation_max_option_count":return[1,(null===(o=e.designState[n].children)||void 0===o?void 0:o.length)||0];case"validation_ranking_count":case"validation_option_count":return[1,(null===(r=e.designState[n].children)||void 0===r?void 0:r.length)||0];default:return}})),a=(0,g.I0)(),l=function(e,t){!function(e,t){a((0,ne.de)({rule:i,code:n,key:e,value:t}))}(e,"undefined"===typeof r?t:Math.max(r[0],Math.min(r[1],t)))},c=kt(t),s="validation_required"!=i&&"validation_pattern_email"!=i;return(0,x.jsxs)("div",{className:Nt,children:[c&&s&&(0,x.jsx)("div",{children:o(i+"_subtitle")}),(0,x.jsx)("div",{className:wt,children:c.map((function(e){var n="undefined"!==typeof r&&(t[e]<r[0]||t[e]>r[1]);return(0,x.jsx)(m.Z,{error:n,value:t[e],variant:"outlined",size:"small",type:"number"===typeof t[e]?"number":"text",onChange:function(n){return l(e,"number"===typeof t[e]?parseInt(n.target.value):n.target.value)},style:{maxWidth:"150px",marginLeft:"8px"}},e)}))})]})};function Dt(e){var n=e.rule,t=e.t,o=e.code;console.log("ValidationSetupItem: "+o);var r=(0,g.I0)(),a=(0,g.v9)((function(e){var t,i;return null===(t=e.designState[o])||void 0===t||null===(i=t.validation)||void 0===i?void 0:i[n]})),l=(null===a||void 0===a?void 0:a.isActive)||!1;return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:pt,children:[(0,x.jsx)("h4",{children:t(n+"_title")}),(0,x.jsx)(ut.Z,(0,i.Z)((0,i.Z)({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:l,onChange:function(e){return t=e.target.checked,void r((0,ne.de)({code:o,rule:n,key:"isActive",value:t}));var t}}))]}),l&&(0,x.jsxs)(F.Z,{className:ht,children:[(0,x.jsx)(qt,{code:o,validation:a,rule:n,t:t}),(0,x.jsx)(It,{code:o,validationRule:a,rule:n,t:t})]})]})}var At=o.memo(Dt),Pt=t(81131),Lt="ToggleValue_toggleValue__gVDdF";var Et=function(e){var n=e.label,t=e.code,o=e.rule,r=(0,g.I0)(),a=(0,g.v9)((function(e){return e.designState[t][o]||!1}));return(0,x.jsxs)("div",{className:Lt,children:[(0,x.jsx)("h4",{children:n}),(0,x.jsx)(ut.Z,(0,i.Z)((0,i.Z)({},{inputProps:{"aria-label":"Switch demo"}}),{},{checked:a,onChange:function(e){!function(e){r((0,ne.wE)({code:t,key:o,value:e}))}(e.target.checked)}}))]})},Ot=t(45254),zt={selectValue:"SelectValue_selectValue__rjCVG"};var Rt=function(e){var n=e.label,t=e.rule,i=e.defaultValue,o=e.code,r=e.values,a=e.labels,l=(0,g.I0)(),c=(0,g.v9)((function(e){return e.designState[o][t]||i}));return(0,x.jsxs)("div",{className:zt.selectDate,children:[(0,x.jsx)("h4",{children:n}),(0,x.jsx)(Ot.Z,{variant:"standard",fullWidth:!0,children:(0,x.jsx)(at.Z,{id:"select-value",value:c,label:"Select Value",onChange:function(e){!function(e){l((0,ne.wE)({code:o,key:t,value:e}))}(e.target.value)},children:r.map((function(e,n){return(0,x.jsx)(lt.Z,{value:e,children:a?a[n]:e},e)}))})})]})},Ft="SelectDate_selectDate__sTfuX",Tt="SelectDate_selectDateField__6g3re";var Mt=function(e){var n=e.label,t=e.rule,i=e.code,o=(0,g.I0)(),r=(0,g.v9)((function(e){return e.designState[i][t]||""}));return(0,x.jsxs)("div",{className:Ft,children:[(0,x.jsx)("h4",{children:n}),(0,x.jsx)(m.Z,{className:Tt,variant:"standard",value:r,type:"date",onChange:function(e){o((0,ne.wE)({code:i,key:t,value:e.target.value}))}})]})},Yt="Theming_theming__nYZaJ",Bt="ColorPicker_color__whIfs",Vt="ColorPicker_swatch__CkDF9",Ht="ColorPicker_cover__nxFXa",Qt=t(34257);var Kt=function(e){var n=(0,o.useState)(!1),t=(0,v.Z)(n,2),i=t[0],r=t[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{style:{backgroundColor:e.color||e.default},className:Vt,onClick:function(e){return r(!0)},children:(0,x.jsx)("div",{className:Bt})}),i?(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:Ht,onClick:function(e){return r(!1)}}),(0,x.jsx)(Qt.FJ,{onChange:function(n){e.handleChange(n.hex),r(!1)}})]}):null]})},Wt="ThemingItem_themingItem__p7TBx",Gt="ThemingItem_themingItemBody__mk+gL";var Ut=function(e){var n=["Alegreya","Amatic SC","Arial","Bree Serif","Calibri","Cambria","Caveat","Comfortaa","Comic Sans MS","Courier New","EB Garamond","Georgia","Google Sans","Impact","Lexend","Lobster","Lora","Merriweather","Montserrat","Nunito","Oswald","Pacifico","Permanent Marker","Pinyon Script","Playfair Display","Proxima Nova","Roboto","Roboto Mono","Roboto Serif","Spectral","Times New Roman","Trebuchet MS","Ultra","Varela Round","Verdana"],t=Array.from({length:12},(function(e,n){return 2*n+10}));function o(n,t){e.onChange((0,i.Z)((0,i.Z)({},e.value),{},(0,gt.Z)({},n,t)))}return(0,x.jsxs)("div",{className:Wt,children:[(0,x.jsxs)("div",{className:Gt,children:[(0,x.jsx)(at.Z,{size:"small",className:"mr-10",value:e.value.font||e.default.font,onChange:function(e){return o("font",e.target.value)},children:n&&n.length>0&&n.map((function(e,n){return(0,x.jsx)(lt.Z,{sx:{fontFamily:e},value:e,children:e},"fontFamily-".concat(n))}))},"fontFamily"),(0,x.jsx)(at.Z,{size:"small",value:e.value.size||e.default.size,onChange:function(e){return o("size",e.target.value)},children:t&&t.length>0&&t.map((function(e,n){return(0,x.jsx)(lt.Z,{value:e,children:e},"fontSize-".concat(n))}))},"fontSize")]}),(0,x.jsx)("br",{}),(0,x.jsx)(Kt,{color:e.value.color,default:e.default.color,handleChange:function(e){return o("color",e)}})]})},Xt=t(95764);var Jt=function(e){var n=e.t,t=(0,g.I0)(),o=(0,g.v9)((function(e){return e.designState.Survey.theme}));function r(e,n){t((0,ne.wE)({code:"Survey",key:"theme",value:(0,i.Z)((0,i.Z)({},o),{},(0,gt.Z)({},e,n))}))}return(0,x.jsxs)("div",{className:Yt,children:[(0,x.jsx)("h5",{children:n("text_style")}),(0,x.jsx)("h6",{children:n("group_title")}),(0,x.jsx)(Ut,{value:o.textStyles.group,default:Ie.rN.textStyles.group,onChange:function(e){r("textStyles",(0,i.Z)((0,i.Z)({},o.textStyles),{},(0,gt.Z)({},"group",e)))}},"group"),(0,x.jsx)("hr",{}),(0,x.jsx)("h6",{children:n("question_title")}),(0,x.jsx)(Ut,{value:o.textStyles.question,default:Ie.rN.textStyles.question,onChange:function(e){return r("textStyles",(0,i.Z)((0,i.Z)({},o.textStyles),{},(0,gt.Z)({},"question",e)))}},"question"),(0,x.jsx)("hr",{}),(0,x.jsx)("h6",{children:n("theme_text")}),(0,x.jsx)(Ut,{value:o.textStyles.text,default:Ie.rN.textStyles.text,onChange:function(e){return r("textStyles",(0,i.Z)((0,i.Z)({},o.textStyles),{},(0,gt.Z)({},"text",e)))}},"text"),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:n("highlight_color")}),(0,x.jsx)(Kt,{color:o.primaryColor,default:Ie.rN.primaryColor,handleChange:function(e){return r("primaryColor",e)}}),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:n("background_color")}),(0,x.jsx)(Kt,{color:o.bgColor,default:Ie.rN.bgColor,handleChange:function(e){return r("bgColor",e)}}),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:n("foreground_color")}),(0,x.jsx)(Kt,{color:o.paperColor,default:Ie.rN.paperColor,handleChange:function(e){return r("paperColor",e)}}),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:n("theme_header")}),(0,x.jsxs)(c.Z,{variant:"outlined",component:"label",children:[(0,x.jsx)(Xt.Z,{className:"mr-10"}),n("choose_image"),(0,x.jsx)("input",{hidden:!0,accept:"image/*",multiple:!0,type:"file",onChange:function(e){e.preventDefault();var n=e.target.files[0];(0,xn.hN)(n).then((function(e){t((0,ne.RX)({code:"Survey",key:"headerImage",value:n.name}))})).catch((function(e){console.error(e)}))}})]})]})},$t=t(70277),ei=t(79286),ni=t.n(ei),ti=t(97358).Z,ii=function(e){return'<span class="logicField">'+e+"</span>"},oi=function(e){return'<span class="logicOp">'+e+"</span>"},ri=function(e,n){return'<span class="logicValue">'+("text"==n?'"'+e+'"':e)+"</span>"},ai={conjunctions:{AND:ti.conjunctions.AND,OR:ti.conjunctions.OR},operators:(0,i.Z)((0,i.Z)({},ti.operators),{},{less:(0,i.Z)((0,i.Z)({},ti.operators.less),{},{formatOp:function(e,n,t,i,o,r,a,l,c){return"".concat(ii(e)," ").concat(oi("<")," ").concat(ri(t,o))}}),less_or_equal:(0,i.Z)((0,i.Z)({},ti.operators.less_or_equal),{},{formatOp:function(e,n,t,i,o,r,a,l,c){return"".concat(ii(e)," ").concat(oi("<=")," ").concat(ri(t,o))}}),greater:(0,i.Z)((0,i.Z)({},ti.operators.greater),{},{formatOp:function(e,n,t,i,o,r,a,l,c){return"".concat(ii(e)," ").concat(oi(">")," ").concat(ri(t,o))}}),greater_or_equal:(0,i.Z)((0,i.Z)({},ti.operators.greater_or_equal),{},{formatOp:function(e,n,t,i,o,r,a,l,c){return"".concat(ii(e)," ").concat(oi(">=")," ").concat(ri(t,o))}}),equal:(0,i.Z)((0,i.Z)({},ti.operators.equal),{},{label:"Equals",jsonLogic:"==",formatOp:function(e,n,t,i,o,r,a,l,c){var s=l?"equals":r.label;return"".concat(ii(e)," ").concat(oi(s)," ").concat(ri(t,o))}}),not_equal:(0,i.Z)((0,i.Z)({},ti.operators.not_equal),{},{label:"Not Equals",jsonLogic:"!=",formatOp:function(e,n,t,i,o,r,a,l,c){var s=l?"not equals":r.label;return"".concat(ii(e)," ").concat(oi(s)," ").concat(ri(t,o))}}),starts_with:(0,i.Z)((0,i.Z)({},ti.operators.starts_with),{},{jsonLogic:"startsWith",formatOp:function(e,n,t,i,o,r,a,l,c){var s=l?"starts with":r.label;return"".concat(ii(e)," ").concat(oi(s)," ").concat(ri(t,o))}}),ends_with:(0,i.Z)((0,i.Z)({},ti.operators.ends_with),{},{jsonLogic:"endsWith",formatOp:function(e,n,t,i,o,r,a,l,c){var s=l?"ends with":r.label;return"".concat(ii(e)," ").concat(oi(s)," ").concat(ri(t,o))}}),between:(0,i.Z)((0,i.Z)({},ti.operators.between),{},{label:"Between",jsonLogic:"between",formatOp:function(e,n,t,i,o,r,a,l){var c=t.first(),s=t.get(1);return l?"".concat(ii(e)," ").concat(oi("between")," ").concat(ri(c,o)," ").concat(oi("and")," ").concat(ri(s,o)):"".concat(e," >= ").concat(c," && ").concat(e," <= ").concat(s)}}),not_between:(0,i.Z)((0,i.Z)({},ti.operators.not_between),{},{label:"Not Between",jsonLogic:"not_between",formatOp:function(e,n,t,i,o,r,a,l){var c=t.first(),s=t.get(1);return l?"".concat(ii(e)," ").concat(oi("not between")," ").concat(ri(c,o)," ").concat(oi("and")," ").concat(ri(s,o)):"".concat(e," >= ").concat(c," && ").concat(e," <= ").concat(s)}}),like:(0,i.Z)((0,i.Z)({},ti.operators.like),{},{label:"Contains",jsonLogic:"contains",_jsonLogicIsRevArgs:!1,formatOp:function(e,n,t,i,o,r,a,l,c){var s=l?"contains":r.label;return"".concat(ii(e)," ").concat(oi(s)," ").concat(ri(t,o))}}),not_like:(0,i.Z)((0,i.Z)({},ti.operators.not_like),{},{label:"Not Contains",jsonLogic:"not_contains",formatOp:function(e,n,t,i,o,r,a,l,c){var s=l?"does not containends with":r.label;return"".concat(ii(e)," ").concat(oi(s)," ").concat(ri(t,o))}}),select_any_in:(0,i.Z)((0,i.Z)({},ti.operators.select_any_in),{},{label:"Any In",jsonLogic:"in",formatOp:function(e,n,t,i,o,r,a,l){var c=t.join(", ");return"".concat(ii(e)," ").concat(oi("in")," (").concat(ri(c,""),")")}}),select_not_any_in:(0,i.Z)((0,i.Z)({},ti.operators.select_not_any_in),{},{label:"None In",jsonLogic:"not_in",formatOp:function(e,n,t,i,o,r,a,l){var c=t.join(", ");return"".concat(ii(e)," ").concat(oi("not in")," (").concat(ri(c,""),")")}}),multiselect_equals:(0,i.Z)((0,i.Z)({},ti.operators.multiselect_equals),{},{label:"Any In",jsonLogic:"any_in",formatOp:function(e,n,t,i,o,r,a,l){var c=t.join(", ");return"".concat(oi("Any of")," (").concat(ri(c,""),") in ").concat(ii(e)," ").concat(oi("is selected"))}}),multiselect_not_equals:(0,i.Z)((0,i.Z)({},ti.operators.multiselect_not_equals),{},{label:"None In",jsonLogic:"none_in",formatOp:function(e,n,t,i,o,r,a,l){var c=t.join(", ");return"".concat(oi("None of")," (").concat(ri(c,""),") in ").concat(ii(e)," ").concat(oi("is selected"))}}),is_relevant:{label:"Is Displayed",jsonLogic:"relevance",cardinality:0,formatOp:function(e,n,t,i,o,r,a,l){return"".concat(ii(e)," ").concat(ri("is shown"))}},is_not_relevant:{label:"Is Hidden",jsonLogic:"not_relevance",cardinality:0,formatOp:function(e,n,t,i,o,r,a,l){return"".concat(ii(e)," ").concat(ri("is not shown"))}},is_valid:{label:"Is Valid",jsonLogic:"validity",cardinality:0,formatOp:function(e,n,t,i,o,r,a,l){return"".concat(ii(e)," ").concat(ri("is valid"))}},is_not_valid:{label:"Is Not Valid",jsonLogic:"not_validity",cardinality:0,formatOp:function(e,n,t,i,o,r,a,l){return"".concat(ii(e)," ").concat(ri("is not valid"))}},is_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_void",formatOp:function(e,n,t,i,o,r,a,l){return"".concat(ii(e)," ").concat(ri("is empty"))}},is_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_not_void",formatOp:function(e,n,t,i,o,r,a,l){return"".concat(ii(e)," ").concat(ri("is not empty"))}},is_file_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_file_void",formatOp:function(e,n,t,i,o,r,a,l){return"".concat(ii(e)," ").concat(ri("is empty"))}},is_file_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_file_not_void",formatOp:function(e,n,t,i,o,r,a,l){return"".concat(ii(e)," ").concat(ri("is not empty"))}}}),widgets:(0,i.Z)((0,i.Z)({},ti.widgets),{},{text:(0,i.Z)({},ti.widgets.text),slider:(0,i.Z)((0,i.Z)({},ti.widgets.slider),{},{customProps:{width:"300px"}}),rangeslider:(0,i.Z)((0,i.Z)({},ti.widgets.rangeslider),{},{customProps:{width:"300px"}}),date:(0,i.Z)((0,i.Z)({},ti.widgets.date),{},{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"}),time:(0,i.Z)((0,i.Z)({},ti.widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss"}),datetime:(0,i.Z)((0,i.Z)({},ti.widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"}),func:(0,i.Z)((0,i.Z)({},ti.widgets.func),{},{customProps:{showSearch:!0}}),treeselect:(0,i.Z)((0,i.Z)({},ti.widgets.treeselect),{},{customProps:{showSearch:!0}})}),types:(0,i.Z)((0,i.Z)({},ti.types),{},{boolean:ni()(ti.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"}}}})}),settings:(0,i.Z)((0,i.Z)((0,i.Z)({},ti.settings),{valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",fieldPlaceholder:"Select field",operatorPlaceholder:"Select operator",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:null,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}}),{},{valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},canReorder:!1,showNot:!1,maxNesting:1,canLeaveEmptyGroup:!1}),funcs:{}},li=(t(10774),t(8440)),ci=t(7195);var si=function(e){var n=$t.cQ.jsonLogicFormat,t=$t.cQ.queryString,r=$t.cQ.loadTree,a=$t.cQ.uuid,l=$t.cQ.loadFromJsonLogic,s=$t.cQ.checkTree,d=(0,i.Z)((0,i.Z)({},ai),{},{fields:e.fields}),u=e.logic?s(l(e.logic,d),d):r({id:a(),type:"group"}),_=(0,o.useState)(u),f=(0,v.Z)(_,2),m=f[0],h=f[1],p=(0,o.useState)(t(m,d,!0)),g=(0,v.Z)(p,2),j=g[0],y=g[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"query-builder-result",children:[e.logic&&j?(0,x.jsx)("pre",{className:"condition-human-text",dangerouslySetInnerHTML:{__html:j}}):(0,x.jsx)("pre",{className:"condition-human-text",children:e.t("no_condition")}),(0,x.jsx)(Ve.Z,{onClick:function(){return e.onDialogStateChanged(!0)},children:(0,x.jsx)(ci.Z,{})})]},"result"),(0,x.jsxs)(Qn.Z,{fullScreen:!0,sx:{margin:"200px"},open:e.dialogOpen,onClose:function(){return e.onDialogStateChanged(!1)},"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[(0,x.jsx)(Kn.Z,{id:"alert-dialog-title-logic-builder",children:e.title}),(0,x.jsx)(li.Z,{children:(0,x.jsx)($t.AE,(0,i.Z)((0,i.Z)({},d),{},{value:m,onChange:function(e){h(e)},renderBuilder:function(e){return(0,x.jsx)("div",{jey:"builder",className:"query-builder-container",children:(0,x.jsx)("div",{className:"query-builder",children:(0,x.jsx)($t.Ib,(0,i.Z)({},e))})})}}))}),(0,x.jsx)(Wn.Z,{children:(0,x.jsx)(c.Z,{onClick:function(){e.onDialogStateChanged(!1),function(){var i=n(m,d),o=i.logic;i.errors,y(t(m,d,!0)),e.onChange(o)}()},autoFocus:!0,children:"Agree"})})]})]})},di=function(e,n,t,i){var o,r,a,l,c,s,d,u,v,_,f,m,h=e+". "+(0,H.oN)(null===(o=n.content)||void 0===o||null===(r=o.label)||void 0===r?void 0:r[i]);if((0,H.ty)(e))return(0,gt.Z)({},e,{label:h,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]});switch(n.type){case"text":case"email":return(0,gt.Z)({},e,{label:h,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]});case"paragraph":return(0,gt.Z)({},e,{label:h,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","like","not_like","starts_with","ends_with"]});case"number":return(0,gt.Z)({},e,{label:h,type:"number",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]});case"file_upload":case"signature":return(0,gt.Z)({},e,{label:h,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]});case"date":return(0,gt.Z)({},e,{label:h,type:"date",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]});case"time":return(0,gt.Z)({},e,{label:h,type:"time",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]});case"date_time":return(0,gt.Z)({},e,{label:h,type:"datetime",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]});case"image_scq":case"scq":var p={},g={};null===(a=n.children)||void 0===a||a.forEach((function(e){var n,o;g[e.code]=(0,H.oN)(null===(n=t[e.qualifiedCode].content)||void 0===n||null===(o=n.label)||void 0===o?void 0:o[i])})),p[e]={label:h,fieldSettings:{listValues:g},type:"select",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","select_any_in","select_not_any_in"]};var x,j,y=null===(l=n.children)||void 0===l?void 0:l.find((function(e){return"Aother"===e.code}));if(y&&null!==(c=t[y.qualifiedCode].children)&&void 0!==c&&c.find((function(e){return"Atext"===e.code})))p[e+"AotherAtext"]={label:"".concat(h," [").concat(null===(x=t[y.qualifiedCode].content)||void 0===x||null===(j=x.label)||void 0===j?void 0:j[i],"]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return p;case"image_mcq":case"mcq":var b={},Z={};null===(s=n.children)||void 0===s||s.forEach((function(e){var n,o;Z[e.code]=(0,H.oN)(null===(n=t[e.qualifiedCode].content)||void 0===n||null===(o=n.label)||void 0===o?void 0:o[i])})),b[e]={label:h,fieldSettings:{listValues:Z},type:"multiselect",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","multiselect_equals","multiselect_not_equals"]};var S,C,I=null===(d=n.children)||void 0===d?void 0:d.find((function(e){return"Aother"===e.code}));if(I&&null!==(u=t[I.qualifiedCode].children)&&void 0!==u&&u.find((function(e){return"Atext"===e.code})))b[e+"AotherAtext"]={label:"".concat(h," [").concat(null===(S=t[I.qualifiedCode].content)||void 0===S||null===(C=S.label)||void 0===C?void 0:C[i],"]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return b;case"nps":var w={};return null===(v=n.children)||void 0===v||v.forEach((function(e){var n,o;Z[e.code]=(0,H.oN)(null===(n=t[e.qualifiedCode].content)||void 0===n||null===(o=n.label)||void 0===o?void 0:o[i])})),w[e]={label:h,fieldSettings:{min:0,max:10},type:"number",valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]},w;case"scq_array":var N={},k={};return null===(_=n.children)||void 0===_||_.filter((function(e){return"column"==e.type})).forEach((function(e){var n,o;k[e.code]=(0,H.oN)(null===(n=t[e.qualifiedCode].content)||void 0===n||null===(o=n.label)||void 0===o?void 0:o[i])})),N[e]={label:h,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]},null===(f=n.children)||void 0===f||f.filter((function(e){return"row"==e.type})).forEach((function(n){var o,r;N[e+n.code]={label:h+" - "+(0,H.oN)(null===(o=t[n.qualifiedCode].content)||void 0===o||null===(r=o.label)||void 0===r?void 0:r[i]),type:"select",valueSources:["value"],fieldSettings:{listValues:k},operators:["select_any_in","select_not_any_in"]}})),N;case"ranking":case"image_ranking":var q={};return null===(m=n.children)||void 0===m||m.forEach((function(o){var r,a;q[e+o.code]={label:h+" - "+(0,H.oN)(null===(r=t[o.qualifiedCode].content)||void 0===r||null===(a=r.label)||void 0===a?void 0:a[i]),type:"number",fieldSettings:{min:1,max:n.children.length},valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}})),q;default:return[]}},ui="Relevance_relevanceError__xcNIs",vi="Relevance_errorContainer__jRpup";var _i=function(e){var n,t,r,a=e.code,l=e.t,s=(0,g.I0)(),d=(0,o.useState)(!1),u=(0,v.Z)(d,2),_=u[0],f=u[1],m=(0,g.v9)((function(e){return e.designState.langInfo})),h=(0,g.v9)((function(e){return e.designState[a]})),p=(0,g.v9)((function(e){return function(e,n,t,o){var r=Q(e,n),a={};return r.forEach((function(e){t[e]&&((0,H.KX)(e)||(0,H.ty)(e))&&(a=(0,i.Z)((0,i.Z)({},a),di(e,t[e],t,o)))})),a}(e.designState.componentIndex,a,e.designState,m.mainLang)})),j=!b&&Object.keys(p).length>0,y=null===(n=h.instructionList)||void 0===n?void 0:n.find((function(e){return"conditional_relevance"==e.code})),b=((null===y||void 0===y?void 0:y.errors)||[]).length>0,Z=null===(t=h.relevance)||void 0===t?void 0:t.logic,S=(0,o.useState)((null===(r=h.relevance)||void 0===r?void 0:r.rule)||"show_always"),C=(0,v.Z)(S,2),I=C[0],w=C[1],N="show_if"==I||"hide_if"==I,k=function(){return s((0,ne.Bl)({code:a,key:"relevance",value:{logic:void 0,rule:"show_always"}}))};return(0,x.jsxs)("div",{className:"".concat(b?ui:""),children:[(0,x.jsx)(Ot.Z,{variant:"standard",fullWidth:!0,children:(0,x.jsxs)(at.Z,{id:"show-hide-select",value:I,label:"Age",onChange:function(e){return function(e){switch(w(e),e){case"show_always":return void k();case"hide_always":return void s((0,ne.Bl)({code:a,key:"relevance",value:{logic:void 0,rule:e}}));case"show_if":case"hide_if":return"show_if"!=(null===Z||void 0===Z?void 0:Z.rule)&&"hide_if"!=(null===Z||void 0===Z?void 0:Z.rule)&&f(!0),void(Z&&s((0,ne.Bl)({code:a,key:"relevance",value:{logic:Z,rule:e}})))}}(e.target.value)},children:[(0,x.jsx)(lt.Z,{disabled:b,value:"show_always",children:l("show_always")},"show_always"),(0,x.jsx)(lt.Z,{disabled:!j,value:"show_if",children:l("show_if")},"show_if"),(0,x.jsx)(lt.Z,{disabled:!j,value:"hide_if",children:l("hide_if")},"hide_if"),(0,x.jsx)(lt.Z,{disabled:b,value:"hide_always",children:l("hide_always")},"hide_always")]})}),!b&&N&&(0,x.jsx)(si,{title:l("show_if"==I?"condition_to_show":"condition_to_hide"),onChange:function(e){f(!1),N&&s((0,ne.Bl)({code:a,key:"relevance",value:{logic:e,rule:I}}))},onDialogStateChanged:function(e){return f(e)},fields:p,t:l,dialogOpen:_,logic:Z}),b?(0,x.jsxs)("div",{className:vi,children:[(0,x.jsx)(ze.c,{t:l,i18nKey:"wrong_logic_err"}),(0,x.jsx)(c.Z,{variant:"contained",onClick:function(){return k()},children:"OK"})]}):"",N&&!Z?(0,x.jsx)("div",{children:(0,x.jsx)(ze.c,{t:l,i18nKey:"no_logic_err"})}):""]})},fi=t(88551),mi=function(e,n,t){var i,o,r=n[e];return{code:e,label:e+". "+(0,H.oN)(null===(i=r.content)||void 0===i||null===(o=i.label)||void 0===o?void 0:o[t])}},hi=function e(n,t){var i=[],o=n.find((function(e){return e.code===t.parent}));return o&&o.parent&&(i.push(o),i=i.concat(e(n,o))),i},pi=function(e,n,t,i){var o=[];if(!(0,H.ty)(n.code)&&!(0,H.KX)(n.code))return o;var r=e.filter((function(e){return e.parent==n.parent&&e.minIndex>n.maxIndex&&(!n.prioritisedSiblings||-1===n.prioritisedSiblings.indexOf(e.code))}));return r.forEach((function(n){o=(o=o.concat(mi(n.code,t,i))).concat(gi(e,n,t,i))})),o},gi=function e(n,t,i,o){var r=[];return(0,H.ty)(t.code)?(t.children&&t.children.forEach((function(t){var a=n.find((function(e){return e.code===t}));r=(r=r.concat(mi(a.code,i,o))).concat(e(n,a,i,o))})),r):r},xi={skipItem:"SkipLogic_skipItem__Y3RRu",toEnd:"SkipLogic_toEnd__WxDSC"};function ji(e,n,t,i){return(0,x.jsxs)(F.Z,{className:xi.errorDisplay,children:[(0,x.jsx)(fi.Z,{style:{verticalAlign:"middle"}})," ",(0,x.jsx)(ze.c,{t:i,values:{code:n},i18nKey:"invalid_skip_destination_err"}),(0,x.jsx)(c.Z,{variant:"contained",onClick:function(){return t(e,"proceed")},children:i("ok")})]})}function yi(e,n,t,i,o,r,a){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Ot.Z,{variant:"standard",fullWidth:!0,children:(0,x.jsxs)(at.Z,{id:"skip-action",value:t,label:a("skip_to"),onChange:function(n){return o(e,n.target.value)},children:[(0,x.jsx)(lt.Z,{value:"proceed",children:a("proceed_as_usual")},"proceed"),n&&(null===n||void 0===n?void 0:n.map((function(e){return(0,x.jsx)(lt.Z,{value:e.code,children:e.label},e.code)})))]})}),t&&t.startsWith("G")&&(0,x.jsxs)("div",{className:xi.toEnd,children:[(0,x.jsx)("h4",{children:a("to_group_end")}),(0,x.jsx)(ut.Z,{checked:i||!1,onChange:function(n){return r(e,n.target.checked)}})]})]})}var bi=function(e){var n=e.code,t=e.t,i=(0,g.I0)(),o=(0,g.v9)((function(e){return e.designState[n].skip_logic||{}})),r=(0,g.v9)((function(e){var t=e.designState.langInfo.mainLang;return function(e,n,t,i){var o=[];if(!e)return o;var r=e.find((function(e){return e.code===n}));return r?(o=o.concat(pi(e,r,t,i)),r.parent&&hi(e,r).filter((function(e){return(0,H.KX)(e.code)||(0,H.ty)(e.code)})).forEach((function(n){o=o.concat(pi(e,n,t,i))})),o):o}(e.designState.componentIndex,n,e.designState,t)})),a=(0,g.v9)((function(e){return e.designState[n].instructionList.filter((function(e){return e.code.startsWith("skip_to")}))})),l=(0,g.v9)((function(e){var t,i,o=e.designState.langInfo.lang;return null===(t=e.designState[n])||void 0===t||null===(i=t.children)||void 0===i?void 0:i.map((function(n){var t,i;return{code:n.code,label:(null===(t=e.designState[n.qualifiedCode].content)||void 0===t||null===(i=t.label)||void 0===i?void 0:i[o])||n.code}}))})),c=function(e,t){i("proceed"==t?(0,ne.SJ)({code:n,answerCode:e}):(0,ne.he)({code:n,answerCode:e,skipTo:t}))},s=function(e,t){i((0,ne.cy)({code:n,answerCode:e,toEnd:t}))};return(0,x.jsx)(x.Fragment,{children:null===l||void 0===l?void 0:l.map((function(e){var n,i,l=e.code,d=null===o||void 0===o?void 0:o[l],u=null===d||void 0===d?void 0:d.skipTo,v=u||"proceed",_=u&&(null===a||void 0===a||null===(n=a.find((function(e){return e.code=="skip_to_on_"+l})))||void 0===n||null===(i=n.errors)||void 0===i?void 0:i.find((function(e){return"InvalidSkipReference"==e.name})));return(0,x.jsxs)("div",{className:xi.skipItem,children:[(0,x.jsx)(ze.c,{t:t,values:{code:e.label},i18nKey:"if_answer_is"}),_?ji(l,u,c,t):yi(l,r,v,null===d||void 0===d?void 0:d.toEnd,c,s,t)]},e.code)}))})},Zi={sectionTitle:"SetupPanel_sectionTitle__qD5RO"},Si=t(13609),Ci=t(43671),Ii=t(91267),wi="RandomError_errorDisplay__lSHBK";function Ni(e){var n=e.errors,t=(0,Oe.$)("design").t;return(0,x.jsx)(F.Z,{className:wi,children:n.map((function(e){return"PriorityGroupItemNotChild"==e.name?(0,x.jsx)(ze.c,{t:t,i18nKey:"err_priority_group_item_not_child",values:{items:e.items.join(", ")}},e.name):"DuplicatePriorityGroupItems"==e.name?(0,x.jsx)(ze.c,{t:t,i18nKey:"err_duplicate_priority_group_items",values:{items:e.items.join(", ")}},e.name):"PriorityLimitMismatch"==e.name?t("err_priority_limit_mismatch"):"RandomGroupItemNotChild"==e.name?(0,x.jsx)(ze.c,{t:t,i18nKey:"err_random_group_item_not_child",values:{items:e.items.join(", ")}},e.name):"DuplicateRandomGroupItems"==e.name?(0,x.jsx)(ze.c,{t:t,i18nKey:"err_duplicate_random_group_items",values:{items:e.items.join(", ")}},e.name):void 0}))},"box")}var ki={randomHeader:"PriorityItemDisplay_randomHeader__EOt2K",title:"PriorityItemDisplay_title__cJy3y",action:"PriorityItemDisplay_action__IQma+",settingIcon:"PriorityItemDisplay_settingIcon__RJrWI",randomBody:"PriorityItemDisplay_randomBody__5F1hO",list:"PriorityItemDisplay_list__VT8cw",weight:"PriorityItemDisplay_weight__QZuSc",randomAction:"PriorityItemDisplay_randomAction__bhHbZ",listItem:"PriorityItemDisplay_listItem__xcV-K",label:"PriorityItemDisplay_label__isAJh",input:"PriorityItemDisplay_input__0O-on",listItemError:"PriorityItemDisplay_listItemError__wrsRN",randomItem:"PriorityItemDisplay_randomItem__grS3o",highlighted:"PriorityItemDisplay_highlighted__t1g2w"},qi=t(84914),Di=t(27247);function Ai(e){var n;return(0,x.jsxs)(hn.Z,{className:"".concat(ki.randomItem," ").concat(e.isBeingEdited?ki.highlighted:""),children:[(0,x.jsxs)("div",{className:ki.randomHeader,children:[(0,x.jsx)("h4",{className:ki.title,children:e.t("prioritise")}),(0,x.jsxs)("div",{className:ki.action,children:[(0,x.jsx)(Ve.Z,{onClick:function(){return e.onEditClicked(e.index)},children:(0,x.jsx)(qi.Z,{className:ki.settingIcon})}),(0,x.jsx)(Ve.Z,{onClick:function(){return e.onDeleteClicked(e.index)},children:(0,x.jsx)(Di.default,{className:ki.settingIcon})})]})]}),(0,x.jsxs)("div",{className:ki.randomBody,children:[e.t("priority_show_limit_from_count",{limit:e.data.limit,count:null===(n=e.data.weights)||void 0===n?void 0:n.length}),(0,x.jsx)("ul",{className:ki.list,children:e.data&&e.data.weights&&e.data.weights.map((function(n,t){return(0,x.jsx)(Pi,{label:e.getChildLabelByCode(n.code),code:n.code,childrenCodes:e.childrenCodes,weight:n.weight},t)}))})]})]})}function Pi(e){var n=e.code,t=e.label,i=e.weight,o=e.childrenCodes;return(0,x.jsxs)("li",{className:-1!==o.indexOf(n)?ki.listItem:ki.listItemError,children:[(0,x.jsxs)("div",{className:"".concat(ki.content," ").concat(ki.label),children:[n,": ",t]}),(0,x.jsx)("div",{className:ki.weight,children:(0,x.jsx)("span",{children:i})})]})}var Li={title:"PriorityItemSetup_title__qgY0+",randomBody:"PriorityItemSetup_randomBody__xDUs8",list:"PriorityItemSetup_list__kuUDH",weight:"PriorityItemSetup_weight__GjjOn",label:"PriorityItemSetup_label__Szv1F",randomAction:"PriorityItemSetup_randomAction__bA3Dv",listItem:"PriorityItemSetup_listItem__aVbr0",input:"PriorityItemSetup_input__jr3vF",randomItem:"PriorityItemSetup_randomItem__o13WE"},Ei=t(61094),Oi=t(19924),zi=t(68439);function Ri(e){var n=e.t,t=(0,o.useState)(e.checked),r=(0,v.Z)(t,2),a=r[0],l=r[1],s=(0,o.useState)(e.data),d=(0,v.Z)(s,2),u=d[0],_=d[1],f=function(e,n){var t=(0,cn.Z)(a);t[n]=e,l((0,cn.Z)(t))},m=function(e){_((0,i.Z)((0,i.Z)({},u),{},{limit:e}))},h=function(e,n){var t=(0,i.Z)({},u);t.weights=(0,cn.Z)(u.weights),t.weights[n]=(0,i.Z)((0,i.Z)({},u.weights[n]),{},{weight:e}),_(t)};return(0,x.jsxs)(hn.Z,{className:Li.randomItem,children:[(0,x.jsx)("h4",{className:Li.title,children:e.title}),(0,x.jsxs)("div",{className:Li.randomBody,children:[(0,x.jsx)(Ti,{t:n,increaseLimit:function(e){if(e===u.weights.length-1)return!1;e++,m(e)},decreaseLimit:function(e){if(1===e)return!1;e--,m(e)},limit:u.limit}),(0,x.jsx)("ul",{className:"".concat(Li.list," ").concat(Li.active),children:u&&u.weights&&u.weights.map((function(n,t){return(0,x.jsx)(Fi,{code:n.code,weight:n.weight,handleChange:function(e){return f(e,t)},decreaseWeight:function(e){return function(e,n){if(1===e)return!1;e--,h(e,n)}(e,t)},increaseWeight:function(e){return n=e,n++,void h(n,t);var n},checked:(null===a||void 0===a?void 0:a[t])||!1,label:e.getChildLabelByCode(n.code)},t)}))})]}),(0,x.jsxs)("div",{className:Li.randomAction,children:[(0,x.jsx)(c.Z,{variant:"text",onClick:function(n){return e.onCancel()},children:n("cancel")}),(0,x.jsx)(c.Z,{variant:"contained",onClick:function(n){return function(){if(a.filter((function(e){return e})).length<2)return!1;var n=(0,i.Z)({},u),t=a.reduce((function(e,t,i){return t&&e.push(n.weights[i]),e}),[]);e.onSubmit((0,i.Z)((0,i.Z)({},n),{},{weights:t}))}()},disabled:!function(){var e=a.filter((function(e){return e})).length;return e>=2&&u.limit<=e-1&&u.limit>=1}(),children:n("submit")})]})]})}function Fi(e){var n=e.code,t=e.checked,i=e.label,o=e.weight,r=e.handleChange,a=e.increaseWeight,l=e.decreaseWeight;return(0,x.jsxs)("li",{className:Li.listItem,children:[(0,x.jsx)(Ei.Z,{checked:t,onChange:function(e){return r(e.target.checked)}}),(0,x.jsxs)("div",{className:"".concat(Li.content," ").concat(Li.label),children:[n,": ",i]}),(0,x.jsxs)("div",{className:Li.weight,children:[(0,x.jsx)(Ve.Z,{size:"small",onClick:function(e){return l(o)},children:(0,x.jsx)(Oi.Z,{})}),(0,x.jsx)("span",{children:o}),(0,x.jsx)(Ve.Z,{size:"small",onClick:function(e){return a(o)},children:(0,x.jsx)(zi.Z,{})})]})]})}function Ti(e){var n=e.limit,t=e.increaseLimit,i=e.decreaseLimit,o=e.t;return(0,x.jsxs)(x.Fragment,{children:[o("priority_show"),(0,x.jsx)(Ve.Z,{size:"small",onClick:function(e){return i(n)},children:(0,x.jsx)(Oi.Z,{})}),n,(0,x.jsx)(Ve.Z,{size:"small",onClick:function(e){return t(n)},children:(0,x.jsx)(zi.Z,{})})]})}function Mi(e){var n,t,r=e.t,a=e.type,l=e.code,s=e.hideErrors,d=(0,g.I0)(),u=(0,o.useState)({}),_=(0,v.Z)(u,2),f=_[0],m=_[1],h=(0,g.v9)((function(e){return e.designState[l]})),p=(0,g.v9)((function(e){var n,t,i,o;return(null===(n=e.designState[l])||void 0===n||null===(t=n.children)||void 0===t||null===(i=t.filter((function(e){return!a||e.type==a})))||void 0===i||null===(o=i.filter((function(e){var n,t;return"welcome"!=(null===(n=e.groupType)||void 0===n?void 0:n.toLowerCase())&&"end"!=(null===(t=e.groupType)||void 0===t?void 0:t.toLowerCase())})))||void 0===o?void 0:o.map((function(e){return e.code})))||[]})),j=(0,g.v9)((function(e){return e.designState.langInfo.lang})),y=(0,g.v9)((function(e){var n,t,i;return(null===(n=e.designState[l])||void 0===n||null===(t=n.children)||void 0===t||null===(i=t.filter((function(e){return!a||e.type==a})))||void 0===i?void 0:i.map((function(n){var t,i;return{code:n.code,label:null===(t=e.designState[n.qualifiedCode].content)||void 0===t||null===(i=t.label)||void 0===i?void 0:i[j]}})))||[]})),b=(0,H.NI)(h,"priority_groups"),Z=(null===b||void 0===b||null===(n=b.priorities)||void 0===n?void 0:n.filter((function(e){return!a||e.weights.some((function(e){return p.includes(e.code)}))})))||[],S=Z.map((function(e){return e.weights})).flat().map((function(e){return e.code})).flat(),C=(null===b||void 0===b||null===(t=b.errors)||void 0===t?void 0:t.filter((function(e){return e.items.some((function(e){return S.includes(e)}))})))||[],I=function(e){d(a?(0,ne.lF)({code:l,priorities:e,type:a}):(0,ne.Lj)({code:l,priorities:e}))},w=function(e){var n,t=null===(n=y.find((function(n){return n.code==e})))||void 0===n?void 0:n.label;return null===t||void 0===t?void 0:t.replace(/<[^>]*>/g,"")},N=function(){return p.filter((function(e){return!S.includes(e)}))},k=!f||0==Object.keys(f).length,q=function(){m({})},D=function(e){var n=(0,cn.Z)(e.weights).sort((function(e,n){return p.findIndex((function(n){return n===e.code}))-p.findIndex((function(e){return e===n.code}))}));return(0,i.Z)((0,i.Z)({},e),{},{weights:n})};return(0,x.jsxs)(x.Fragment,{children:[Z&&Z.map((function(e,n){return(0,x.jsx)(Ai,{t:r,data:D(e),index:n,childrenCodes:p,isBeingEdited:f.index==n,onDeleteClicked:function(e){m({}),function(e){window.confirm(r("are_you_sure"))&&I(Z.filter((function(n,t){return t!==e})))}(e)},onEditClicked:function(e){return function(e){var n=[],t=[];t.weights=[];var i=N();p.forEach((function(o){if(i.includes(o))t.weights.push({code:o,weight:1}),n.push(!1);else{var r=Z[e].weights.findIndex((function(e){return e.code==o}));r>-1&&(t.weights.push(Z[e].weights[r]),n.push(!0))}t.limit=Z[e].limit})),m({index:e,checked:n,title:r("edit_priority_rule"),data:t})}(e)},getChildLabelByCode:w},n)})),!s&&C.length>0?(0,x.jsx)(Ni,{errors:C}):"",k&&(0,x.jsxs)(c.Z,{variant:"contained",disabled:N().length<2,onClick:function(){var e=N(),n=e.map((function(e){return{code:e,weight:1}}));m({title:r("add_priority_rule"),checked:e.map((function(e){return!1})),data:{limit:1,weights:n},index:Z?Z.length:0,icon:(0,x.jsx)(rn.Z,{})})},children:[(0,x.jsx)(rn.Z,{sx:{paddingRight:"8px"}})," ",r("add_priority_rule")]}),f&&f.data&&(0,x.jsx)(Ri,{t:r,title:f.title,data:function(e,n){var t=(0,cn.Z)(e.weights).filter((function(e){return n.includes(e.code)}));return t.length<=1&&q(),{limit:Math.min(e.limit,t.length-1),weights:t}}(f.data,p),index:f.index,getChildLabelByCode:w,checked:f.checked,onSubmit:function(e){return function(e,n){var t=Z?(0,cn.Z)(Z):[];t[n]=(0,i.Z)({},e),I(t),q()}(e,f.index)},onCancel:q})]})}var Yi="OrderPrioritySetup_selectValue__EUfPq",Bi="CustomRandom_addNew__hrO3g",Vi="RandomItemSetup_title__Qx6nL",Hi="RandomItemSetup_list__C45+T",Qi="RandomItemSetup_randomAction__1nuVz",Ki="RandomItemSetup_listItem__VsBzq",Wi="RandomItemSetup_randomItem__CFGWW";function Gi(e){var n=e.t,t=(0,o.useState)(e.checked),i=(0,v.Z)(t,2),r=i[0],a=i[1],l=(0,o.useState)(e.randomOption),s=(0,v.Z)(l,2),d=s[0],u=s[1],_=[n("random_order"),n("flip_order"),n("sort_by_label")],f=["RANDOM","FLIP","ALPHA"],m=function(e,n){var t=(0,cn.Z)(r);t[n]=e,a((0,cn.Z)(t))};return(0,x.jsxs)(hn.Z,{className:Wi,children:[(0,x.jsx)("h4",{className:Vi,children:e.title}),(0,x.jsx)(Ot.Z,{variant:"standard",fullWidth:!0,children:(0,x.jsx)(at.Z,{id:"select-value",value:d,label:"Select Value",onChange:function(e){u(e.target.value)},children:_.map((function(e,n){return(0,x.jsx)(lt.Z,{value:f[n],children:e},e)}))})}),(0,x.jsx)("ul",{className:Hi,children:e.data&&e.data.map((function(n,t){return(0,x.jsx)(Ui,{code:n,handleChange:function(e){return m(e,t)},checked:(null===r||void 0===r?void 0:r[t])||!1,label:e.getChildLabelByCode(n)},t)}))}),(0,x.jsxs)("div",{className:Qi,children:[(0,x.jsx)(c.Z,{variant:"text",onClick:function(n){return e.onCancel()},children:n("cancel")}),(0,x.jsx)(c.Z,{variant:"contained",onClick:function(n){return function(){if(r.filter((function(e){return e})).length<2)return!1;var n=r.reduce((function(n,t,i){return t&&n.push(e.data[i]),n}),[]);e.onSubmit(n,d)}()},disabled:!(r.filter((function(e){return e})).length>=2),children:n("submit")})]})]})}function Ui(e){var n=e.code,t=e.label,i=e.checked,o=e.handleChange;return(0,x.jsxs)("li",{className:Ki,children:[(0,x.jsx)(Ei.Z,{checked:i,onChange:function(e){return o(e.target.checked)}}),n,": ",t]})}var Xi={randomHeader:"RandomItemDisplay_randomHeader__h5RnA",title:"RandomItemDisplay_title__egKLa",action:"RandomItemDisplay_action__4iEz7",settingIcon:"RandomItemDisplay_settingIcon__BY-Zp",list:"RandomItemDisplay_list__7bD2d",randomAction:"RandomItemDisplay_randomAction__HriCA",listItem:"RandomItemDisplay_listItem__Csro3",label:"RandomItemDisplay_label__ytzfN",input:"RandomItemDisplay_input__3AKdU",listItemError:"RandomItemDisplay_listItemError__zrWni",randomItem:"RandomItemDisplay_randomItem__PCpWo",highlighted:"RandomItemDisplay_highlighted__kM2sI"},Ji=function(e,n){switch(e){case"ALPHA":return n("sort_by_label");case"RANDOM":return n("random_order");case"FLIP":return n("flip_order")}throw"unidentified randomOption: "+e};function $i(e){var n=e.t;return(0,x.jsxs)(hn.Z,{className:"".concat(Xi.randomItem," ").concat(e.isBeingEdited?Xi.highlighted:""),children:[(0,x.jsxs)("div",{className:Xi.randomHeader,children:[(0,x.jsx)("h4",{className:Xi.title,children:Ji(e.randomOption,n)}),(0,x.jsxs)("div",{className:Xi.action,children:[(0,x.jsx)(Ve.Z,{onClick:function(){return e.onEditClicked(e.index)},children:(0,x.jsx)(qi.Z,{className:Xi.settingIcon})}),(0,x.jsx)(Ve.Z,{onClick:function(){return e.onDeleteClicked(e.index)},children:(0,x.jsx)(Di.default,{className:Xi.settingIcon})})]})]}),(0,x.jsx)("ul",{className:Xi.list,children:e.data&&e.data.map((function(n,t){return(0,x.jsx)(eo,{label:e.getChildLabelByCode(n),code:n,childrenCodes:e.childrenCodes},t)}))})]})}function eo(e){var n=e.code,t=e.label,i=e.childrenCodes;return(0,x.jsx)("li",{className:-1!==i.indexOf(n)?Xi.listItem:Xi.listItemError,children:(0,x.jsxs)("div",{className:"".concat(Xi.content," ").concat(Xi.label),children:[n,": ",t]})})}function no(e){var n,t,i=e.t,r=e.type,a=e.code,l=e.hideErrors,s=(0,g.I0)(),d=(0,o.useState)({}),u=(0,v.Z)(d,2),_=u[0],f=u[1],m=(0,g.v9)((function(e){return e.designState[a]})),h=(0,g.v9)((function(e){var n,t,i,o;return(null===(n=e.designState[a])||void 0===n||null===(t=n.children)||void 0===t||null===(i=t.filter((function(e){return!r||e.type==r})))||void 0===i||null===(o=i.filter((function(e){var n,t;return"welcome"!=(null===(n=e.groupType)||void 0===n?void 0:n.toLowerCase())&&"end"!=(null===(t=e.groupType)||void 0===t?void 0:t.toLowerCase())})))||void 0===o?void 0:o.map((function(e){return e.code})))||[]})),p=(0,g.v9)((function(e){return e.designState.langInfo.lang})),j=(0,g.v9)((function(e){var n,t,i;return(null===(n=e.designState[a])||void 0===n||null===(t=n.children)||void 0===t||null===(i=t.filter((function(e){return!r||e.type==r})))||void 0===i?void 0:i.map((function(n){var t,i;return{code:n.code,label:null===(t=e.designState[n.qualifiedCode].content)||void 0===t||null===(i=t.label)||void 0===i?void 0:i[p]}})))||[]})),y=(0,H.NI)(m,"random_group"),b=(null===y||void 0===y||null===(n=y.groups)||void 0===n?void 0:n.filter((function(e){return!r||e.codes.some((function(e){return h.includes(e)}))})))||[],Z=b.map((function(e){return e.codes})).flat(),S=(null===y||void 0===y||null===(t=y.errors)||void 0===t?void 0:t.filter((function(e){return e.items.some((function(e){return Z.includes(e)}))})))||[],C=function(e){s(r?(0,ne.HU)({code:a,groups:e,type:r}):(0,ne.mm)({code:a,groups:e}))},I=function(e){var n,t=null===(n=j.find((function(n){return n.code==e})))||void 0===n?void 0:n.label;return null===t||void 0===t?void 0:t.replace(/<[^>]*>/g,"")},w=function(e){return h.filter((function(e){return!Z.includes(e)}))},N=function(e){return(0,cn.Z)(e.codes).sort((function(e,n){return h.findIndex((function(n){return n===e}))-h.findIndex((function(e){return e===n}))}))},k=function(){f({})},q=!_||0==Object.keys(_).length;return(0,x.jsxs)(x.Fragment,{children:[b&&b.map((function(e,n){return(0,x.jsx)($i,{t:i,data:N(e),randomOption:e.randomOption,index:n,isBeingEdited:_.index==n,childrenCodes:h,getChildLabelByCode:I,onDeleteClicked:function(e){f({}),function(e){window.confirm(i("are_you_sure"))&&C(b.filter((function(n,t){return t!==e})))}(e)},onEditClicked:function(e){return function(e){var n,t=[],o=w();n=(t=h.filter((function(n){return o.includes(n)||b[e].codes.includes(n)}))).map((function(n){return!!b[e].codes.includes(n)})),f({index:e,checked:n,randomOption:b[e].randomOption||"RANDOM",title:i("edit_random_rule"),data:t})}(e)}},n)})),!l&&S.length>0?(0,x.jsx)(Ni,{errors:S}):"",q&&(0,x.jsxs)(c.Z,{className:Bi,variant:"contained",disabled:w().length<2,onClick:function(){var e=w();f({title:i("add_new_random_rule"),data:e,checked:[],randomOption:"RANDOM",index:b?b.length:0})},children:[(0,x.jsx)(on.Z,{sx:{paddingRight:"8px"}})," ",i("add_random_rule")]}),_&&_.data&&(0,x.jsx)(Gi,{t:i,title:_.title,data:function(e,n){var t=(0,cn.Z)(e).filter((function(e){return n.includes(e)}));return t.length<=1&&k(),t}(_.data,h),randomOption:_.randomOption,getChildLabelByCode:I,checked:_.checked,onSubmit:function(e,n){return function(e,n,t){var i=b?(0,cn.Z)(b):[];i[t]={codes:e,randomOption:n},C(i),k()}(e,n,_.index)},onCancel:k})]})}function to(e){var n=e.t,t=e.rule,i=e.code,o=(0,g.I0)(),r=(0,g.v9)((function(e){return e.designState[i][t]||"NONE"})),a="",l=[],c=[];switch(t){case"randomize_questions":a=n("questions_order"),l=[n("as_is"),n("random_order"),n("flip_order"),n("custom_random")],c=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_questions":a=n("questions_priority"),l=[n("no_priority"),n("prioritise_questions")],c=["NONE","prioritize"];break;case"randomize_groups":a=n("groups_order"),l=[n("as_is"),n("random_order"),n("flip_order"),n("custom_random")],c=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_groups":a=n("groups_priority"),l=[n("no_priority"),n("prioritise_groups")],c=["NONE","prioritize"];break;case"randomize_options":a=n("options_order"),l=[n("as_is"),n("random_order"),n("flip_order"),n("sort_by_label"),n("custom_random")],c=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_options":a=n("options_priority"),l=[n("no_priority"),n("prioritise_options")],c=["NONE","prioritize"];break;case"randomize_rows":a=n("rows_order"),l=[n("as_is"),n("random_order"),n("flip_order"),n("sort_by_label"),n("custom_random")],c=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_rows":a=n("rows_priority"),l=[n("no_priority"),n("prioritise_rows")],c=["NONE","prioritize"];break;case"randomize_columns":a=n("columns_order"),l=[n("as_is"),n("random_order"),n("flip_order"),n("sort_by_label"),n("custom_random")],c=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_columns":a=n("columns_priority"),l=[n("no_priority"),n("prioritise_columns")],c=["NONE","prioritize"]}return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h4",{children:a}),(0,x.jsx)(Ot.Z,{className:Yi,variant:"standard",fullWidth:!0,children:(0,x.jsx)(at.Z,{id:"select-value",value:r,label:"Select Value",onChange:function(e){!function(e){var n="NONE"==e?void 0:e;o((0,ne.wE)({code:i,key:t,value:n}))}(e.target.value)},children:l.map((function(e,n){return(0,x.jsx)(lt.Z,{value:c[n],children:e},e)}))})}),"custom"==r&&-1!==["randomize_questions","randomize_options","randomize_groups"].indexOf(t)&&(0,x.jsx)(no,{label:"",code:i,t:n}),"custom"==r&&"randomize_rows"==t&&(0,x.jsx)(no,{label:"",type:"row",code:i,t:n}),"prioritize"==r&&"prioritize_rows"==t&&(0,x.jsx)(Mi,{label:"",type:"row",code:i,t:n}),"custom"==r&&"randomize_columns"==t&&(0,x.jsx)(no,{label:"",type:"column",code:i,t:n}),"prioritize"==r&&"prioritize_columns"==t&&(0,x.jsx)(Mi,{label:"",type:"column",code:i,t:n}),"prioritize"==r&&-1!==["prioritize_questions","prioritize_options","prioritize_groups"].indexOf(t)&&(0,x.jsx)(Mi,{label:"",code:i,t:n})]})}var io=function(e){var n,t=e.setupInfo,i=e.t,o=(0,g.I0)(),r=1===(null===(n=t.rules)||void 0===n?void 0:n.length),a=function(e){var n;return(0,x.jsxs)(Si.Z,{expanded:(null===(n=t.expanded)||void 0===n?void 0:n.includes(e.key))||r||!1,TransitionProps:{unmountOnExit:!0},children:[(0,x.jsx)(Ci.Z,{sx:{backgroundColor:"#ECECEC",margin:0},onClick:function(){return n=e.key,void o((0,ne.wI)(n));var n},className:Zi.setupHeader,expandIcon:r?null:(0,x.jsx)(Pt.Z,{}),children:(0,x.jsx)("span",{className:Zi.sectionTitle,children:i(e.title)})}),(0,x.jsx)(Ii.Z,{sx:{backgroundColor:e.key==t.highlighted?"beige":"background.paper"},children:e.rules.map((function(e){return l(e)}))})]},t.code+e.title)},l=function(e){if(e.startsWith("validation_"))return(0,x.jsx)(At,{t:i,rule:e,code:t.code},t.code+e);switch(e){case"theme":return(0,x.jsx)(Jt,{t:i},t.code+e);case"maxChars":return(0,x.jsx)(dt,{label:i("text_field_size"),rule:e,lowerBound:1,upperBound:500,defaultValue:20,code:t.code},t.code+e);case"minRows":return(0,x.jsx)(dt,{label:i("textarea_lines"),lowerBound:1,upperBound:500,code:t.code,defaultValue:20},t.code+e);case"hideText":return(0,x.jsx)(Et,{label:i("hide_text"),rule:e,code:t.code},t.code+e);case"showWordCount":return(0,x.jsx)(Et,{label:i("show_word_count"),rule:e,code:t.code},t.code+e);case"hint":return(0,x.jsx)(mt,{t:i,code:t.code},t.code+e);case"lower_bound_hint":return(0,x.jsx)(ft,{title:i("lower_bound_hint"),objectName:"lower_bound_hint",code:t.code},t.code+e);case"higher_bound_hint":return(0,x.jsx)(ft,{title:i("upper_bound_hint"),objectName:"higher_bound_hint",code:t.code},t.code+e);case"loop":return(0,x.jsx)(Et,{rule:e,code:t.code,label:i("loop_video")},t.code+e);case"audio_only":return(0,x.jsx)(Et,{rule:e,code:t.code,label:i("audio_only")},t.code+e);case"fullDayFormat":return(0,x.jsx)(Et,{rule:e,code:t.code,label:i("fullday_format")},t.code+e);case"randomize_questions":case"prioritize_questions":case"randomize_options":case"prioritize_options":case"randomize_groups":case"prioritize_groups":case"randomize_rows":case"prioritize_rows":case"randomize_columns":case"prioritize_columns":return(0,x.jsx)(to,{t:i,rule:e,code:t.code},t.code+e);case"maxDate":return(0,x.jsx)(Mt,{lowerBound:1,code:t.code,label:i("max_date"),rule:e},t.code+e);case"minDate":return(0,x.jsx)(Mt,{label:i("min_date"),rule:e,code:t.code},t.code+e);case"dateFormat":return(0,x.jsx)(Rt,{values:["DD.MM.YYYY","MM.DD.YYYY","YYYY.MM.DD","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"],defaultValue:"DD.MM.YYYY",label:i("date_format"),rule:e,code:t.code},t.code+e);case"imageAspectRatio":return(0,x.jsx)(Rt,{values:[1,1.7778,1.3333,1.5,.562,.75,.6667],labels:["1:1","16:9","4:3","3:2","9:16","3:4","2:3"],defaultValue:"1:1",label:i("image_aspect_ratio"),rule:e,code:t.code},t.code+e);case"columns":return(0,x.jsx)(Rt,{values:["1","2","3","4","6"],defaultValue:"2",label:i("columns_number"),rule:e,code:t.code},t.code+e);case"imageHeight":return(0,x.jsx)(dt,{label:i("image_height"),lowerBound:50,upperBound:500,code:t.code,defaultValue:250,rule:e},t.code+e);case"spacing":return(0,x.jsx)(dt,{label:i("spacing"),lowerBound:2,upperBound:32,code:t.code,defaultValue:8,rule:e},t.code+e);case"skip_logic":return(0,x.jsx)(bi,{t:i,code:t.code},t.code+e);case"relevance":return(0,x.jsx)(_i,{t:i,code:t.code},t.code+e);default:return""}};return(0,x.jsx)(x.Fragment,{children:t.rules.map((function(e,n){return a(e)}))})};var oo=function(e){var n=e.t,t=(0,g.I0)(),i=(0,g.v9)((function(e){return e.designState.setup})),o=(0,g.v9)((function(e){return e.designState.langInfo})),r=null===o||void 0===o?void 0:o.lang,a=null===o||void 0===o?void 0:o.languagesList;return(0,x.jsxs)(F.Z,{sx:{backgroundColor:"background.paper"},className:st.leftContent,children:[(0,x.jsx)(at.Z,{id:"ChangeLang",value:r,onChange:function(e){t((0,ne.t4)(e.target.value))},children:a?a.map((function(e,n){return(0,x.jsx)(lt.Z,{value:e.code,children:e.langName},n)})):""}),(0,x.jsxs)("div",{className:st.leftPanelGroupItem,children:[(0,x.jsx)(Ve.Z,{onClick:function(){return(0,xn.zL)(r)},children:(0,x.jsx)(rt.Z,{className:st.settingIcon})}),(0,x.jsx)(Ve.Z,{onClick:function(){return t((0,ne.cY)({code:"Survey",rules:[{title:n("theme"),rules:["theme"]}]}))},children:(0,x.jsx)(ct.Z,{className:st.settingIcon})}),(0,x.jsx)(Ve.Z,{onClick:function(){return t((0,ne.cY)(Ie.vv))},children:(0,x.jsx)(Ce.Z,{className:st.settingIcon})})]}),(0,x.jsx)(x.Fragment,{children:i?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:st.close,children:(0,x.jsx)(Ve.Z,{onClick:function(){return t((0,ne.Wy)())},children:(0,x.jsx)(Ze.Z,{})})}),(0,x.jsx)(io,{t:n,setupInfo:i})]}):(0,x.jsx)(Gn.ZP,{t:n})})]})},ro=t(11647),ao=t(8771),lo=t(27170),co="SavingSurvey_savingProgress__85uZ2";var so=function(){var e=(0,g.v9)((function(e){return e.designState.isSaving}));return(0,x.jsx)(ro.Z,{open:e,children:(0,x.jsxs)(ao.Z,{severity:"warning",children:["Saving Survey... ",(0,x.jsx)(lo.Z,{className:co,color:"warning"})]})})};var uo=function(){var e=(0,g.I0)(),n=(0,g.v9)((function(e){return e.designState.error||!1})),t=function(){e((0,ne.$g)(!1))};return n&&!n.seen&&(0,x.jsxs)(Qn.Z,{open:!0,onClose:function(){return t()},"aria-labelledby":"alert-dialog-title-error","aria-describedby":"alert-dialog-description",children:[(0,x.jsx)(Kn.Z,{id:"alert-dialog-title-error",children:"Error"}),(0,x.jsx)(li.Z,{children:n.message||""}),(0,x.jsx)(Wn.Z,{children:(0,x.jsx)(c.Z,{onClick:function(){return t()},children:"OK"})})]})};var vo=function(){var e=(0,Oe.$)(["design","run"]),n=e.t,t=e.i18n,v=(0,g.I0)(),_=(0,g.v9)((function(e){var n,t;return null===(n=e.designState.Survey)||void 0===n||null===(t=n.resources)||void 0===t?void 0:t.headerImage})),f=(0,g.v9)((function(e){var n;return null===(n=e.designState.Survey)||void 0===n?void 0:n.children})),m=(0,g.v9)((function(e){var n,t;return(null===(n=e.designState.Survey)||void 0===n||null===(t=n.instructionList)||void 0===t?void 0:t.length)>0})),h=(0,g.v9)((function(e){return e.designState.langInfo})),p=null===h||void 0===h?void 0:h.lang,j=(0,g.v9)((function(e){var n;return null===(n=e.designState.Survey)||void 0===n?void 0:n.theme})),y=function(e){v((0,ne.PK)(e))},b=function(e){v((0,ne.qQ)(e))};(0,o.useEffect)((function(){m||(0,xn.eO)(y,b,!0).then((function(e){e&&(console.log(e),t.loadLanguages(e.languages))}))}),[]),(0,o.useEffect)((function(){!function(e){new Promise((function(n,i){var o=E.Bc.includes(e)?"rtl":"ltr";document.dir!=o&&(document.dir=o),e&&t.changeLanguage(e),n()}))}(p)}),[p]);var Z=(0,ot.Z)({key:E.Bc.includes(p)?"muirtl":"muiltr",stylisPlugins:E.Bc.includes(p)?[tt.Ji,nt.Z]:null}),S=o.useCallback((0,a.Z)((0,i.Z)((0,i.Z)({},(0,Ie.ph)(j)),{},{direction:E.Bc.includes(p)?"rtl":"ltr"})),[j]);return(0,x.jsx)(it.C,{value:Z,children:(0,x.jsx)(l.Z,{theme:S,children:(0,x.jsxs)(s.Z,{children:[m&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:d,children:(0,x.jsxs)(r.Z5,{onDragEnd:function(e){var n,t;t=function(e){v((0,ne.dz)(e))},(n=e).destination&&("questions"==n.type&&(0,H.ty)(n.source.droppableId)&&(0,H.ty)(n.destination.droppableId)?t({type:"reorder_questions",source:n.source.droppableId,destination:n.destination.droppableId,id:n.draggableId,fromIndex:n.source.index,toIndex:n.destination.index}):"questions"==n.type&&"new-questions"==n.source.droppableId&&(0,H.ty)(n.destination.droppableId)?t({type:"new_question",questionType:n.draggableId,destination:n.destination.droppableId,toIndex:n.destination.index}):"groups"==n.type&&(0,H.ty)(n.draggableId)?t({type:"reorder_groups",id:n.draggableId,fromIndex:n.source.index,toIndex:n.destination.index}):"groups"!=n.type||"new-groups"!=n.source.droppableId?n.type.startsWith("option")?t({type:"reorder_answers",id:n.draggableId,fromIndex:n.source.index,toIndex:n.destination.index}):(n.type.startsWith("row")||n.type.startsWith("col"))&&t({type:"reorder_answers_by_type",id:n.draggableId,fromIndex:n.source.index,toIndex:n.destination.index}):t({type:"new_group",groupType:n.draggableId,toIndex:n.destination.index}))},children:[(0,x.jsx)(oo,{t:n}),(0,x.jsx)(et,{t:n,headerImage:_,groups:f})]})}),(0,x.jsx)("div",{className:u,children:(0,x.jsx)(c.Z,{variant:"contained",onClick:function(){window.confirm(n("are_you_sure"))&&(0,xn.uG)(y,b)},children:"Reset Data"})}),(0,x.jsx)(so,{})]}),(0,x.jsx)(uo,{})]})})})}}}]);
//# sourceMappingURL=238.b3fbc2ad.chunk.js.map