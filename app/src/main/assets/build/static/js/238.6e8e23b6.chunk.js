"use strict";(self.webpackChunkfrankie_react=self.webpackChunkfrankie_react||[]).push([[238],{64617:function(e,n,t){t.d(n,{Z:function(){return c}});t(72791);var i=t(95048),o=t(25248),r="Layout_main__FV28D",a=t(50228),l=t(80184);function c(e){var n=(0,i.v9)((function(e){return e.template.isLoading}));return(0,l.jsxs)(a.Z,{className:r,sx:{backgroundColor:"background.default",color:"text.primary"},children:[n?(0,l.jsx)(o.Z,{}):null,e.children]})}},83238:function(e,n,t){t.r(n),t.d(n,{default:function(){return lo}});var i=t(1413),o=t(72791),r=t(71287),a=t(21703),l=t(57012),c=t(75579),s=t(64617),d="EditSurvey_mainContainer__660V1",u="EditSurvey_updateButtons__LFbuB",v=t(29439),h=t(74244),f=t(48656),m=t(24643),p="TextQuestionDesign_questionItem__EDG6-",_=t(74142),g=t(95048),x=t(80184);var j=function(e){var n,t,i,o,r=e.code,a=(0,_.Z)(),l=(0,g.v9)((function(e){return e.designState[r]})),c=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:p,children:(0,x.jsx)(m.Z,{disabled:!0,variant:"standard",required:!(null===(n=l.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:l.showHint&&((null===(i=l.content)||void 0===i||null===(o=i.hint)||void 0===o?void 0:o[c])||""),value:"",InputProps:{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}}})})},y="EmailQuestionDesign_questionItem__BJLQa";var b=function(e){var n,t,i,o,r=e.code,a=(0,_.Z)(),l=(0,g.v9)((function(e){return e.designState[r]})),c=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:y,children:(0,x.jsx)(m.Z,{disabled:!0,variant:"standard",required:!(null===(n=l.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:l.showHint&&((null===(i=l.content)||void 0===i||null===(o=i.hint)||void 0===o?void 0:o[c])||""),InputProps:{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}},value:""})})},Z="NumberQuestionDesign_questionItem__BtoyZ";var S=function(e){var n,t,i,o,r=e.code,a=(0,_.Z)(),l=(0,g.v9)((function(e){return e.designState[r]})),c=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:Z,children:(0,x.jsx)(m.Z,{disabled:!0,variant:"standard",required:!(null===(n=l.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:l.showHint&&((null===(i=l.content)||void 0===i||null===(o=i.hint)||void 0===o?void 0:o[c])||""),value:"",InputProps:{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}}})})},C=t(33168),w=t(71747),I="ParagraphQuestionDesign_questionItem__1iaDm",k="ParagraphQuestionDesign_paragraph__bAU0T",N="ParagraphQuestionDesign_wordCount__7Meli";var q=function(e){var n,t,i,o,r=e.code,a=(0,C.$)("common").t,l=(0,g.v9)((function(e){return e.designState[r]})),c=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsxs)("div",{className:I,children:[(0,x.jsx)(w.Z,{disabled:!0,className:k,required:!(null===(n=l.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),placeholder:l.showHint&&((null===(i=l.content)||void 0===i||null===(o=i.hint)||void 0===o?void 0:o[c])||""),minRows:l.minRows||2,value:""}),l.showWordCount?(0,x.jsx)("div",{className:N,children:(0,x.jsx)("span",{children:a("word_count",{lng:c,count:0})})}):""]})},D="QuestionDesign_textDescriptionContent__esAki",A="QuestionDesign_groupQuestion__6eWyU",P="QuestionDesign_titleQuestion__JyiBU",L="QuestionDesign_questionWrapper__PwQ1z",O="QuestionDesign_moveBox__dVlu+",E=t(15614),R="ContentEditor_fullWidth__Dd36B",z="ContentEditor_noPadding__ohOAq",F="ContentEditor_placeholder__c-aPx",T=t(50228),M=t(74165),B=t(15861),Y=(t(86009),t(66770)),H=t.n(Y),V=t(95943),Q=(t(33193),t(57126)),G=function(e,n){var t=[],i=e.find((function(e){return e.code===n}));if(!i)return t;i.parent&&W(e,i).forEach((function(n){t=t.concat(K(e,n))}));return((0,Q.ty)(i.code)||(0,Q.KX)(i.code))&&(t=t.concat(K(e,i))),t},W=function e(n,t){var i=[],o=n.find((function(e){return e.code===t.parent}));return o&&o.parent&&(i.push(o),i=i.concat(e(n,o))),i},K=function(e,n){var t=[];if(!(0,Q.ty)(n.code)&&!(0,Q.KX)(n.code))return t;var i=e.filter((function(e){return e.parent===n.parent&&e.maxIndex<n.minIndex&&(!n.prioritisedSiblings||-1===n.prioritisedSiblings.indexOf(e.code))}));return i.forEach((function(n){t=(t=t.concat(n.code)).concat(U(e,n))})),t},U=function e(n,t){var i=[];return(0,Q.ty)(t.code)?(t.children&&t.children.forEach((function(t){var o=n.find((function(e){return e.code===t}));i=(i=i.concat(o.code)).concat(e(n,o))})),i):i},J=function(e,n,t,i){var o=G(e,n),r=[];return o.forEach((function(e){if((0,Q.KX)(e)){var n=X(e,t[e],t,i);n.length&&(r=r.concat(n))}})),r},X=function(e,n,t,i){var o,r,a=e+". "+(0,Q.oN)(null===(o=n.content)||void 0===o||null===(r=o.label)||void 0===r?void 0:r[i]),l="",c=n.type;switch(n.type){case"scq_array":return n.children.filter((function(e){return"row"==e.type})).map((function(n){var o,r;return{value:a+" - "+e+". "+(0,Q.oN)(null===(o=t[n.qualifiedCode].content)||void 0===o||null===(r=o.label)||void 0===r?void 0:r[i]),id:e+n.code,type:"SCQ Array Row",instruction:e+n.code+".masked_value"}}));case"text":c="Short Text",l="".concat(e,".value");break;case"nps":c="NPS",l="".concat(e,".value");break;case"email":c="Email",l="".concat(e,".value");break;case"paragraph":l="".concat(e,".value"),c="Long Text";break;case"number":c="Number",l="".concat(e,".value");break;case"date":c="Date",l="".concat(e,".masked_value");break;case"time":c="time",l="".concat(e,".masked_value");break;case"date_time":c="Date Time",l="".concat(e,".masked_value");break;case"scq":c="SCQ",l="".concat(e,".masked_value");break;case"image_scq":c="Image SCQ",l="".concat(e,".masked_value");break;case"mcq":c="MCQ",l="".concat(e,".masked_value");break;case"image_mcq":c="Image MCQ",l="".concat(e,".masked_value");break;default:return[]}return[{id:e,instruction:l,value:a,type:c}]},$=t(42038);function ee(e){var n=e.value,t=e.onBlurListener,r=e.extended,a=e.isRtl,l=e.lang,c=e.code;console.log("DraftEditor for: "+c);var s=function(e,n){return n?"<p>"+e.replace(/<br>/gi,"").replace(/<p>/gi,"").replace(/<\/p>/,"")+"</p>":e},d=o.createRef(),u=(0,o.useState)(s(n,!r)),h=(0,v.Z)(u,2),f=h[0],m=h[1],p=(0,o.useState)(0),_=(0,v.Z)(p,2),g=_[0],j=_[1];function y(e){return b.apply(this,arguments)}function b(){return b=(0,B.Z)((0,M.Z)().mark((function e(n){var t,i,o,r;return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$.Kj.getState().designState,i=J(t.componentIndex,c,t,t.langInfo.mainLang),0!==n.length){e.next=6;break}return e.abrupt("return",i);case 6:for(o=[],r=0;r<i.length;r++)i[r].value.toLowerCase().indexOf(n.toLowerCase())>=0&&o.push(i[r]);return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}(0,o.useEffect)((function(){var e=d.current.getEditor();e.setSelection(e.getLength(),0)}),[d.current]);var Z=(0,o.useMemo)((function(){return{mention:{dataAttributes:["instruction","type"],isolateCharacter:!0,allowedChars:/[^\p{L}\p{N}]*$/,mentionDenotationChars:["@"],showDenotationChar:!1,onSelect:function(e,n){n((0,i.Z)((0,i.Z)({},e),{},{value:"{{".concat(e.id,":").concat(e.type,"}}")}))},source:function(){var e=(0,B.Z)((0,M.Z)().mark((function e(n,t){var i;return(0,M.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n);case 2:i=e.sent,t(i);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},toolbar:{container:r?[["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]:[["bold","italic","underline","strike","link"],[{color:[]},{background:[]}],["clean"]]}}}),[]),S=null,C=function(){j(Date.now()),S&&clearTimeout(S)};return(0,x.jsx)("div",{onFocus:C,onBlur:function(){Date.now()-g>100&&(S=setTimeout((function(){t(f,l)}),100))},children:(0,x.jsx)(H(),{className:a?"rtl":"ltr",theme:"snow",ref:d,modules:Z,formats:["bold","italic","underline","strike","direction","list","bullet","indent","color","background","mention","link"],value:f,onChange:function(e){C(),m(s(e,!r))}})})}Y.Quill.register("modules/mentions",V.Z);var ne=o.memo(ee),te=t(76723);function ie(e){var n=e.placeholder,t=e.extended,i=e.contentKey,r=e.code,a=e.onActive;console.log("ContentEditor for : "+r);var l=(0,g.I0)(),c=(0,g.v9)((function(e){var n;return null===(n=e.designState[r].content)||void 0===n?void 0:n[i]})),s=(0,g.v9)((function(e){return e.designState.langInfo})),d=s.lang,u=s.mainLang,h=s.mainLang==s.lang,f=(null===c||void 0===c?void 0:c[d])||"",m=h?n:(null===c||void 0===c?void 0:c[u])||n,p=(0,o.useState)(!1),_=(0,v.Z)(p,2),j=_[0],y=_[1],b=E.Bc.includes(d);return(0,x.jsx)(T.Z,{className:R,onClick:function(e){e.preventDefault(),y(!0),a()},children:j?(0,x.jsx)(ne,{lang:d,isRtl:b,code:r,extended:t,onBlurListener:function(e,n){y(!1),d==n&&e!=f&&l((0,te.ve)({code:r,key:i,lang:d,value:e}))},value:f}):/[^<br><p><\/p>\s]/gm.test(f)?(0,x.jsx)("div",{className:"".concat(b?"rtl":"ltr"," ql-editor ").concat(z),dangerouslySetInnerHTML:{__html:f}}):(0,x.jsx)("div",{className:"".concat(b?"rtl":"ltr"," ql-editor ").concat(F),dangerouslySetInnerHTML:{__html:m}})})}var oe=o.memo(ie),re="FileUploadQuestionDesign_questionItem__-vw7A";var ae=function(e){var n,t,i=e.code,o=(0,_.Z)(),r=(0,g.v9)((function(e){return e.designState[i]})),a=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:re,children:(0,x.jsx)(m.Z,{variant:"standard",required:!(null===(n=r.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:r.showHint&&r.content.hint?r.content.hint[a]:"",InputProps:{sx:{fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}},value:"",type:"file",disabled:!0})})},le="DateTimeQuestionDesign_questionItem__YMDye";var ce=function(e){var n,t,i=e.code,o=(0,_.Z)(),r=(0,g.v9)((function(e){return e.designState[i]})),a=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:le,children:(0,x.jsx)(m.Z,{disabled:!0,variant:"standard",required:!(null===(n=r.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:r.showHint&&r.content.hint?r.content.hint[a]:"",value:"",InputProps:{sx:{fontFamily:o.textStyles.text,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}},placeholder:r.dateFormat})})},se="TimeQuestionDesign_questionItem__iDKIk";var de=function(e){var n,t,i=e.code,o=(0,_.Z)(),r=(0,g.v9)((function(e){return e.designState[i]})),a=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:se,children:(0,x.jsx)(m.Z,{disabled:!0,variant:"standard",required:!(null===(n=r.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:r.showHint&&r.content.hint?r.content.hint[a]:"",value:"",type:"time",InputProps:{sx:{fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}}})})},ue={answerAdd:"ChoiceQuestion_answerAdd__9qS4f",answerIcon:"ChoiceQuestion_answerIcon__sVvpM"},ve=t(16378),he=t(98937),fe=t(44897),me="ChoiceQuestionItem_answerItem__N6qqg",pe="ChoiceQuestionItem_answerIcon__Z6vZ9",_e="ChoiceQuestionItem_answerIconOther__WSecR",ge="ChoiceQuestionItem_answerNumberOrder__zPAV+",xe="ChoiceQuestionItem_answerControl__MZIIJ",je="ChoiceQuestionItem_answerControlOther__Yl0co",ye=t(47462),be=t(29823),Ze=t(22482),Se=t(78527),Ce=t(83708);var we=function(e){var n=(0,g.I0)(),t=(0,_.Z)(),o=(0,g.v9)((function(e){return e.designState.langInfo})),a=(0,g.v9)((function(n){return n.designState[e.qualifiedCode]})),l=o.lang===o.mainLang,c=o.lang,s=(0,g.v9)((function(n){var t;return"other"===a.type&&(null===(t=n.designState.setup)||void 0===t?void 0:t.code)==e.qualifiedCode+"Atext"})),d=(0,g.v9)((function(n){var t,i;return null===(t=n.designState[e.qualifiedCode].content)||void 0===t||null===(i=t.label)||void 0===i?void 0:i[c]})),u=(0,g.v9)((function(n){var t,i;return null===(t=n.designState[e.qualifiedCode].content)||void 0===t||null===(i=t.label)||void 0===i?void 0:i[o.mainLang]})),v=function(n){switch(n){case"radio":return(0,x.jsx)(ve.Z,{className:pe,sx:{fontSize:18,color:Ze.Z[600]}});case"checkbox":return(0,x.jsx)(he.default,{className:pe,sx:{fontSize:18,color:Ze.Z[600]}});case"numberOrder":return(0,x.jsx)("div",{className:ge,style:{fontFamily:t.textStyles.text.font,color:t.textStyles.text.color,fontSize:18},children:e.code})}};return(0,x.jsx)(r._l,{draggableId:e.qualifiedCode,index:e.index,children:function(o){return(0,x.jsxs)(T.Z,(0,i.Z)((0,i.Z)((0,i.Z)({sx:{backgroundColor:s?"beige":"inherit"},ref:o.innerRef},o.draggableProps),o.dragHandleProps),{},{className:me,children:[(0,x.jsx)(ye.Z,{className:pe,sx:{fontSize:18,color:Ze.Z[600]}}),v(e.type),e.label?(0,x.jsx)("b",{children:e.label}):"",(0,x.jsx)(m.Z,{variant:"standard",className:"other"===a.type?je:xe,value:d||"",onChange:function(t){return n((0,te.ve)({code:e.qualifiedCode,key:"label",lang:c,value:t.target.value}))},placeholder:l?"Option":u||"Option",InputProps:{sx:{fontFamily:t.textStyles.text.font,color:t.textStyles.text.color,fontSize:t.textStyles.text.size}}}),"other"===a.type&&(0,x.jsx)(Se.Z,{sx:{fontSize:18,color:Ze.Z[600]},className:_e,onClick:function(){n((0,te.cY)({code:e.qualifiedCode+"Atext",rules:Ce.I3.other_text}))}},"setup"),(0,x.jsx)(be.Z,{sx:{fontSize:18,color:Ze.Z[600]},className:pe,onClick:function(t){return n((0,te.EU)(e.qualifiedCode))}},"close")]}))}})};var Ie=function(e){var n=(0,_.Z)(),t=(0,g.v9)((function(n){return n.designState[e.code].children})),o=(0,g.v9)((function(n){return n.designState[e.code].type})),a=("mcq"==o||"scq"==o)&&(!t||!t.some((function(e){return"Aother"===e.code})));return(0,x.jsxs)("div",{className:ue.questionItem,children:[(0,x.jsx)(r.bK,{droppableId:"option-".concat(e.code),type:"option-".concat(e.code),children:function(n){return(0,x.jsxs)("div",(0,i.Z)((0,i.Z)({ref:n.innerRef},n.droppableProps),{},{children:[t&&t.length>0&&t.map((function(n,t){return(0,x.jsx)(we,{code:n.code,label:n.code,qualifiedCode:n.qualifiedCode,index:t,type:e.type},n.code)})),n.placeholder]}))}}),(0,x.jsxs)("div",{className:ue.answerAdd,children:["checkbox"===e.type?(0,x.jsx)(he.default,{style:{fontSize:18,color:Ze.Z[600]},className:ue.answerIcon}):"radio"===e.type?(0,x.jsx)(ve.Z,{style:{fontSize:18,color:Ze.Z[600]},className:ue.answerIcon}):(0,x.jsx)(fe.Z,{style:{fontSize:18,color:Ze.Z[600]},className:ue.answerIcon}),(0,x.jsx)(c.Z,{size:"small",style:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},onClick:function(){return e.addNewAnswer(e.code,o)},children:"Add option"}),a&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{children:"or"}),(0,x.jsx)(c.Z,{style:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},size:"small",className:ue.answerIcon,onClick:function(){return e.addNewAnswer(e.code,o,"other")},children:'Add "Other"'})]})]})]})},ke="SCQArray_scqList__tpRDP",Ne="SCQArray_scqItem__qj08e",qe="SCQArray_answerAdd__UmJHS";var De=function(e){var n=(0,_.Z)(),t=(0,g.v9)((function(n){var t;return(null===(t=n.designState[e.code].children)||void 0===t?void 0:t.filter((function(e){return"row"==e.type})))||[]})),o=(0,g.v9)((function(n){var t;return(null===(t=n.designState[e.code].children)||void 0===t?void 0:t.filter((function(e){return"column"==e.type})))||[]}));return(0,x.jsxs)("div",{className:ke,children:[(0,x.jsx)(r.bK,{droppableId:"row-".concat(e.code),type:"row-".concat(e.code),children:function(o){return(0,x.jsxs)("div",(0,i.Z)((0,i.Z)({ref:o.innerRef},o.droppableProps),{},{className:Ne,children:[(0,x.jsx)("h5",{children:"Rows"}),t&&t.map((function(e,n){return(0,x.jsx)(we,{code:e.code,index:n,qualifiedCode:e.qualifiedCode,type:"numberOrder"},e.code)})),o.placeholder,(0,x.jsx)("div",{className:qe,children:(0,x.jsx)(c.Z,{sx:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},onClick:function(n){return e.addNewAnswer(e.code,e.type,"row")},children:"Add row"})})]}))}}),(0,x.jsx)(r.bK,{droppableId:"col-".concat(e.code),type:"col-".concat(e.code),children:function(t){return(0,x.jsxs)("div",(0,i.Z)((0,i.Z)({ref:t.innerRef},t.droppableProps),{},{className:Ne,children:[(0,x.jsx)("h5",{children:"Columns"}),o&&o.map((function(e,n){return(0,x.jsx)(we,{code:e.code,index:n,qualifiedCode:e.qualifiedCode,type:"radio"},e.code)})),t.placeholder,(0,x.jsx)("div",{className:qe,children:(0,x.jsx)(c.Z,{sx:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},size:"small",onClick:function(n){return e.addNewAnswer(e.code,e.type,"column")},children:"Add Column"})})]}))}})]})},Ae="ErrorDisplay_errorDisplay__V716q",Pe="ErrorDisplay_clickable__4fP-L",Le=t(15146);function Oe(e){var n,t=(0,g.I0)(),o=(0,g.v9)((function(n){return n.designState[e.code]})),r=o.errors,a=o.designErrors,l=null===(n=o.instructionList)||void 0===n?void 0:n.filter((function(e){return e.errors})),c=(null===r||void 0===r?void 0:r.length)>0||(null===a||void 0===a?void 0:a.length)>0||(null===l||void 0===l?void 0:l.length)>0,s=(0,g.v9)((function(n){var t;return"Survey"==e.code?"":(0,Q.ty)(e.code)?(null===(t=n.designState[e.code].groupType)||void 0===t?void 0:t.toLowerCase())||"group":n.designState[e.code].type}));return c?(0,x.jsxs)(T.Z,{className:Ae,children:[r&&r.map((function(n){return(0,x.jsxs)("div",{children:[(0,x.jsx)(be.Z,{style:{verticalAlign:"middle"}}),Ee(e.code,n)]},n)})),a&&a.map((function(e){return(0,x.jsxs)("div",{children:[(0,x.jsx)(be.Z,{style:{verticalAlign:"middle"}}),e.message]},e.code)})),l&&l.map((function(n){return(0,x.jsxs)("div",{className:(o=n,"conditional_relevance"===o.code||"random_group"===o.code||"priority_groups"===o.code||o.code.startsWith("skip_to")?Pe:""),onClick:function(){return function(n){return"conditional_relevance"===n.code?t((0,te.cY)({code:e.code,rules:Ce.I3[s],highlighted:"relevance",expanded:["relevance"]})):"random_group"===n.code||"priority_groups"===n.code?"Survey"==e.code?t((0,te.cY)((0,i.Z)((0,i.Z)({},Ce.vv),{},{highlighted:"random"}))):t((0,te.cY)({code:e.code,rules:Ce.I3[s],highlighted:"random",expanded:["random"]})):n.code.startsWith("skip_to")&&t((0,te.cY)({code:e.code,rules:Ce.I3[s],highlighted:"skip_logic",expanded:["skip_logic"]})),""}(n)},children:[(0,x.jsx)(Le.Z,{style:{verticalAlign:"middle"}}),Re(n)]},n.code);var o}))]}):""}var Ee=function(e,n){return"EMPTY_PARENT"===n?"This ".concat(ze(e)," cannot be empty, Please add at least one ").concat(Fe(e)):"DUPLICATE_CODE"===n?"This ".concat(ze(e)," has a duplicate code"):"NO_END_GROUP"===n?"There must be an valid end Group":"MISPLACED_END_GROUP"===n?"End Group must always be the last group":"MISPLACED_WELCOME_GROUP"===n?"Welcome Group must always be the first group":""},Re=function(e){return"value"===e.code&&"ValueInEndGroup"==e.errors[0].name?"Cannot have questions that capture user input in End Group":"conditional_relevance"===e.code?"Problem with Show/Hide Logic":"random_group"===e.code?"Problem with Random Group instructions":"priority_groups"===e.code?"Problem with Priority Group instructions":e.code.startsWith("reference")?(0,x.jsxs)("span",{children:["Problem piping a value of missing or a following question:",(0,x.jsxs)("b",{children:[" ",e.errors.map((function(e){return e.dependency.componentCode})).join(", ")]}),", in Language:  ",(0,x.jsx)("b",{children:e.lang})," "]}):e.code.startsWith("skip_to")?"Problem with one of the skip instructions":""},ze=function(e){return"Survey"==e?"Survey":(0,Q.KX)(e)?"Question":(0,Q.ty)(e)?"Group":"Survey"==e?"Survey":"Answer"},Fe=function(e){return(0,Q.ty)(e)?"question":"Survey"==e?"group":"Answer"},Te=(0,o.memo)(Oe),Me=t(75196),Be=t(51508),Ye="ActionToolbar_actionControl__yq1fK",He="ActionToolbar_statusIcon__O6YRN",Ve="ActionToolbar_actionIcon__NtsQP",Qe="ActionToolbar_settingIcon__njjP9",Ge="ActionToolbar_deleteIcon__q5C-6",We=t(82271),Ke=t(91291),Ue=t(32207),Je=t(3746),Xe=t(59581),$e=t(50194),en=t(14373),nn=t(60428),tn=t(40842);var on=function(e){var n=e.code,t=e.isGroup,o=e.parentCode,r=e.collapsed,a=e.toggleCollapse,l=e.disableDelete,c=e.onDelete,s=e.onClone,d=(0,g.I0)(),u=(0,g.v9)((function(e){var i;return t?(null===(i=e.designState[n].groupType)||void 0===i?void 0:i.toLowerCase())||"group":e.designState[n].type})),v=(0,g.v9)((function(e){var t,i,o=null===(t=e.designState[n])||void 0===t||null===(i=t.instructionList)||void 0===i?void 0:i.find((function(e){return"conditional_relevance"==e.code}));return"undefined"!==typeof o&&!o.errors})),h=(0,g.v9)((function(e){var i,o,r;return!t&&(null===(i=e.designState[n])||void 0===i||null===(o=i.instructionList)||void 0===o||null===(r=o.filter((function(e){return e.code.startsWith("validation_")&&!e.errors})))||void 0===r?void 0:r.length)>0})),f=function(){d(t?(0,te.cY)((0,i.Z)((0,i.Z)({},Ce.vv),{},{highlighted:"random"})):(0,te.cY)({code:o,rules:Ce.I3.group,highlighted:"random",expanded:["random"]}))},m=(0,g.v9)((function(e){var t,i,o,r=null===(t=e.designState[n])||void 0===t||null===(i=t.instructionList)||void 0===i?void 0:i.filter((function(e){return e.code.startsWith("skip_to")}));return(null===r||void 0===r||null===(o=r.filter((function(e){return!e.errors})))||void 0===o?void 0:o.length)>=1})),p=(0,g.v9)((function(e){var t,i=null===(t=e.designState.componentIndex)||void 0===t?void 0:t.find((function(e){return e.code==n}));return i&&i.minIndex!=i.maxIndex})),_=(0,g.v9)((function(e){var t,i=null===(t=e.designState.componentIndex)||void 0===t?void 0:t.find((function(e){return e.code==n}));return i&&i.prioritisedSiblings}));return(0,x.jsxs)("div",{className:Ye,children:[(0,x.jsx)(Me.Z,{onClick:a,children:r?(0,x.jsx)(Ue.Z,{}):(0,x.jsx)(Ke.Z,{})}),v&&(0,x.jsx)(Be.Z,{title:"Has show/Hide Condition",children:(0,x.jsx)(Me.Z,{className:He,onClick:function(){d((0,te.cY)({code:n,rules:Ce.I3[u],highlighted:"relevance",expanded:["relevance"]}))},children:(0,x.jsx)(Je.Z,{})})}),h&&(0,x.jsx)(Be.Z,{title:"Has Validation",children:(0,x.jsx)(Me.Z,{className:He,onClick:function(){d((0,te.cY)({code:n,rules:Ce.I3[u],highlighted:"validation",expanded:["validation"]}))},children:(0,x.jsx)(Xe.Z,{})})}),p&&(0,x.jsx)(Be.Z,{title:"Is part of a valid Random Group (within parent)",children:(0,x.jsx)(Me.Z,{className:He,onClick:function(){return f()},children:(0,x.jsx)(en.Z,{})})}),_&&(0,x.jsx)(Be.Z,{title:"Is part of a valid Priority Group (within parent)",children:(0,x.jsx)(Me.Z,{className:He,onClick:function(){return f()},children:(0,x.jsx)(nn.Z,{})})}),m&&(0,x.jsx)(Be.Z,{title:"Has active Skip Logic",children:(0,x.jsx)(Me.Z,{className:He,onClick:function(){d((0,te.cY)({code:n,rules:Ce.I3[u],highlighted:"skip_logic",expanded:["skip_logic"]}))},children:(0,x.jsx)(tn.Z,{})})}),"welcome"!=u&&"end"!=u&&(0,x.jsx)(Me.Z,{onClick:function(){d((0,te.cY)({code:n,rules:Ce.I3[u]}))},children:(0,x.jsx)(Se.Z,{className:Qe})}),!t&&(0,x.jsx)(Me.Z,{onClick:function(){return s()},children:(0,x.jsx)($e.Z,{className:Ve})}),(0,x.jsx)(Me.Z,{onClick:function(){window.confirm("Are you sure?")&&c()},disabled:l,children:(0,x.jsx)(We.Z,{className:Ge})})]})},rn=t(93433),an={addAnswerIcon:"ImageChoiceQuestion_addAnswerIcon__XBShg",addAnswerButton:"ImageChoiceQuestion_addAnswerButton__7AZ4K"},ln=t(11749),cn=t(95152),sn="ImageChoiceQuestionItem_imageIconButton__qWlaj",dn="ImageChoiceQuestionItem_imageContainer__c6Ftx",un="ImageChoiceQuestionItem_addAnswerIcon__Zq8j3",vn="ImageChoiceQuestionItem_addAnswerButton__tNoUp",hn=t(48928),fn=t(85399),mn=t(235),pn=t(8181),_n=t(42419);var gn=function(e){var n=e.qualifiedCode,t=e.imageHeight,i=e.hideText,o=e.spacing,r=e.type,a=e.addAnswer,l=(0,g.I0)(),c=(0,_.Z)(),s=(0,g.v9)((function(e){return e.designState.langInfo})),d=(0,g.v9)((function(e){return"add"==r?void 0:e.designState[n]})),u=s.lang===s.mainLang,v=s.lang,h=(0,g.v9)((function(e){var t,i;return"add"==r||null===(t=e.designState[n].content)||void 0===t||null===(i=t.label)||void 0===i?void 0:i[v]})),f=(0,g.v9)((function(e){var t,i;return"add"==r||null===(t=e.designState[n].content)||void 0===t||null===(i=t.label)||void 0===i?void 0:i[s.mainLang]})),p=null!==d&&void 0!==d&&d.image?"url('".concat((0,pn.pT)(d.image),"')"):"0";return"add"==r?(0,x.jsx)(mn.P,{style:{padding:o+"px"},children:(0,x.jsx)(hn.Z,{className:vn,style:{backgroundColor:c.palette.background.default,height:t+"px",width:"100%"},children:(0,x.jsx)(Me.Z,{className:un,onClick:function(){a()},children:(0,x.jsx)(_n.default,{})})})},"add"):(0,x.jsxs)(mn.P,{style:{padding:o+"px"},children:[(0,x.jsxs)(hn.Z,{className:dn,style:{backgroundImage:p,backgroundColor:c.palette.background.default,height:t+"px"},children:[(0,x.jsx)(Me.Z,{className:sn,onClick:function(){window.confirm("Are you sure?")&&l((0,te.EU)(n))},children:(0,x.jsx)(We.Z,{})}),(0,x.jsxs)(Me.Z,{component:"label",className:sn,children:[(0,x.jsx)("input",{hidden:!0,id:n,accept:"image/*",multiple:!0,type:"file",onChange:function(e){e.preventDefault();var t=e.target.files[0];(0,pn.hN)(t).then((function(e){l((0,te.wE)({code:n,key:"image",value:t.name}))})).catch((function(e){console.error(e)}))}}),(0,x.jsx)(fn.Z,{})]})]}),!i&&(0,x.jsx)(m.Z,{variant:"standard",value:h||"",onChange:function(e){return l((0,te.ve)({code:n,key:"label",lang:v,value:e.target.value}))},placeholder:u?"Option":f||"Option",InputProps:{sx:{fontFamily:c.textStyles.text.font,color:c.textStyles.text.color,fontSize:c.textStyles.text.size}}})]},n)};var xn=function(e){var n=(0,o.useRef)(null),t=(0,g.I0)(),i=(0,o.useState)(800),r=(0,v.Z)(i,2),a=r[0],l=r[1],c=(0,g.v9)((function(n){return n.designState[e.code].children||[]})),s=(0,g.v9)((function(n){return n.designState[e.code].type})),d=[].concat((0,rn.Z)(c),[{type:"add",code:"add"}]),u=(0,g.v9)((function(n){return n.designState[e.code].columns||2})),h=(0,g.v9)((function(n){return n.designState[e.code].hideText||!1})),f=(0,g.v9)((function(n){return n.designState[e.code].spacing||8})),m=(0,g.v9)((function(n){return n.designState[e.code].imageAspectRatio||1})),p=h?0:80,_=(a-u*f*2)/u/m,j=Math.ceil(((c?c.length:0)+1)/u)*(_+p+u*f);return(0,o.useEffect)((function(){var e;l(null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.offsetWidth)}),[n]),(0,x.jsx)("div",{ref:n,className:an.questionItem,style:{direction:"ltr"},children:_&&(0,x.jsx)(ln.d,{onChange:function(e,n,i,o){if(n<d.length-1&&i<d.length-1){var r={type:"reorder_answers",id:c[n].qualifiedCode,fromIndex:n,toIndex:i};t((0,te.dz)(r))}},children:(0,x.jsx)(cn.$,{id:"items-"+e.code,boxesPerRow:u,rowHeight:_+p+f,style:{height:j+"px"},children:d.map((function(n){return(0,x.jsx)(gn,{spacing:f,addAnswer:function(){return e.addNewAnswer(e.code,s)},type:n.type,imageHeight:_,hideText:h,qualifiedCode:n.qualifiedCode},n.code)}))})})})},jn=t(96710),yn=t(62946),bn="VideoDisplay_buttonContainer__6VAZM";var Zn=function(e){var n=e.code,t=((0,_.Z)(),(0,g.I0)()),i=(0,g.v9)((function(e){return e.designState[n]}));return(0,x.jsxs)(x.Fragment,{children:[i.videoUrl&&(0,x.jsx)("div",{style:{position:"relative",marginTop:"16px",paddingTop:i.audio_only?"10%":"56%"},children:(0,x.jsx)(jn.Z,{url:(0,pn.pT)(i.videoUrl),loop:i.loop||!1,light:!0,controls:!0,config:{forceAudio:i.audio_only||!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),(0,x.jsx)("div",{className:bn,children:(0,x.jsxs)(c.Z,{component:"label",variant:"outlined",startIcon:(0,x.jsx)(yn.Z,{}),children:[i.video?"Replace Video":"Upload Video",(0,x.jsx)("input",{hidden:!0,id:n,accept:"video/*",multiple:!0,type:"file",onChange:function(e){e.preventDefault();var i=e.target.files[0];(0,pn.hN)(i).then((function(e){t((0,te.wE)({code:n,key:"videoUrl",value:i.name}))})).catch((function(e){console.error(e)}))}})]})})]})},Sn="SignatureDesign_signatureCanvas__jOfTs";var Cn=function(){return(0,x.jsx)(T.Z,{className:Sn,sx:{backgroundColor:"background.default"},children:(0,x.jsx)("img",{src:"/signature.png",style:{backgroundColor:"rgba(255,255,255,255)",width:"80%",maxWidth:"500px",height:"200px"}})})},wn="ImageDisplayDesign_buttonContainer__SadKg";var In=function(e){var n=e.code,t=(0,g.I0)(),i=(0,g.v9)((function(e){return e.designState[n]}));return(0,x.jsxs)(x.Fragment,{children:[i.imageUrl&&(0,x.jsx)("img",{style:{width:"100%"},src:(0,pn.pT)(i.imageUrl)}),(0,x.jsx)("div",{className:wn,children:(0,x.jsxs)(c.Z,{component:"label",variant:"outlined",startIcon:(0,x.jsx)(fn.Z,{}),children:[i.video?"Replace Image":"Upload Image",(0,x.jsx)("input",{hidden:!0,id:n,accept:"image/*",type:"file",onChange:function(e){e.preventDefault();var i=e.target.files[0];(0,pn.hN)(i).then((function(e){t((0,te.wE)({code:n,key:"imageUrl",value:i.name}))})).catch((function(e){console.error(e)}))}})]})})]})},kn="NPSDesign_choicesContainer__Cyv+p",Nn="NPSDesign_choice__rb5mj",qn="NPSDesign_choiceLabels__j5tr-";var Dn=function(e){var n,t,i,o,r=e.code,a=((0,_.Z)(),(0,g.v9)((function(e){return e.designState[r]}))),l=(0,g.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(T.Z,{className:qn,children:[(0,x.jsx)(T.Z,{children:null===(n=a.content)||void 0===n||null===(t=n.lower_bound_hint)||void 0===t?void 0:t[l]}),(0,x.jsx)(T.Z,{children:null===(i=a.content)||void 0===i||null===(o=i.higher_bound_hint)||void 0===o?void 0:o[l]})]}),(0,x.jsx)(T.Z,{className:kn,children:[0,1,2,3,4,5,6,7,8,9,10].map((function(e){return(0,x.jsx)(T.Z,{className:Nn,children:e},e)}))})]})};function An(e){var n=e.code,t=e.type,r=e.parentCode,a=e.dragHandleProps;console.log(n);var l=(0,g.I0)(),c=(0,_.Z)(),s=(0,g.v9)((function(e){var t;return(null===(t=e.designState.setup)||void 0===t?void 0:t.code)==n})),d=(0,g.v9)((function(e){return e.designState[n].children})),u=(0,g.v9)((function(e){return e.designState[n].collapsed})),v=function(e,n,t){var i=d||[],o=1,r="",a="",c="",s={code:"value",isActive:!1,returnType:{name:"ranking"==n||"nps"==n||"image_ranking"==n?"Int":"Boolean"},text:""};switch(t){case"column":c="Col"+(o=(0,E.To)(i.filter((function(e){return"column"===e.type})))),a=e+(r="Ac"+o),l((0,te.KC)({label:c,answer:{code:r,qualifiedCode:a,type:t}}));break;case"row":c="Row"+(o=(0,E.To)(i.filter((function(e){return"row"===e.type})))),a=e+(r="A"+o),l((0,te.KC)({label:c,instructionList:[s],answer:{code:r,qualifiedCode:a,type:t}}));break;case"other":c="Other",a=e+(r="Aother");var u=[{code:"value",isActive:!1,returnType:{name:"String"},text:""},{code:"conditional_relevance",isActive:!0,returnType:{name:"Boolean"},text:"".concat(e,"scq"===n?".value === 'Aother'":"Aother.value === true")}];l((0,te.KC)({label:c,answer:{code:r,qualifiedCode:a,type:t},instructionList:"mcq"==n?[s]:[]})),l((0,te.KC)({instructionList:u,answer:{code:"Atext",qualifiedCode:a+"Atext",type:"other_text"}}));break;default:c="Option"+(o=(0,E.To)(i)),a=e+(r="A"+o),l((0,te.KC)({label:c,answer:{code:r,qualifiedCode:a},instructionList:"mcq"==n||"image_mcq"==n||"ranking"==n||"image_ranking"==n?[s]:[]}))}},m=o.useCallback((function(){l((0,te.cY)({code:n,rules:Ce.I3[t]}))}));return(0,x.jsxs)(T.Z,{sx:{backgroundColor:s?"beige":"background.paper",borderColor:"grey.500"},className:"".concat(A),children:[(0,x.jsxs)("div",{className:L,children:[(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",(0,i.Z)((0,i.Z)({className:O},a),{},{children:(0,x.jsx)(f.Z,{})})),(0,x.jsx)(on,{isGroup:!1,code:n,parentCode:r,toggleCollapse:function(){l((0,te.sj)(n))},collapsed:u,onClone:function(){return l((0,te.Jv)(n))},onDelete:function(){return l((0,te.Km)(n))},disableDelete:!1})]}),(0,x.jsx)("div",{className:P,style:{fontFamily:c.textStyles.question.font,color:c.textStyles.question.color,fontSize:c.textStyles.question.size},children:(0,x.jsx)(oe,{code:n,extended:!1,onActive:m,placeholder:"Title",contentKey:"label"})}),(0,x.jsx)(T.Z,{className:D,children:(0,x.jsx)(oe,{code:n,onActive:m,extended:!0,placeholder:"Description",contentKey:"description"})})]}),(0,x.jsx)(h.Z,{in:!0!==u,timeout:"auto",unmountOnExit:!0,children:function(){switch(t){case"video_display":return(0,x.jsx)(Zn,{code:n},n);case"image_display":return(0,x.jsx)(In,{code:n},n);case"signature":return(0,x.jsx)(Cn,{});case"date_time":case"date":return(0,x.jsx)(ce,{code:n},n);case"time":return(0,x.jsx)(de,{code:n},n);case"scq":return(0,x.jsx)(Ie,{addNewAnswer:v,code:n,type:"radio"},n);case"image_mcq":case"image_scq":case"image_ranking":return(0,x.jsx)(xn,{addNewAnswer:v,code:n},n);case"scq_array":return(0,x.jsx)(De,{addNewAnswer:v,code:n},n);case"file_upload":return(0,x.jsx)(ae,{code:n},n);case"mcq":return(0,x.jsx)(Ie,{addNewAnswer:v,code:n,type:"checkbox"},n);case"ranking":return(0,x.jsx)(Ie,{addNewAnswer:v,code:n,type:"ranking"},n);case"nps":return(0,x.jsx)(Dn,{code:n},n);case"number":return(0,x.jsx)(S,{code:n},n);case"text":return(0,x.jsx)(j,{code:n},n);case"paragraph":return(0,x.jsx)(q,{code:n},n);case"email":return(0,x.jsx)(b,{code:n},n);default:return""}}()}),(0,x.jsx)(Te,{code:n})]})}var Pn=o.memo(An),Ln="GroupDesign_textHeader__SAOqm",On="GroupDesign_textDescription__oEn1z",En="GroupDesign_titleRow__rAwtS",Rn="GroupDesign_groupCard__gMTTB",zn="GroupDesign_questionsOuterContainer__LI1bK",Fn="GroupDesign_questionsInnerContainer__vKaDl",Tn="GroupDesign_groupHeader__PwsgO",Mn="GroupDesign_moveBox__fQMku",Bn=t(58195),Yn=t(40464),Hn=t(77248);function Vn(e){console.log(e.code);var n=(0,g.I0)(),t=o.useState(!1),a=(0,v.Z)(t,2),l=a[0],s=a[1],d=(0,g.v9)((function(n){return n.designState[e.code].collapsed})),u=(0,g.v9)((function(n){var t;return(null===(t=n.designState.setup)||void 0===t?void 0:t.code)==e.code})),m=(0,g.v9)((function(n){return n.designState[e.code].children})),p=(0,g.v9)((function(e){return e.designState.langInfo})),j=function(){n((0,te.sj)(e.code))},y=o.useCallback((function(){n((0,te.cY)({code:e.code,rules:Ce.I3.group}))})),b=(0,_.Z)();return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(r._l,{isDragDisabled:e.isDragDisabled,draggableId:e.code,index:e.dragIndex,children:function(t){return(0,x.jsx)("div",(0,i.Z)((0,i.Z)({ref:t.innerRef},t.draggableProps),{},{children:(0,x.jsxs)(T.Z,{className:Rn,dir:E.Bc.includes(p.lang)?"rtl":"ltr",sx:{borderColor:"grey.500",boxShadow:1,backgroundColor:u?"beige":"background.paper"},children:[(0,x.jsx)(T.Z,{sx:{backgroundColor:"primary.main",height:"8px"},className:Tn}),(0,x.jsx)("div",(0,i.Z)((0,i.Z)({},t.dragHandleProps),{},{className:Mn,onMouseDown:function(n){e.isDragDisabled&&(n.preventDefault(),s(!0))},children:(0,x.jsx)(f.Z,{})})),(0,x.jsx)(on,{code:e.code,isGroup:!0,toggleCollapse:j,collapsed:d,onDelete:function(){return n((0,te.iE)(e.code))},disableDelete:m&&m.length>0}),(0,x.jsxs)("div",{className:En,children:[(0,x.jsx)("div",{className:Ln,style:{fontFamily:b.textStyles.group.font,color:b.textStyles.group.color,fontSize:b.textStyles.group.size},children:(0,x.jsx)(oe,{code:e.code,extended:!1,onActive:y,contentKey:"label",placeholder:"Title"})}),(0,x.jsx)(T.Z,{className:On,children:(0,x.jsx)(oe,{code:e.code,extended:!0,onActive:y,contentKey:"description",placeholder:"Description"})})]}),(0,x.jsx)(Te,{type:"group",code:e.code})]})}))}},e.code),(0,x.jsx)(h.Z,{className:zn,dir:E.Bc.includes(p.lang)?"rtl":"",in:!0!==d,sx:{backgroundColor:u?"beige":"background.paper"},timeout:"auto",unmountOnExit:!0,children:(0,x.jsx)(r.bK,{droppableId:e.code,type:"questions",children:function(n){return(0,x.jsxs)(T.Z,(0,i.Z)((0,i.Z)({ref:n.innerRef},n.droppableProps),{},{className:Fn,sx:{backgroundColor:"background.default"},children:[null===m||void 0===m?void 0:m.map((function(n,t){return(0,x.jsx)(r._l,{parentIndex:e.dragIndex,draggableId:n.code,index:e.dragIndex+t+1,children:function(o,r){return(0,x.jsx)("div",(0,i.Z)((0,i.Z)({ref:o.innerRef,snapshot:r},o.draggableProps),{},{children:(0,x.jsx)(Pn,{dragHandleProps:o.dragHandleProps,parentCode:e.code,index:t,type:n.type,code:n.code},n.code)}))}},n.code)})),n.placeholder]}))}})}),(0,x.jsxs)(Bn.Z,{open:l,onClose:function(){return s(!1)},"aria-labelledby":"alert-dialog-title-collapse-all","aria-describedby":"alert-dialog-description",children:[(0,x.jsx)(Yn.Z,{id:"alert-dialog-title-collapse-all",children:"All Groups Must be collapsed first before you can drag them... Collapse All?"}),(0,x.jsxs)(Hn.Z,{children:[(0,x.jsx)(c.Z,{onClick:function(){return s(!1)},children:"Cancel"}),(0,x.jsx)(c.Z,{onClick:function(){n((0,te.lh)()),s(!1)},children:"Collapse"})]})]})]})}var Qn=o.memo(Vn),Gn={surveyGroups:"ContentPanel_surveyGroups__use9E",dropPanel:"ContentPanel_dropPanel__0HjAU",droppable:"ContentPanel_droppable__LptFO",footer:"ContentPanel_footer__JC4SU",headerImage:"ContentPanel_headerImage__kWXIo"},Wn=t(30199);var Kn=function(e){var n,t=(0,_.Z)(),o=!1,a=(0,g.v9)((function(n){return(0,te.em)(n.designState,e.groups)}),E.dv),l=(0,g.v9)((function(n){var t,i={};return null===(t=e.groups)||void 0===t||t.forEach((function(e){i[e.code]=n.designState[e.code].collapsed})),i}),E.dv);return null===(n=e.groups)||void 0===n||n.forEach((function(e){e&&!l[e.code]&&(o=!0)})),(0,x.jsxs)("div",{className:Gn.dropPanel,style:{fontFamily:t.textStyles.text.font,color:t.textStyles.text.color,fontSize:t.textStyles.text.size},children:[(0,x.jsx)(Te,{code:"Survey"}),(0,x.jsx)(r.bK,{droppableId:"content-panel",type:"groups",children:function(n){return(0,x.jsxs)("div",(0,i.Z)((0,i.Z)({className:Gn.droppable,ref:n.innerRef},n.droppableProps),{},{children:[e.headerImage&&(0,x.jsx)(Wn.Z,{className:Gn.cardImage,component:"img",image:(0,pn.pT)(e.headerImage),height:"140"}),e.groups&&e.groups.map((function(e){return(0,x.jsx)(Qn,{className:Gn.surveyGroups,code:e.code,dragIndex:a.indexOf(e.code),isDragDisabled:o},e.code)})),n.placeholder,(0,x.jsx)("div",{className:Gn.footer})]}))}})]})},Un=t(93740),Jn=t(8197),Xn=t(29886),$n=t(24086),et=t(45401),nt=t(23571),tt=t(93835),it=t(80473),ot={leftContent:"LeftPanel_leftContent__-JUSc",leftPanelGroupItem:"LeftPanel_leftPanelGroupItem__ATUDj",close:"LeftPanel_close__H42Zx"};var rt=function(e){var n=e.label,t=e.rule,i=e.defaultValue,o=e.code,r=e.lowerBound,a=e.upperBound,l=(0,g.I0)(),c=(0,g.v9)((function(e){return e.designState[o][t]||i})),s=c<r||c>a;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h4",{children:[n,":"]}),(0,x.jsx)(m.Z,{label:n,error:s,variant:"outlined",type:"number",size:"small",style:{maxWidth:"200px"},value:c,onChange:function(e){return function(e){l((0,te.wE)({code:o,key:t,value:Math.max(r,Math.min(a,e.target.value))}))}(e)}})]})},at=t(71770),lt="ShowHint_showHint__zyqpL",ct="ShowHint_inputValue__f4Zu9";function st(e){var n=e.code,t=e.objectName,i=e.title,o=(0,g.I0)(),r=(0,g.v9)((function(e){return e.designState.langInfo.languagesList})),a=(0,g.v9)((function(e){var i;return null===(i=e.designState[n].content)||void 0===i?void 0:i[t]}));return(0,x.jsxs)(x.Fragment,{children:[i&&(0,x.jsx)("h4",{children:i}),r.map((function(e){return(0,x.jsx)("div",{className:ct,children:(0,x.jsx)(m.Z,{label:e.langName,variant:"standard",type:"text",value:(null===a||void 0===a?void 0:a[e.code])||"",onChange:function(i){return function(e,i){o((0,te.ve)({code:n,key:t,lang:e,value:i}))}(e.code,i.target.value)}})},e.code)}))]})}var dt=function(e){var n=e.code,t=(0,g.I0)(),o=(0,g.v9)((function(e){return e.designState[n].showHint||!1}));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:lt,children:[(0,x.jsx)("h4",{children:"Show Question Hint"}),(0,x.jsx)(at.Z,(0,i.Z)((0,i.Z)({},{inputProps:{"aria-label":"Switch demo"}}),{},{checked:o,onChange:function(e){return i=e.target.checked,void t((0,te.wE)({code:n,key:"showHint",value:i}));var i}}))]}),o&&(0,x.jsx)(st,{code:n,objectName:"hint"})]})},ut="ValidationSetupItem_boxContainer__isukr",vt="ValidationSetupItem_title__sTQ7E",ht=t(4942),ft="ValidationSetupMessage_mt10__9R8dy",mt="ValidationSetupMessage_uppercase__h-ZCF",pt="ValidationSetupMessage_title__ZQ9C5",_t="ValidationSetupMessage_errorWrapper__pbHit",gt="ValidationSetupMessage_errorLabelWrapper__69Ph6",xt="ValidationSetupMessage_errorItem__PmtdY",jt="ValidationSetupMessage_errorItemContainer__nwkXe";var yt=function(e){var n=e.validationRule,t=e.code,o=e.rule,r=(0,C.$)("common").t,a=(0,g.I0)(),l=n.isCustomErrorActive||!1,c=(0,g.v9)((function(e){return e.designState.langInfo.languagesList})),s=n.content||{};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h4",{children:"Standard Error"}),(0,x.jsxs)("div",{className:_t,children:[(0,x.jsx)("div",{className:gt,children:c.map((function(e){return(0,x.jsxs)("div",{className:"".concat(xt," ").concat(mt),children:[e.code,":"]},e.code)}))}),(0,x.jsx)("div",{children:c.map((function(e){return(0,x.jsx)("div",{className:xt,children:r(o,(0,i.Z)({lng:e.code},n))},e.code)}))})]}),(0,x.jsxs)("div",{className:pt,children:[(0,x.jsx)("h4",{className:ft,children:"Custom Error"}),(0,x.jsx)(at.Z,(0,i.Z)((0,i.Z)({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:l,onChange:function(e){return n=e.target.checked,void a((0,te.de)({code:t,rule:o,key:"isCustomErrorActive",value:n}));var n}}))]}),l?(0,x.jsxs)("div",{className:_t,children:[(0,x.jsx)("div",{className:gt,children:c.map((function(e){return(0,x.jsxs)("div",{className:"".concat(xt," ").concat(mt),children:[e.code,":"]},e.code)}))}),(0,x.jsx)("div",{className:jt,children:c.map((function(e){return(0,x.jsx)("div",{className:xt,children:(0,x.jsx)(m.Z,{size:"small",variant:"standard",value:s[e.code]||"",onChange:function(n){return function(e,n){var r=(0,i.Z)((0,i.Z)({},s),{},(0,ht.Z)({},e,n));a((0,te.de)({code:t,rule:o,key:"content",value:r}))}(e.code,n.target.value)}})},e.code)}))})]}):""]})},bt="ValidationSetupValue_valueValidationItems__S1qIy",Zt="ValidationSetupValue_valueValidationItemsContainer__pyUrp";var St=function(e){return Object.keys(e).filter((function(e){return!["content","isActive","isCustomErrorActive","bounds"].includes(e)}))},Ct=function(e){var n=e.code,t=e.validation,i=e.rule,o=(0,g.v9)((function(e){var t,o,r;switch(i){case"validation_min_char_length":case"validation_max_char_length":case"validation_max_word_count":case"validation_min_word_count":return[1,Number.MAX_VALUE];case"validation_min_ranking_count":case"validation_min_option_count":return[1,(null===(t=e.designState[n].children)||void 0===t?void 0:t.length)||0];case"validation_max_ranking_count":case"validation_max_option_count":return[1,(null===(o=e.designState[n].children)||void 0===o?void 0:o.length)||0];case"validation_ranking_count":case"validation_option_count":return[1,(null===(r=e.designState[n].children)||void 0===r?void 0:r.length)||0];default:return}})),r=(0,g.I0)(),a=function(e,t){!function(e,t){r((0,te.de)({rule:i,code:n,key:e,value:t}))}(e,"undefined"===typeof o?t:Math.max(o[0],Math.min(o[1],t)))},l=St(t),c="";switch(i){case"validation_min_char_length":c="Min Character:";break;case"validation_max_char_length":c="Max Character:";break;case"validation_contains":c="Contain:";break;case"validation_not_contains":c="Does not contain any of:";break;case"validation_pattern":c="Matches regex pattern:";break;case"validation_max_word_count":c="Max Word Count:";break;case"validation_min_word_count":c="Min Word Count:";break;case"validation_between":c="Between:";break;case"validation_not_between":c="Not Between:";break;case"validation_lt":c="Less than:";break;case"validation_lte":c="Less than or equal:";break;case"validation_gt":c="Greater than:";break;case"validation_gte":c="Greater than or equal:";break;case"validation_equals":c="Equals:";break;case"validation_not_equal":c="Not equal:";break;case"min_count":c="Min count";break;case"max_count":c="Max count";break;case"exact_count":c="Exact count";break;case"required_other_answer":c="Required answer for other"}return(0,x.jsxs)("div",{className:Zt,children:[l&&(0,x.jsx)("div",{children:c}),(0,x.jsx)("div",{className:bt,children:l.map((function(e){var n="undefined"!==typeof o&&(t[e]<o[0]||t[e]>o[1]);return(0,x.jsx)(m.Z,{error:n,value:t[e],variant:"outlined",size:"small",type:"number"===typeof t[e]?"number":"text",onChange:function(n){return a(e,"number"===typeof t[e]?parseInt(n.target.value):n.target.value)},style:{maxWidth:"150px",marginLeft:c?"30px":"0"}},e)}))})]})};function wt(e){var n=e.rule,t=e.code;console.log("ValidationSetupItem: "+t);var o=(0,g.I0)(),r=(0,g.v9)((function(e){var i,o;return null===(i=e.designState[t])||void 0===i||null===(o=i.validation)||void 0===o?void 0:o[n]})),a=(null===r||void 0===r?void 0:r.isActive)||!1,l="";switch(n){case"validation_required":l="Required";break;case"validation_min_char_length":l="Min Character Length";break;case"validation_max_char_length":l="Max Character Length";break;case"validation_contains":l="Contain";break;case"validation_not_contains":l="Does not contain";break;case"validation_pattern":l="Regex pattern";break;case"validation_max_word_count":l="Max Word Count";break;case"validation_min_word_count":l="Min Word Count";break;case"validation_pattern_email":l="Pattern Email";break;case"validation_between":l="Between";break;case"validation_not_between":l="Not Between";break;case"validation_lt":l="Less than";break;case"validation_lte":l="Less than or equal";break;case"validation_gt":l="Greater than";break;case"validation_gte":l="Greater than or equal";break;case"validation_equals":l="Equals";break;case"validation_not_equal":l="Not equal";break;case"validation_min_option_count":l="Min option count";break;case"validation_max_option_count":l="Max option count";break;case"validation_option_count":case"validation_option_countt":l="Exact option count";break;case"validation_min_ranking_count":l="Min ranked count";break;case"validation_max_ranking_count":l="Max ranked count";break;case"validation_ranking_count":l="Exact ranked count"}return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:vt,children:[(0,x.jsx)("h4",{children:l}),(0,x.jsx)(at.Z,(0,i.Z)((0,i.Z)({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:a,onChange:function(e){return i=e.target.checked,void o((0,te.de)({code:t,rule:n,key:"isActive",value:i}));var i}}))]}),a&&(0,x.jsxs)(T.Z,{className:ut,children:[(0,x.jsx)(Ct,{code:t,validation:r,rule:n}),(0,x.jsx)(yt,{code:t,validationRule:r,rule:n})]})]})}var It=o.memo(wt),kt=t(81131),Nt="ToggleValue_toggleValue__gVDdF";var qt=function(e){var n=e.label,t=e.code,o=e.rule,r=(0,g.I0)(),a=(0,g.v9)((function(e){return e.designState[t][o]||!1}));return(0,x.jsxs)("div",{className:Nt,children:[(0,x.jsx)("h4",{children:n}),(0,x.jsx)(at.Z,(0,i.Z)((0,i.Z)({},{inputProps:{"aria-label":"Switch demo"}}),{},{checked:a,onChange:function(e){!function(e){r((0,te.wE)({code:t,key:o,value:e}))}(e.target.checked)}}))]})},Dt=t(45254),At={selectValue:"SelectValue_selectValue__rjCVG"};var Pt=function(e){var n=e.label,t=e.rule,i=e.defaultValue,o=e.code,r=e.values,a=e.labels,l=(0,g.I0)(),c=(0,g.v9)((function(e){return e.designState[o][t]||i}));return(0,x.jsxs)("div",{className:At.selectDate,children:[(0,x.jsx)("h4",{children:n}),(0,x.jsx)(Dt.Z,{variant:"standard",fullWidth:!0,children:(0,x.jsx)(nt.Z,{id:"select-value",value:c,label:"Select Value",onChange:function(e){!function(e){l((0,te.wE)({code:o,key:t,value:e}))}(e.target.value)},children:r.map((function(e,n){return(0,x.jsx)(tt.Z,{value:e,children:a?a[n]:e},e)}))})})]})},Lt="SelectDate_selectDate__sTfuX",Ot="SelectDate_selectDateField__6g3re";var Et=function(e){var n=e.label,t=e.rule,i=e.code,o=(0,g.I0)(),r=(0,g.v9)((function(e){return e.designState[i][t]||""}));return(0,x.jsxs)("div",{className:Lt,children:[(0,x.jsx)("h4",{children:n}),(0,x.jsx)(m.Z,{className:Ot,variant:"standard",value:r,type:"date",onChange:function(e){o((0,te.wE)({code:i,key:t,value:e.target.value}))}})]})},Rt="Theming_theming__nYZaJ",zt="ColorPicker_color__whIfs",Ft="ColorPicker_swatch__CkDF9",Tt="ColorPicker_cover__nxFXa",Mt=t(34257);var Bt=function(e){var n=(0,o.useState)(!1),t=(0,v.Z)(n,2),i=t[0],r=t[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{style:{backgroundColor:e.color||e.default},className:Ft,onClick:function(e){return r(!0)},children:(0,x.jsx)("div",{className:zt})}),i?(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:Tt,onClick:function(e){return r(!1)}}),(0,x.jsx)(Mt.FJ,{onChange:function(n){e.handleChange(n.hex),r(!1)}})]}):null]})},Yt="ThemingItem_themingItem__p7TBx",Ht="ThemingItem_themingItemBody__mk+gL";var Vt=function(e){var n=["Alegreya","Amatic SC","Arial","Bree Serif","Calibri","Cambria","Caveat","Comfortaa","Comic Sans MS","Courier New","EB Garamond","Georgia","Google Sans","Impact","Lexend","Lobster","Lora","Merriweather","Montserrat","Nunito","Oswald","Pacifico","Permanent Marker","Pinyon Script","Playfair Display","Proxima Nova","Roboto","Roboto Mono","Roboto Serif","Spectral","Times New Roman","Trebuchet MS","Ultra","Varela Round","Verdana"],t=Array.from({length:12},(function(e,n){return 2*n+10}));function o(n,t){e.onChange((0,i.Z)((0,i.Z)({},e.value),{},(0,ht.Z)({},n,t)))}return(0,x.jsxs)("div",{className:Yt,children:[(0,x.jsxs)("div",{className:Ht,children:[(0,x.jsx)(nt.Z,{size:"small",className:"mr-10",value:e.value.font||e.default.font,onChange:function(e){return o("font",e.target.value)},children:n&&n.length>0&&n.map((function(e,n){return(0,x.jsx)(tt.Z,{sx:{fontFamily:e},value:e,children:e},"fontFamily-".concat(n))}))},"fontFamily"),(0,x.jsx)(nt.Z,{size:"small",value:e.value.size||e.default.size,onChange:function(e){return o("size",e.target.value)},children:t&&t.length>0&&t.map((function(e,n){return(0,x.jsx)(tt.Z,{value:e,children:e},"fontSize-".concat(n))}))},"fontSize")]}),(0,x.jsx)("br",{}),(0,x.jsx)(Bt,{color:e.value.color,default:e.default.color,handleChange:function(e){return o("color",e)}})]})},Qt=t(95764);var Gt=function(){var e=(0,g.I0)(),n=(0,g.v9)((function(e){return e.designState.Survey.theme}));function t(t,o){e((0,te.wE)({code:"Survey",key:"theme",value:(0,i.Z)((0,i.Z)({},n),{},(0,ht.Z)({},t,o))}))}return(0,x.jsxs)("div",{className:Rt,children:[(0,x.jsx)("h5",{children:"Text Style"}),(0,x.jsx)("h6",{children:"Group Title"}),(0,x.jsx)(Vt,{value:n.textStyles.group,default:Ce.rN.textStyles.group,onChange:function(e){t("textStyles",(0,i.Z)((0,i.Z)({},n.textStyles),{},(0,ht.Z)({},"group",e)))}},"group"),(0,x.jsx)("hr",{}),(0,x.jsx)("h6",{children:"Question Title"}),(0,x.jsx)(Vt,{value:n.textStyles.question,default:Ce.rN.textStyles.question,onChange:function(e){return t("textStyles",(0,i.Z)((0,i.Z)({},n.textStyles),{},(0,ht.Z)({},"question",e)))}},"question"),(0,x.jsx)("hr",{}),(0,x.jsx)("h6",{children:"Text"}),(0,x.jsx)(Vt,{value:n.textStyles.text,default:Ce.rN.textStyles.text,onChange:function(e){return t("textStyles",(0,i.Z)((0,i.Z)({},n.textStyles),{},(0,ht.Z)({},"text",e)))}},"text"),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:"Highlight Color"}),(0,x.jsx)(Bt,{color:n.primaryColor,default:Ce.rN.primaryColor,handleChange:function(e){return t("primaryColor",e)}}),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:"Background Color"}),(0,x.jsx)(Bt,{color:n.bgColor,default:Ce.rN.bgColor,handleChange:function(e){return t("bgColor",e)}}),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:"Foreground Color"}),(0,x.jsx)(Bt,{color:n.paperColor,default:Ce.rN.paperColor,handleChange:function(e){return t("paperColor",e)}}),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:"Header"}),(0,x.jsxs)(c.Z,{variant:"outlined",component:"label",children:[(0,x.jsx)(Qt.Z,{className:"mr-10"}),"Choose Image",(0,x.jsx)("input",{hidden:!0,accept:"image/*",multiple:!0,type:"file",onChange:function(n){n.preventDefault();var t=n.target.files[0];(0,pn.hN)(t).then((function(n){e((0,te.wE)({code:"Survey",key:"headerImage",value:t.name}))})).catch((function(e){console.error(e)}))}})]})]})},Wt=t(70277),Kt=t(79286),Ut=t.n(Kt),Jt=t(97358).Z,Xt=function(e){return'<span class="logicField">'+e+"</span>"},$t=function(e){return'<span class="logicOp">'+e+"</span>"},ei=function(e,n){return'<span class="logicValue">'+("text"==n?'"'+e+'"':e)+"</span>"},ni={conjunctions:{AND:Jt.conjunctions.AND,OR:Jt.conjunctions.OR},operators:(0,i.Z)((0,i.Z)({},Jt.operators),{},{less:(0,i.Z)((0,i.Z)({},Jt.operators.less),{},{formatOp:function(e,n,t,i,o,r,a,l,c){return"".concat(Xt(e)," ").concat($t("<")," ").concat(ei(t,o))}}),less_or_equal:(0,i.Z)((0,i.Z)({},Jt.operators.less_or_equal),{},{formatOp:function(e,n,t,i,o,r,a,l,c){return"".concat(Xt(e)," ").concat($t("<=")," ").concat(ei(t,o))}}),greater:(0,i.Z)((0,i.Z)({},Jt.operators.greater),{},{formatOp:function(e,n,t,i,o,r,a,l,c){return"".concat(Xt(e)," ").concat($t(">")," ").concat(ei(t,o))}}),greater_or_equal:(0,i.Z)((0,i.Z)({},Jt.operators.greater_or_equal),{},{formatOp:function(e,n,t,i,o,r,a,l,c){return"".concat(Xt(e)," ").concat($t(">=")," ").concat(ei(t,o))}}),equal:(0,i.Z)((0,i.Z)({},Jt.operators.equal),{},{label:"Equals",jsonLogic:"==",formatOp:function(e,n,t,i,o,r,a,l,c){var s=l?"equals":r.label;return"".concat(Xt(e)," ").concat($t(s)," ").concat(ei(t,o))}}),not_equal:(0,i.Z)((0,i.Z)({},Jt.operators.not_equal),{},{label:"Not Equals",jsonLogic:"!=",formatOp:function(e,n,t,i,o,r,a,l,c){var s=l?"not equals":r.label;return"".concat(Xt(e)," ").concat($t(s)," ").concat(ei(t,o))}}),starts_with:(0,i.Z)((0,i.Z)({},Jt.operators.starts_with),{},{jsonLogic:"startsWith",formatOp:function(e,n,t,i,o,r,a,l,c){var s=l?"starts with":r.label;return"".concat(Xt(e)," ").concat($t(s)," ").concat(ei(t,o))}}),ends_with:(0,i.Z)((0,i.Z)({},Jt.operators.ends_with),{},{jsonLogic:"endsWith",formatOp:function(e,n,t,i,o,r,a,l,c){var s=l?"ends with":r.label;return"".concat(Xt(e)," ").concat($t(s)," ").concat(ei(t,o))}}),between:(0,i.Z)((0,i.Z)({},Jt.operators.between),{},{label:"Between",jsonLogic:"between",formatOp:function(e,n,t,i,o,r,a,l){var c=t.first(),s=t.get(1);return l?"".concat(Xt(e)," ").concat($t("between")," ").concat(ei(c,o)," ").concat($t("and")," ").concat(ei(s,o)):"".concat(e," >= ").concat(c," && ").concat(e," <= ").concat(s)}}),not_between:(0,i.Z)((0,i.Z)({},Jt.operators.not_between),{},{label:"Not Between",jsonLogic:"not_between",formatOp:function(e,n,t,i,o,r,a,l){var c=t.first(),s=t.get(1);return l?"".concat(Xt(e)," ").concat($t("not between")," ").concat(ei(c,o)," ").concat($t("and")," ").concat(ei(s,o)):"".concat(e," >= ").concat(c," && ").concat(e," <= ").concat(s)}}),like:(0,i.Z)((0,i.Z)({},Jt.operators.like),{},{label:"Contains",jsonLogic:"contains",_jsonLogicIsRevArgs:!1,formatOp:function(e,n,t,i,o,r,a,l,c){var s=l?"contains":r.label;return"".concat(Xt(e)," ").concat($t(s)," ").concat(ei(t,o))}}),not_like:(0,i.Z)((0,i.Z)({},Jt.operators.not_like),{},{label:"Not Contains",jsonLogic:"not_contains",formatOp:function(e,n,t,i,o,r,a,l,c){var s=l?"does not containends with":r.label;return"".concat(Xt(e)," ").concat($t(s)," ").concat(ei(t,o))}}),select_any_in:(0,i.Z)((0,i.Z)({},Jt.operators.select_any_in),{},{label:"Any In",jsonLogic:"in",formatOp:function(e,n,t,i,o,r,a,l){var c=t.join(", ");return"".concat(Xt(e)," ").concat($t("in")," (").concat(ei(c,""),")")}}),select_not_any_in:(0,i.Z)((0,i.Z)({},Jt.operators.select_not_any_in),{},{label:"None In",jsonLogic:"not_in",formatOp:function(e,n,t,i,o,r,a,l){var c=t.join(", ");return"".concat(Xt(e)," ").concat($t("not in")," (").concat(ei(c,""),")")}}),multiselect_equals:(0,i.Z)((0,i.Z)({},Jt.operators.multiselect_equals),{},{label:"Any In",jsonLogic:"any_in",formatOp:function(e,n,t,i,o,r,a,l){var c=t.join(", ");return"".concat($t("Any of")," (").concat(ei(c,""),") in ").concat(Xt(e)," ").concat($t("is selected"))}}),multiselect_not_equals:(0,i.Z)((0,i.Z)({},Jt.operators.multiselect_not_equals),{},{label:"None In",jsonLogic:"none_in",formatOp:function(e,n,t,i,o,r,a,l){var c=t.join(", ");return"".concat($t("None of")," (").concat(ei(c,""),") in ").concat(Xt(e)," ").concat($t("is selected"))}}),is_relevant:{label:"Is Displayed",jsonLogic:"relevance",cardinality:0,formatOp:function(e,n,t,i,o,r,a,l){return"".concat(Xt(e)," ").concat(ei("is shown"))}},is_not_relevant:{label:"Is Hidden",jsonLogic:"not_relevance",cardinality:0,formatOp:function(e,n,t,i,o,r,a,l){return"".concat(Xt(e)," ").concat(ei("is not shown"))}},is_valid:{label:"Is Valid",jsonLogic:"validity",cardinality:0,formatOp:function(e,n,t,i,o,r,a,l){return"".concat(Xt(e)," ").concat(ei("is valid"))}},is_not_valid:{label:"Is Not Valid",jsonLogic:"not_validity",cardinality:0,formatOp:function(e,n,t,i,o,r,a,l){return"".concat(Xt(e)," ").concat(ei("is not valid"))}},is_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_void",formatOp:function(e,n,t,i,o,r,a,l){return"".concat(Xt(e)," ").concat(ei("is empty"))}},is_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_not_void",formatOp:function(e,n,t,i,o,r,a,l){return"".concat(Xt(e)," ").concat(ei("is not empty"))}},is_file_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_file_void",formatOp:function(e,n,t,i,o,r,a,l){return"".concat(Xt(e)," ").concat(ei("is empty"))}},is_file_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_file_not_void",formatOp:function(e,n,t,i,o,r,a,l){return"".concat(Xt(e)," ").concat(ei("is not empty"))}}}),widgets:(0,i.Z)((0,i.Z)({},Jt.widgets),{},{text:(0,i.Z)({},Jt.widgets.text),slider:(0,i.Z)((0,i.Z)({},Jt.widgets.slider),{},{customProps:{width:"300px"}}),rangeslider:(0,i.Z)((0,i.Z)({},Jt.widgets.rangeslider),{},{customProps:{width:"300px"}}),date:(0,i.Z)((0,i.Z)({},Jt.widgets.date),{},{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"}),time:(0,i.Z)((0,i.Z)({},Jt.widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss"}),datetime:(0,i.Z)((0,i.Z)({},Jt.widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"}),func:(0,i.Z)((0,i.Z)({},Jt.widgets.func),{},{customProps:{showSearch:!0}}),treeselect:(0,i.Z)((0,i.Z)({},Jt.widgets.treeselect),{},{customProps:{showSearch:!0}})}),types:(0,i.Z)((0,i.Z)({},Jt.types),{},{boolean:Ut()(Jt.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"}}}})}),settings:(0,i.Z)((0,i.Z)((0,i.Z)({},Jt.settings),{valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",fieldPlaceholder:"Select field",operatorPlaceholder:"Select operator",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:null,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}}),{},{valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},canReorder:!1,showNot:!1,maxNesting:1,canLeaveEmptyGroup:!1}),funcs:{}},ti=(t(10774),t(8440)),ii=t(7195);var oi=function(e){var n=Wt.cQ.jsonLogicFormat,t=Wt.cQ.queryString,r=Wt.cQ.loadTree,a=Wt.cQ.uuid,l=Wt.cQ.loadFromJsonLogic,s=Wt.cQ.checkTree,d=(0,i.Z)((0,i.Z)({},ni),{},{fields:e.fields}),u=e.logic?s(l(e.logic,d),d):r({id:a(),type:"group"}),h=(0,o.useState)(u),f=(0,v.Z)(h,2),m=f[0],p=f[1],_=(0,o.useState)(t(m,d,!0)),g=(0,v.Z)(_,2),j=g[0],y=g[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"query-builder-result",children:[e.logic&&j?(0,x.jsx)("pre",{className:"condition-human-text",dangerouslySetInnerHTML:{__html:j}}):(0,x.jsx)("pre",{className:"condition-human-text",children:"NO CONDITION"}),(0,x.jsx)(Me.Z,{onClick:function(){return e.onDialogStateChanged(!0)},children:(0,x.jsx)(ii.Z,{})})]},"result"),(0,x.jsxs)(Bn.Z,{fullScreen:!0,sx:{margin:"200px"},open:e.dialogOpen,onClose:function(){return e.onDialogStateChanged(!1)},"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[(0,x.jsx)(Yn.Z,{id:"alert-dialog-title-logic-builder",children:e.title}),(0,x.jsx)(ti.Z,{children:(0,x.jsx)(Wt.AE,(0,i.Z)((0,i.Z)({},d),{},{value:m,onChange:function(e){p(e)},renderBuilder:function(e){return(0,x.jsx)("div",{jey:"builder",className:"query-builder-container",children:(0,x.jsx)("div",{className:"query-builder",children:(0,x.jsx)(Wt.Ib,(0,i.Z)({},e))})})}}))}),(0,x.jsx)(Hn.Z,{children:(0,x.jsx)(c.Z,{onClick:function(){e.onDialogStateChanged(!1),function(){var i=n(m,d),o=i.logic;i.errors,y(t(m,d,!0)),e.onChange(o)}()},autoFocus:!0,children:"Agree"})})]})]})},ri=function(e,n,t,i){var o,r,a,l,c,s,d,u,v,h,f,m,p=e+". "+(0,Q.oN)(null===(o=n.content)||void 0===o||null===(r=o.label)||void 0===r?void 0:r[i]);if((0,Q.ty)(e))return(0,ht.Z)({},e,{label:p,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]});switch(n.type){case"text":case"email":return(0,ht.Z)({},e,{label:p,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]});case"paragraph":return(0,ht.Z)({},e,{label:p,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","like","not_like","starts_with","ends_with"]});case"number":return(0,ht.Z)({},e,{label:p,type:"number",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]});case"file_upload":case"signature":return(0,ht.Z)({},e,{label:p,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]});case"date":return(0,ht.Z)({},e,{label:p,type:"date",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]});case"time":return(0,ht.Z)({},e,{label:p,type:"time",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]});case"date_time":return(0,ht.Z)({},e,{label:p,type:"datetime",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]});case"image_scq":case"scq":var _={},g={};null===(a=n.children)||void 0===a||a.forEach((function(e){var n,o;g[e.code]=(0,Q.oN)(null===(n=t[e.qualifiedCode].content)||void 0===n||null===(o=n.label)||void 0===o?void 0:o[i])})),_[e]={label:p,fieldSettings:{listValues:g},type:"select",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","select_any_in","select_not_any_in"]};var x,j,y=null===(l=n.children)||void 0===l?void 0:l.find((function(e){return"Aother"===e.code}));if(y&&null!==(c=t[y.qualifiedCode].children)&&void 0!==c&&c.find((function(e){return"Atext"===e.code})))_[e+"AotherAtext"]={label:"".concat(p," [").concat(null===(x=t[y.qualifiedCode].content)||void 0===x||null===(j=x.label)||void 0===j?void 0:j[i],"]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return _;case"image_mcq":case"mcq":var b={},Z={};null===(s=n.children)||void 0===s||s.forEach((function(e){var n,o;Z[e.code]=(0,Q.oN)(null===(n=t[e.qualifiedCode].content)||void 0===n||null===(o=n.label)||void 0===o?void 0:o[i])})),b[e]={label:p,fieldSettings:{listValues:Z},type:"multiselect",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","multiselect_equals","multiselect_not_equals"]};var S,C,w=null===(d=n.children)||void 0===d?void 0:d.find((function(e){return"Aother"===e.code}));if(w&&null!==(u=t[w.qualifiedCode].children)&&void 0!==u&&u.find((function(e){return"Atext"===e.code})))b[e+"AotherAtext"]={label:"".concat(p," [").concat(null===(S=t[w.qualifiedCode].content)||void 0===S||null===(C=S.label)||void 0===C?void 0:C[i],"]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return b;case"nps":var I={};return null===(v=n.children)||void 0===v||v.forEach((function(e){var n,o;Z[e.code]=(0,Q.oN)(null===(n=t[e.qualifiedCode].content)||void 0===n||null===(o=n.label)||void 0===o?void 0:o[i])})),I[e]={label:p,fieldSettings:{min:0,max:10},type:"number",valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]},I;case"scq_array":var k={},N={};return null===(h=n.children)||void 0===h||h.filter((function(e){return"column"==e.type})).forEach((function(e){var n,o;N[e.code]=(0,Q.oN)(null===(n=t[e.qualifiedCode].content)||void 0===n||null===(o=n.label)||void 0===o?void 0:o[i])})),k[e]={label:p,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]},null===(f=n.children)||void 0===f||f.filter((function(e){return"row"==e.type})).forEach((function(n){var o,r;k[e+n.code]={label:p+" - "+(0,Q.oN)(null===(o=t[n.qualifiedCode].content)||void 0===o||null===(r=o.label)||void 0===r?void 0:r[i]),type:"select",valueSources:["value"],fieldSettings:{listValues:N},operators:["select_any_in","select_not_any_in"]}})),k;case"ranking":case"image_ranking":var q={};return null===(m=n.children)||void 0===m||m.forEach((function(o){var r,a;q[e+o.code]={label:p+" - "+(0,Q.oN)(null===(r=t[o.qualifiedCode].content)||void 0===r||null===(a=r.label)||void 0===a?void 0:a[i]),type:"number",fieldSettings:{min:1,max:n.children.length},valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}})),q;default:return[]}},ai="Relevance_relevanceError__xcNIs",li="Relevance_errorContainer__jRpup";var ci=function(e){var n,t,r,a=e.code,l=(0,g.I0)(),s=(0,o.useState)(!1),d=(0,v.Z)(s,2),u=d[0],h=d[1],f=(0,g.v9)((function(e){return e.designState.langInfo.mainLang})),m=(0,g.v9)((function(e){return e.designState[a]})),p=(0,g.v9)((function(e){return console.log(e.designState),function(e,n,t,o){var r=G(e,n),a={};return r.forEach((function(e){((0,Q.KX)(e)||(0,Q.ty)(e))&&(a=(0,i.Z)((0,i.Z)({},a),ri(e,t[e],t,o)))})),a}(e.designState.componentIndex,a,e.designState,f)})),_=!y&&Object.keys(p).length>0,j=null===(n=m.instructionList)||void 0===n?void 0:n.find((function(e){return"conditional_relevance"==e.code})),y=((null===j||void 0===j?void 0:j.errors)||[]).length>0,b=null===(t=m.relevance)||void 0===t?void 0:t.logic,Z=(0,o.useState)((null===(r=m.relevance)||void 0===r?void 0:r.rule)||"show_always"),S=(0,v.Z)(Z,2),C=S[0],w=S[1],I="show_if"==C||"hide_if"==C,k=function(){return l((0,te.Bl)({code:a,key:"relevance",value:{logic:void 0,rule:"show_always"}}))};return(0,x.jsxs)("div",{className:"".concat(y?ai:""),children:[(0,x.jsx)(Dt.Z,{variant:"standard",fullWidth:!0,children:(0,x.jsxs)(nt.Z,{id:"show-hide-select",value:C,label:"Age",onChange:function(e){return function(e){switch(w(e),e){case"show_always":return void k();case"hide_always":return void l((0,te.Bl)({code:a,key:"relevance",value:{logic:void 0,rule:e}}));case"show_if":case"hide_if":return"show_if"!=(null===b||void 0===b?void 0:b.rule)&&"hide_if"!=(null===b||void 0===b?void 0:b.rule)&&h(!0),void(b&&l((0,te.Bl)({code:a,key:"relevance",value:{logic:b,rule:e}})))}}(e.target.value)},children:[(0,x.jsx)(tt.Z,{disabled:y,value:"show_always",children:"Show Always"},"show_always"),(0,x.jsx)(tt.Z,{disabled:!_,value:"show_if",children:"Show If"},"show_if"),(0,x.jsx)(tt.Z,{disabled:!_,value:"hide_if",children:"Hide If"},"hide_if"),(0,x.jsx)(tt.Z,{disabled:y,value:"hide_always",children:"Hide Always"},"hide_always")]})}),!y&&I&&(0,x.jsx)(oi,{title:"show_if"==C?"Condition To Show":"Condition To Hide",onChange:function(e){h(!1),I&&l((0,te.Bl)({code:a,key:"relevance",value:{logic:e,rule:C}}))},onDialogStateChanged:function(e){return h(e)},fields:p,dialogOpen:u,logic:b}),y?(0,x.jsxs)("div",{className:li,children:[(0,x.jsxs)("span",{children:["\u274c There was an error in Logic therefore this was reset to ",(0,x.jsx)("b",{children:"Always Show"})]}),(0,x.jsx)(c.Z,{variant:"contained",onClick:function(){return k()},children:"OK"})]}):"",I&&!b?(0,x.jsxs)("div",{children:["\u274c Without Logic, this will be reset to ",(0,x.jsx)("b",{children:"Always Show"})]}):""]})},si=t(88551),di=function(e,n,t){var i,o,r=n[e];return{code:e,label:e+". "+(0,Q.oN)(null===(i=r.content)||void 0===i||null===(o=i.label)||void 0===o?void 0:o[t])}},ui=function e(n,t){var i=[],o=n.find((function(e){return e.code===t.parent}));return o&&o.parent&&(i.push(o),i=i.concat(e(n,o))),i},vi=function(e,n,t,i){var o=[];if(!(0,Q.ty)(n.code)&&!(0,Q.KX)(n.code))return o;var r=e.filter((function(e){return e.parent==n.parent&&e.minIndex>n.maxIndex&&(!n.prioritisedSiblings||-1===n.prioritisedSiblings.indexOf(e.code))}));return r.forEach((function(n){o=(o=o.concat(di(n.code,t,i))).concat(hi(e,n,t,i))})),o},hi=function e(n,t,i,o){var r=[];return(0,Q.ty)(t.code)?(t.children&&t.children.forEach((function(t){var a=n.find((function(e){return e.code===t}));r=(r=r.concat(di(a.code,i,o))).concat(e(n,a,i,o))})),r):r},fi={skipItem:"SkipLogic_skipItem__Y3RRu",toEnd:"SkipLogic_toEnd__WxDSC"};function mi(e,n,t){return(0,x.jsxs)(T.Z,{className:fi.errorDisplay,children:[(0,x.jsx)(si.Z,{style:{verticalAlign:"middle"}})," ",n," is not a valid Skip Destination...",(0,x.jsx)(c.Z,{variant:"contained",onClick:function(){return t(e,"proceed")},children:" OK "})]})}function pi(e,n,t,i,o,r){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Dt.Z,{variant:"standard",fullWidth:!0,children:(0,x.jsxs)(nt.Z,{id:"skip-action",value:t,label:"Skip To",onChange:function(n){return o(e,n.target.value)},children:[(0,x.jsx)(tt.Z,{value:"proceed",children:"Proceed as usual"},"proceed"),n&&(null===n||void 0===n?void 0:n.map((function(e){return(0,x.jsx)(tt.Z,{value:e.code,children:e.label},e.code)})))]})}),t&&t.startsWith("G")&&(0,x.jsxs)("div",{className:fi.toEnd,children:[(0,x.jsx)("h4",{children:"To Group End"}),(0,x.jsx)(at.Z,{checked:i||!1,onChange:function(n){return r(e,n.target.checked)}})]})]})}var _i=function(e){var n=e.code,t=(0,g.I0)(),i=(0,g.v9)((function(e){return e.designState[n].skip_logic||{}})),o=(0,g.v9)((function(e){var t=e.designState.langInfo.mainLang;return function(e,n,t,i){var o=[],r=e.find((function(e){return e.code===n}));return r?(o=o.concat(vi(e,r,t,i)),r.parent&&ui(e,r).filter((function(e){return(0,Q.KX)(e.code)||(0,Q.ty)(e.code)})).forEach((function(n){o=o.concat(vi(e,n,t,i))})),o):o}(e.designState.componentIndex,n,e.designState,t)})),r=(0,g.v9)((function(e){return e.designState[n].instructionList.filter((function(e){return e.code.startsWith("skip_to")}))})),a=(0,g.v9)((function(e){var t,i,o=e.designState.langInfo.lang;return null===(t=e.designState[n])||void 0===t||null===(i=t.children)||void 0===i?void 0:i.map((function(n){var t,i;return{code:n.code,label:(null===(t=e.designState[n.qualifiedCode].content)||void 0===t||null===(i=t.label)||void 0===i?void 0:i[o])||n.code}}))})),l=function(e,i){t("proceed"==i?(0,te.SJ)({code:n,answerCode:e}):(0,te.he)({code:n,answerCode:e,skipTo:i}))},c=function(e,i){t((0,te.cy)({code:n,answerCode:e,toEnd:i}))};return(0,x.jsx)(x.Fragment,{children:null===a||void 0===a?void 0:a.map((function(e){var n,t,a=e.code,s=null===i||void 0===i?void 0:i[a],d=null===s||void 0===s?void 0:s.skipTo,u=d||"proceed",v=d&&(null===r||void 0===r||null===(n=r.find((function(e){return e.code=="skip_to_on_"+a})))||void 0===n||null===(t=n.errors)||void 0===t?void 0:t.find((function(e){return"InvalidSkipReference"==e.name})));return(0,x.jsxs)("div",{className:fi.skipItem,children:[(0,x.jsxs)("span",{children:["If answer is ",(0,x.jsx)("b",{children:e.label})]}),v?mi(a,d,l):pi(a,o,u,null===s||void 0===s?void 0:s.toEnd,l,c)]},e.code)}))})},gi={sectionTitle:"SetupPanel_sectionTitle__qD5RO"},xi=t(13609),ji=t(43671),yi=t(91267),bi="RandomError_errorDisplay__lSHBK";function Zi(e){var n=e.errors;return(0,x.jsx)(T.Z,{className:bi,children:n.map((function(e){return"PriorityGroupItemNotChild"==e.name?(0,x.jsxs)("span",{children:["Those items are either deleted or have errors and therefore cannot be in Priority Group:\xa0",(0,x.jsx)("b",{children:e.items.join(", ")})]},e.name):"DuplicatePriorityGroupItems"==e.name?(0,x.jsxs)("span",{children:["Those items are present in more than one priority Group: \xa0",(0,x.jsx)("b",{children:e.items.join(", ")})]},e.name):"PriorityLimitMismatch"==e.name?"In one of the priority groups, the limit is more than or equal to number of items":"RandomGroupItemNotChild"==e.name?(0,x.jsxs)("span",{children:["Those items are either deleted or have errors and therefore cannot be in random group: \xa0",(0,x.jsx)("b",{children:e.items.join(", ")})]},e.name):"DuplicateRandomGroupItems"==e.name?(0,x.jsxs)("span",{children:["Those items are present in more than one random group: \xa0",(0,x.jsx)("b",{children:e.items.join(", ")})]},e.name):void 0}))},"box")}var Si={randomHeader:"PriorityItemDisplay_randomHeader__EOt2K",title:"PriorityItemDisplay_title__cJy3y",action:"PriorityItemDisplay_action__IQma+",settingIcon:"PriorityItemDisplay_settingIcon__RJrWI",randomBody:"PriorityItemDisplay_randomBody__5F1hO",list:"PriorityItemDisplay_list__VT8cw",weight:"PriorityItemDisplay_weight__QZuSc",randomAction:"PriorityItemDisplay_randomAction__bhHbZ",listItem:"PriorityItemDisplay_listItem__xcV-K",label:"PriorityItemDisplay_label__isAJh",input:"PriorityItemDisplay_input__0O-on",listItemError:"PriorityItemDisplay_listItemError__wrsRN",randomItem:"PriorityItemDisplay_randomItem__grS3o",highlighted:"PriorityItemDisplay_highlighted__t1g2w"},Ci=t(84914),wi=t(27247);function Ii(e){var n;return(0,x.jsxs)(hn.Z,{className:"".concat(Si.randomItem," ").concat(e.isBeingEdited?Si.highlighted:""),children:[(0,x.jsxs)("div",{className:Si.randomHeader,children:[(0,x.jsx)("h4",{className:Si.title,children:"Prioritise"}),(0,x.jsxs)("div",{className:Si.action,children:[(0,x.jsx)(Me.Z,{onClick:function(){return e.onEditClicked(e.index)},children:(0,x.jsx)(Ci.Z,{className:Si.settingIcon})}),(0,x.jsx)(Me.Z,{onClick:function(){return e.onDeleteClicked(e.index)},children:(0,x.jsx)(wi.default,{className:Si.settingIcon})})]})]}),(0,x.jsxs)("div",{className:Si.randomBody,children:[(0,x.jsxs)("span",{children:["Show ",e.data.limit," from ",null===(n=e.data.weights)||void 0===n?void 0:n.length]}),(0,x.jsx)("ul",{className:Si.list,children:e.data&&e.data.weights&&e.data.weights.map((function(n,t){return(0,x.jsx)(ki,{label:e.getChildLabelByCode(n.code),code:n.code,childrenCodes:e.childrenCodes,weight:n.weight},t)}))})]})]})}function ki(e){var n=e.code,t=e.label,i=e.weight,o=e.childrenCodes;return(0,x.jsxs)("li",{className:-1!==o.indexOf(n)?Si.listItem:Si.listItemError,children:[(0,x.jsxs)("div",{className:"".concat(Si.content," ").concat(Si.label),children:[n,": ",t]}),(0,x.jsx)("div",{className:Si.weight,children:(0,x.jsx)("span",{children:i})})]})}var Ni={title:"PriorityItemSetup_title__qgY0+",randomBody:"PriorityItemSetup_randomBody__xDUs8",list:"PriorityItemSetup_list__kuUDH",weight:"PriorityItemSetup_weight__GjjOn",label:"PriorityItemSetup_label__Szv1F",randomAction:"PriorityItemSetup_randomAction__bA3Dv",listItem:"PriorityItemSetup_listItem__aVbr0",input:"PriorityItemSetup_input__jr3vF",randomItem:"PriorityItemSetup_randomItem__o13WE"},qi=t(61094),Di=t(19924),Ai=t(68439);function Pi(e){var n=(0,o.useState)(e.checked),t=(0,v.Z)(n,2),r=t[0],a=t[1],l=(0,o.useState)(e.data),s=(0,v.Z)(l,2),d=s[0],u=s[1],h=function(e,n){var t=(0,rn.Z)(r);t[n]=e,a((0,rn.Z)(t))},f=function(e){u((0,i.Z)((0,i.Z)({},d),{},{limit:e}))},m=function(e,n){var t=(0,i.Z)({},d);t.weights=(0,rn.Z)(d.weights),t.weights[n]=(0,i.Z)((0,i.Z)({},d.weights[n]),{},{weight:e}),u(t)};return(0,x.jsxs)(hn.Z,{className:Ni.randomItem,children:[(0,x.jsx)("h4",{className:Ni.title,children:e.title}),(0,x.jsxs)("div",{className:Ni.randomBody,children:[(0,x.jsx)(Oi,{increaseLimit:function(e){if(e===d.weights.length-1)return!1;e++,f(e)},decreaseLimit:function(e){if(1===e)return!1;e--,f(e)},limit:d.limit}),(0,x.jsx)("ul",{className:"".concat(Ni.list," ").concat(Ni.active),children:d&&d.weights&&d.weights.map((function(n,t){return(0,x.jsx)(Li,{code:n.code,weight:n.weight,handleChange:function(e){return h(e,t)},decreaseWeight:function(e){return function(e,n){if(1===e)return!1;e--,m(e,n)}(e,t)},increaseWeight:function(e){return n=e,n++,void m(n,t);var n},checked:(null===r||void 0===r?void 0:r[t])||!1,label:e.getChildLabelByCode(n.code)},t)}))})]}),(0,x.jsxs)("div",{className:Ni.randomAction,children:[(0,x.jsx)(c.Z,{variant:"text",onClick:function(n){return e.onCancel()},children:"Cancel"}),(0,x.jsx)(c.Z,{variant:"contained",onClick:function(n){return function(){if(r.filter((function(e){return e})).length<2)return!1;var n=(0,i.Z)({},d),t=r.reduce((function(e,t,i){return t&&e.push(n.weights[i]),e}),[]);e.onSubmit((0,i.Z)((0,i.Z)({},n),{},{weights:t}))}()},disabled:!function(){var e=r.filter((function(e){return e})).length;return e>=2&&d.limit<=e-1&&d.limit>=1}(),children:"Submit"})]})]})}function Li(e){var n=e.code,t=e.checked,i=e.label,o=e.weight,r=e.handleChange,a=e.increaseWeight,l=e.decreaseWeight;return(0,x.jsxs)("li",{className:Ni.listItem,children:[(0,x.jsx)(qi.Z,{checked:t,onChange:function(e){return r(e.target.checked)}}),(0,x.jsxs)("div",{className:"".concat(Ni.content," ").concat(Ni.label),children:[n,": ",i]}),(0,x.jsxs)("div",{className:Ni.weight,children:[(0,x.jsx)(Me.Z,{size:"small",onClick:function(e){return l(o)},children:(0,x.jsx)(Di.Z,{})}),(0,x.jsx)("span",{children:o}),(0,x.jsx)(Me.Z,{size:"small",onClick:function(e){return a(o)},children:(0,x.jsx)(Ai.Z,{})})]})]})}function Oi(e){var n=e.limit,t=e.increaseLimit,i=e.decreaseLimit;return(0,x.jsxs)(x.Fragment,{children:["Show",(0,x.jsx)(Me.Z,{size:"small",onClick:function(e){return i(n)},children:(0,x.jsx)(Di.Z,{})}),n,(0,x.jsx)(Me.Z,{size:"small",onClick:function(e){return t(n)},children:(0,x.jsx)(Ai.Z,{})})]})}function Ei(e){var n,t,r=e.type,a=e.code,l=e.hideErrors,s=(0,g.I0)(),d=(0,o.useState)({}),u=(0,v.Z)(d,2),h=u[0],f=u[1],m=(0,g.v9)((function(e){return e.designState[a]})),p=(0,g.v9)((function(e){var n,t,i;return(null===(n=e.designState[a])||void 0===n||null===(t=n.children)||void 0===t||null===(i=t.filter((function(e){return!r||e.type==r})))||void 0===i?void 0:i.map((function(e){return e.code})))||[]})),_=(0,g.v9)((function(e){return e.designState.langInfo.lang})),j=(0,g.v9)((function(e){var n,t,i;return(null===(n=e.designState[a])||void 0===n||null===(t=n.children)||void 0===t||null===(i=t.filter((function(e){return!r||e.type==r})))||void 0===i?void 0:i.map((function(n){var t,i;return{code:n.code,label:null===(t=e.designState[n.qualifiedCode].content)||void 0===t||null===(i=t.label)||void 0===i?void 0:i[_]}})))||[]})),y=(0,Q.NI)(m,"priority_groups"),b=(null===y||void 0===y||null===(n=y.priorities)||void 0===n?void 0:n.filter((function(e){return!r||e.weights.some((function(e){return p.includes(e.code)}))})))||[],Z=b.map((function(e){return e.weights})).flat().map((function(e){return e.code})).flat(),S=(null===y||void 0===y||null===(t=y.errors)||void 0===t?void 0:t.filter((function(e){return e.items.some((function(e){return Z.includes(e)}))})))||[],C=function(e){s(r?(0,te.lF)({code:a,priorities:e,type:r}):(0,te.Lj)({code:a,priorities:e}))},w=function(e){var n,t=null===(n=j.find((function(n){return n.code==e})))||void 0===n?void 0:n.label;return null===t||void 0===t?void 0:t.replace(/<[^>]*>/g,"")},I=function(){return p.filter((function(e){return!Z.includes(e)}))},k=!h||0==Object.keys(h).length,N=function(){f({})},q=function(e){var n=(0,rn.Z)(e.weights).sort((function(e,n){return p.findIndex((function(n){return n===e.code}))-p.findIndex((function(e){return e===n.code}))}));return(0,i.Z)((0,i.Z)({},e),{},{weights:n})};return(0,x.jsxs)(x.Fragment,{children:[b&&b.map((function(e,n){return(0,x.jsx)(Ii,{data:q(e),index:n,childrenCodes:p,isBeingEdited:h.index==n,onDeleteClicked:function(e){f({}),function(e){window.confirm("Are you sure?")&&C(b.filter((function(n,t){return t!==e})))}(e)},onEditClicked:function(e){return function(e){var n=[],t=[];t.weights=[];var i=I();p.forEach((function(o){if(i.includes(o))t.weights.push({code:o,weight:1}),n.push(!1);else{var r=b[e].weights.findIndex((function(e){return e.code==o}));r>-1&&(t.weights.push(b[e].weights[r]),n.push(!0))}t.limit=b[e].limit})),f({index:e,checked:n,title:"Priority Rule",data:t})}(e)},getChildLabelByCode:w},n)})),!l&&S.length>0?(0,x.jsx)(Zi,{errors:S}):"",k&&(0,x.jsxs)(c.Z,{variant:"contained",disabled:I().length<2,onClick:function(){var e=I(),n=e.map((function(e){return{code:e,weight:1}}));f({title:"+ Priority Rule",checked:e.map((function(e){return!1})),data:{limit:1,weights:n},index:b?b.length:0,icon:(0,x.jsx)(nn.Z,{})})},children:[(0,x.jsx)(nn.Z,{sx:{paddingRight:"8px"}})," + Priority Rule"]}),h&&h.data&&(0,x.jsx)(Pi,{title:h.title,data:function(e,n){var t=(0,rn.Z)(e.weights).filter((function(e){return n.includes(e.code)}));return t.length<=1&&N(),{limit:Math.min(e.limit,t.length-1),weights:t}}(h.data,p),index:h.index,getChildLabelByCode:w,checked:h.checked,onSubmit:function(e){return function(e,n){var t=b?(0,rn.Z)(b):[];t[n]=(0,i.Z)({},e),C(t),N()}(e,h.index)},onCancel:N})]})}var Ri="OrderPrioritySetup_selectValue__EUfPq",zi="CustomRandom_addNew__hrO3g",Fi="RandomItemSetup_title__Qx6nL",Ti="RandomItemSetup_list__C45+T",Mi="RandomItemSetup_randomAction__1nuVz",Bi="RandomItemSetup_listItem__VsBzq",Yi="RandomItemSetup_randomItem__CFGWW";function Hi(e){var n=(0,o.useState)(e.checked),t=(0,v.Z)(n,2),i=t[0],r=t[1],a=(0,o.useState)(e.randomOption),l=(0,v.Z)(a,2),s=l[0],d=l[1],u=["RANDOM","FLIP","ALPHA"],h=function(e,n){var t=(0,rn.Z)(i);t[n]=e,r((0,rn.Z)(t))};return(0,x.jsxs)(hn.Z,{className:Yi,children:[(0,x.jsx)("h4",{className:Fi,children:e.title}),(0,x.jsx)(Dt.Z,{variant:"standard",fullWidth:!0,children:(0,x.jsx)(nt.Z,{id:"select-value",value:s,label:"Select Value",onChange:function(e){d(e.target.value)},children:["Random Order","Flip Order","Sort By Label"].map((function(e,n){return(0,x.jsx)(tt.Z,{value:u[n],children:e},e)}))})}),(0,x.jsx)("ul",{className:Ti,children:e.data&&e.data.map((function(n,t){return(0,x.jsx)(Vi,{code:n,handleChange:function(e){return h(e,t)},checked:(null===i||void 0===i?void 0:i[t])||!1,label:e.getChildLabelByCode(n)},t)}))}),(0,x.jsxs)("div",{className:Mi,children:[(0,x.jsx)(c.Z,{variant:"text",onClick:function(n){return e.onCancel()},children:"Cancel"}),(0,x.jsx)(c.Z,{variant:"contained",onClick:function(n){return function(){if(i.filter((function(e){return e})).length<2)return!1;var n=i.reduce((function(n,t,i){return t&&n.push(e.data[i]),n}),[]);e.onSubmit(n,s)}()},disabled:!(i.filter((function(e){return e})).length>=2),children:"Submit"})]})]})}function Vi(e){var n=e.code,t=e.label,i=e.checked,o=e.handleChange;return(0,x.jsxs)("li",{className:Bi,children:[(0,x.jsx)(qi.Z,{checked:i,onChange:function(e){return o(e.target.checked)}}),n,": ",t]})}var Qi={randomHeader:"RandomItemDisplay_randomHeader__h5RnA",title:"RandomItemDisplay_title__egKLa",action:"RandomItemDisplay_action__4iEz7",settingIcon:"RandomItemDisplay_settingIcon__BY-Zp",list:"RandomItemDisplay_list__7bD2d",randomAction:"RandomItemDisplay_randomAction__HriCA",listItem:"RandomItemDisplay_listItem__Csro3",label:"RandomItemDisplay_label__ytzfN",input:"RandomItemDisplay_input__3AKdU",listItemError:"RandomItemDisplay_listItemError__zrWni",randomItem:"RandomItemDisplay_randomItem__PCpWo",highlighted:"RandomItemDisplay_highlighted__kM2sI"},Gi=function(e){switch(e){case"ALPHA":return"Sort by Label";case"RANDOM":return"Random Order";case"FLIP":return"Flip Order"}throw"unidentified randomOption: "+e};function Wi(e){return(0,x.jsxs)(hn.Z,{className:"".concat(Qi.randomItem," ").concat(e.isBeingEdited?Qi.highlighted:""),children:[(0,x.jsxs)("div",{className:Qi.randomHeader,children:[(0,x.jsx)("h4",{className:Qi.title,children:Gi(e.randomOption)}),(0,x.jsxs)("div",{className:Qi.action,children:[(0,x.jsx)(Me.Z,{onClick:function(){return e.onEditClicked(e.index)},children:(0,x.jsx)(Ci.Z,{className:Qi.settingIcon})}),(0,x.jsx)(Me.Z,{onClick:function(){return e.onDeleteClicked(e.index)},children:(0,x.jsx)(wi.default,{className:Qi.settingIcon})})]})]}),(0,x.jsx)("ul",{className:Qi.list,children:e.data&&e.data.map((function(n,t){return(0,x.jsx)(Ki,{label:e.getChildLabelByCode(n),code:n,childrenCodes:e.childrenCodes},t)}))})]})}function Ki(e){var n=e.code,t=e.label,i=e.childrenCodes;return(0,x.jsx)("li",{className:-1!==i.indexOf(n)?Qi.listItem:Qi.listItemError,children:(0,x.jsxs)("div",{className:"".concat(Qi.content," ").concat(Qi.label),children:[n,": ",t]})})}function Ui(e){var n,t,i=e.type,r=e.code,a=e.hideErrors,l=(0,g.I0)(),s=(0,o.useState)({}),d=(0,v.Z)(s,2),u=d[0],h=d[1],f=(0,g.v9)((function(e){return e.designState[r]})),m=(0,g.v9)((function(e){var n,t,o;return(null===(n=e.designState[r])||void 0===n||null===(t=n.children)||void 0===t||null===(o=t.filter((function(e){return!i||e.type==i})))||void 0===o?void 0:o.map((function(e){return e.code})))||[]})),p=(0,g.v9)((function(e){return e.designState.langInfo.lang})),_=(0,g.v9)((function(e){var n,t,o;return(null===(n=e.designState[r])||void 0===n||null===(t=n.children)||void 0===t||null===(o=t.filter((function(e){return!i||e.type==i})))||void 0===o?void 0:o.map((function(n){var t,i;return{code:n.code,label:null===(t=e.designState[n.qualifiedCode].content)||void 0===t||null===(i=t.label)||void 0===i?void 0:i[p]}})))||[]})),j=(0,Q.NI)(f,"random_group"),y=(null===j||void 0===j||null===(n=j.groups)||void 0===n?void 0:n.filter((function(e){return!i||e.codes.some((function(e){return m.includes(e)}))})))||[],b=y.map((function(e){return e.codes})).flat(),Z=(null===j||void 0===j||null===(t=j.errors)||void 0===t?void 0:t.filter((function(e){return e.items.some((function(e){return b.includes(e)}))})))||[],S=function(e){l(i?(0,te.HU)({code:r,groups:e,type:i}):(0,te.mm)({code:r,groups:e}))},C=function(e){var n,t=null===(n=_.find((function(n){return n.code==e})))||void 0===n?void 0:n.label;return null===t||void 0===t?void 0:t.replace(/<[^>]*>/g,"")},w=function(e){return m.filter((function(e){return!b.includes(e)}))},I=function(e){return(0,rn.Z)(e.codes).sort((function(e,n){return m.findIndex((function(n){return n===e}))-m.findIndex((function(e){return e===n}))}))},k=function(){h({})},N=!u||0==Object.keys(u).length;return(0,x.jsxs)(x.Fragment,{children:[y&&y.map((function(e,n){return(0,x.jsx)(Wi,{data:I(e),randomOption:e.randomOption,index:n,isBeingEdited:u.index==n,childrenCodes:m,getChildLabelByCode:C,onDeleteClicked:function(e){h({}),function(e){window.confirm("Are you sure?")&&S(y.filter((function(n,t){return t!==e})))}(e)},onEditClicked:function(e){return function(e){var n,t=[],i=w();n=(t=m.filter((function(n){return i.includes(n)||y[e].codes.includes(n)}))).map((function(n){return!!y[e].codes.includes(n)})),h({index:e,checked:n,randomOption:y[e].randomOption||"RANDOM",title:"Edit Random Rule",data:t})}(e)}},n)})),!a&&Z.length>0?(0,x.jsx)(Zi,{errors:Z}):"",N&&(0,x.jsxs)(c.Z,{className:zi,variant:"contained",disabled:w().length<2,onClick:function(){var e=w();h({title:"Add New Random Rule",data:e,checked:[],randomOption:"RANDOM",index:y?y.length:0})},children:[(0,x.jsx)(en.Z,{sx:{paddingRight:"8px"}})," + Random Rule"]}),u&&u.data&&(0,x.jsx)(Hi,{title:u.title,data:function(e,n){var t=(0,rn.Z)(e).filter((function(e){return n.includes(e)}));return t.length<=1&&k(),t}(u.data,m),randomOption:u.randomOption,getChildLabelByCode:C,checked:u.checked,onSubmit:function(e,n){return function(e,n,t){var i=y?(0,rn.Z)(y):[];i[t]={codes:e,randomOption:n},S(i),k()}(e,n,u.index)},onCancel:k})]})}function Ji(e){var n=e.rule,t=e.code,i=(0,g.I0)(),o=(0,g.v9)((function(e){return e.designState[t][n]||"NONE"})),r="",a=[],l=[];switch(n){case"randomize_questions":r="Questions Order",a=["As is","Random Order","Flip Order","Custom"],l=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_questions":r="Questions Priority",a=["None","Prioritise Questions"],l=["NONE","prioritize"];break;case"randomize_groups":r="Groups Order",a=["As is","Random Order","Flip Order","Custom"],l=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_groups":r="Groups Priority",a=["None","Prioritise Groups"],l=["NONE","prioritize"];break;case"randomize_options":r="Options Order",a=["As is","Random Order","Flip Order","Sort By Label","Custom"],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_options":r="Options Priority",a=["None","Prioritise Options"],l=["NONE","prioritize"];break;case"randomize_rows":r="Rows Order",a=["As is","Random Order","Flip Order","Sort By Label","Custom"],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_rows":r="Rows Priority",a=["None","Prioritise Rows"],l=["NONE","prioritize"];break;case"randomize_columns":r="Columns Order",a=["As is","Random Order","Flip Order","Sort By Label","Custom"],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_columns":r="Columns Priority",a=["None","Prioritise Columns"],l=["NONE","prioritize"]}return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h4",{children:r}),(0,x.jsx)(Dt.Z,{className:Ri,variant:"standard",fullWidth:!0,children:(0,x.jsx)(nt.Z,{id:"select-value",value:o,label:"Select Value",onChange:function(e){!function(e){var o="NONE"==e?void 0:e;i((0,te.wE)({code:t,key:n,value:o}))}(e.target.value)},children:a.map((function(e,n){return(0,x.jsx)(tt.Z,{value:l[n],children:e},e)}))})}),"custom"==o&&-1!==["randomize_questions","randomize_options","randomize_groups"].indexOf(n)&&(0,x.jsx)(Ui,{label:"",code:t}),"custom"==o&&"randomize_rows"==n&&(0,x.jsx)(Ui,{label:"",type:"row",code:t}),"prioritize"==o&&"prioritize_rows"==n&&(0,x.jsx)(Ei,{label:"",type:"row",code:t}),"custom"==o&&"randomize_columns"==n&&(0,x.jsx)(Ui,{label:"",type:"column",code:t}),"prioritize"==o&&"prioritize_columns"==n&&(0,x.jsx)(Ei,{label:"",type:"column",code:t}),"prioritize"==o&&-1!==["prioritize_questions","prioritize_options","prioritize_groups"].indexOf(n)&&(0,x.jsx)(Ei,{label:"",code:t})]})}var Xi=function(e){var n,t=e.setupInfo,i=(0,g.I0)(),o=((0,g.v9)((function(e){return e.designState[t.code]})),1===(null===(n=t.rules)||void 0===n?void 0:n.length)),r=function(e){var n;return(0,x.jsxs)(xi.Z,{expanded:(null===(n=t.expanded)||void 0===n?void 0:n.includes(e.key))||o||!1,TransitionProps:{unmountOnExit:!0},children:[(0,x.jsx)(ji.Z,{sx:{backgroundColor:"#ECECEC",margin:0},onClick:function(){return n=e.key,void i((0,te.wI)(n));var n},className:gi.setupHeader,expandIcon:o?null:(0,x.jsx)(kt.Z,{}),children:(0,x.jsx)("span",{className:gi.sectionTitle,children:e.title.replace("title:","")})}),(0,x.jsx)(yi.Z,{sx:{backgroundColor:e.key==t.highlighted?"beige":"background.paper"},children:e.rules.map((function(e){return a(e)}))})]},t.code+e.title)},a=function(e){if(e.startsWith("validation_"))return(0,x.jsx)(It,{rule:e,code:t.code},t.code+e);switch(e){case"theme":return(0,x.jsx)(Gt,{},t.code+e);case"maxChars":return(0,x.jsx)(rt,{label:"Text Field Size",rule:e,lowerBound:1,upperBound:500,defaultValue:20,code:t.code},t.code+e);case"minRows":return(0,x.jsx)(rt,{label:"TextArea Lines",lowerBound:1,upperBound:500,code:t.code,defaultValue:20},t.code+e);case"hideText":return(0,x.jsx)(qt,{label:"Hide Text",rule:e,code:t.code},t.code+e);case"showWordCount":return(0,x.jsx)(qt,{label:"Show Word Count",rule:e,code:t.code},t.code+e);case"hint":return(0,x.jsx)(dt,{code:t.code},t.code+e);case"lower_bound_hint":return(0,x.jsx)(st,{title:"Lower Bound hint",objectName:"lower_bound_hint",code:t.code},t.code+e);case"higher_bound_hint":return(0,x.jsx)(st,{title:"Upper Bound hint",objectName:"higher_bound_hint",code:t.code},t.code+e);case"loop":return(0,x.jsx)(qt,{rule:e,code:t.code,label:"Loop Video"},t.code+e);case"audio_only":return(0,x.jsx)(qt,{rule:e,code:t.code,label:"Audio Only"},t.code+e);case"fullDayFormat":return(0,x.jsx)(qt,{rule:e,code:t.code,label:"FullDay Format"},t.code+e);case"randomize_questions":case"prioritize_questions":case"randomize_options":case"prioritize_options":case"randomize_groups":case"prioritize_groups":case"randomize_rows":case"prioritize_rows":case"randomize_columns":case"prioritize_columns":return(0,x.jsx)(Ji,{rule:e,code:t.code},t.code+e);case"maxDate":return(0,x.jsx)(Et,{lowerBound:1,code:t.code,label:"Max Date",rule:e},t.code+e);case"minDate":return(0,x.jsx)(Et,{label:"Min Date",rule:e,code:t.code},t.code+e);case"dateFormat":return(0,x.jsx)(Pt,{values:["DD.MM.YYYY","MM.DD.YYYY","YYYY.MM.DD","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"],defaultValue:"DD.MM.YYYY",label:"Date Format",rule:e,code:t.code},t.code+e);case"imageAspectRatio":return(0,x.jsx)(Pt,{values:[1,1.7778,1.3333,1.5,.562,.75,.6667],labels:["1:1","16:9","4:3","3:2","9:16","3:4","2:3"],defaultValue:"1:1",label:"Image Aspect Ratio",rule:e,code:t.code},t.code+e);case"columns":return(0,x.jsx)(Pt,{values:["1","2","3","4","6"],defaultValue:"2",label:"Columns Number",rule:e,code:t.code},t.code+e);case"imageHeight":return(0,x.jsx)(rt,{label:"Image Height",lowerBound:50,upperBound:500,code:t.code,defaultValue:250,rule:e},t.code+e);case"spacing":return(0,x.jsx)(rt,{label:"Spacing",lowerBound:2,upperBound:32,code:t.code,defaultValue:8,rule:e},t.code+e);case"skip_logic":return(0,x.jsx)(_i,{code:t.code},t.code+e);case"relevance":return(0,x.jsx)(ci,{code:t.code},t.code+e);default:return""}};return(0,x.jsx)(x.Fragment,{children:t.rules.map((function(e,n){return r(e)}))})},$i=t(70734);var eo=function(){var e=(0,g.I0)(),n=(0,g.v9)((function(e){return e.designState.setup})),t=(0,g.v9)((function(e){return e.designState.langInfo})),i=null===t||void 0===t?void 0:t.lang,o=null===t||void 0===t?void 0:t.mainLang,r=null===t||void 0===t?void 0:t.languagesList;return(0,x.jsxs)(T.Z,{sx:{backgroundColor:"background.paper"},className:ot.leftContent,children:[(0,x.jsxs)("div",{className:ot.leftPanelGroupItem,children:[(0,x.jsx)(nt.Z,{id:"ChangeLang",value:i,onChange:function(n){e((0,te.t4)(n.target.value))},children:r?r.map((function(e,n){return(0,x.jsx)(tt.Z,{value:e.code,children:e.langName},n)})):""}),(0,x.jsx)("div",{children:(0,x.jsx)(Me.Z,{onClick:function(){return(0,pn.zL)(i)},children:(0,x.jsx)(et.Z,{className:ot.settingIcon})})}),i===o?(0,x.jsxs)("div",{children:[(0,x.jsx)(Me.Z,{onClick:function(){return e((0,te.cY)({code:"Survey",rules:[{title:"Theme",rules:["theme"]}]}))},children:(0,x.jsx)(it.Z,{className:ot.settingIcon})}),(0,x.jsx)(Me.Z,{onClick:function(){return e((0,te.cY)(Ce.vv))},children:(0,x.jsx)(Se.Z,{className:ot.settingIcon})})]}):null]}),(0,x.jsx)(x.Fragment,{children:n?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:ot.close,children:(0,x.jsx)(Me.Z,{onClick:function(){return e((0,te.Wy)())},children:(0,x.jsx)(be.Z,{})})}),(0,x.jsx)(Xi,{setupInfo:n},n.code)]}):(0,x.jsx)($i.ZP,{})})]})},no=t(11647),to=t(8771),io=t(27170),oo="SavingSurvey_savingProgress__85uZ2";var ro=function(){var e=(0,g.v9)((function(e){return e.designState.isSaving}));return(0,x.jsx)(no.Z,{open:e,children:(0,x.jsxs)(to.Z,{severity:"warning",children:["Saving Survey... ",(0,x.jsx)(io.Z,{className:oo,color:"warning"})]})})};var ao=function(){var e=(0,g.I0)(),n=(0,g.v9)((function(e){return e.designState.error||!1})),t=function(){e((0,te.$g)(!1))};return n&&!n.seen&&(0,x.jsxs)(Bn.Z,{open:!0,onClose:function(){return t()},"aria-labelledby":"alert-dialog-title-error","aria-describedby":"alert-dialog-description",children:[(0,x.jsx)(Yn.Z,{id:"alert-dialog-title-error",children:"Error"}),(0,x.jsx)(ti.Z,{children:n.message||""}),(0,x.jsx)(Hn.Z,{children:(0,x.jsx)(c.Z,{onClick:function(){return t()},children:"OK"})})]})};var lo=function(){var e=(0,C.$)("common").i18n,n=(0,g.I0)(),t=(0,g.v9)((function(e){var n;return null===(n=e.designState.Survey)||void 0===n?void 0:n.headerImage})),v=(0,g.v9)((function(e){var n;return null===(n=e.designState.Survey)||void 0===n?void 0:n.children})),h=(0,g.v9)((function(e){var n,t;return(null===(n=e.designState.Survey)||void 0===n||null===(t=n.instructionList)||void 0===t?void 0:t.length)>0})),f=(0,g.v9)((function(e){return e.designState.langInfo})),m=null===f||void 0===f?void 0:f.lang,p=(0,g.v9)((function(e){var n;return null===(n=e.designState.Survey)||void 0===n?void 0:n.theme})),_=function(e){n((0,te.PK)(e))},j=function(e){n((0,te.qQ)(e))};(0,o.useEffect)((function(){console.log(h),h||(0,pn.eO)(_,j,!0).then((function(n){n&&(console.log(n),e.loadLanguages(n.languages))}))}),[]);var y=(0,$n.Z)({key:E.Bc.includes(m)?"muirtl":"muiltr",stylisPlugins:E.Bc.includes(m)?[Jn.Ji,Un.Z]:null}),b=o.useCallback((0,a.Z)((0,i.Z)((0,i.Z)({},(0,Ce.ph)(p)),{},{direction:E.Bc.includes(m)?"rtl":"ltr"})),[p]);return(0,x.jsx)(Xn.C,{value:y,children:(0,x.jsx)(l.Z,{theme:b,children:(0,x.jsxs)(s.Z,{children:[h&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:d,dir:E.Bc.includes(m)?"rtl":"ltr",children:(0,x.jsxs)(r.Z5,{onDragEnd:function(e){var t,i;i=function(e){n((0,te.dz)(e))},(t=e).destination&&("questions"==t.type&&(0,Q.ty)(t.source.droppableId)&&(0,Q.ty)(t.destination.droppableId)?i({type:"reorder_questions",source:t.source.droppableId,destination:t.destination.droppableId,id:t.draggableId,fromIndex:t.source.index,toIndex:t.destination.index}):"questions"==t.type&&"new-questions"==t.source.droppableId&&(0,Q.ty)(t.destination.droppableId)?i({type:"new_question",questionType:t.draggableId,destination:t.destination.droppableId,toIndex:t.destination.index}):"groups"==t.type&&(0,Q.ty)(t.draggableId)?i({type:"reorder_groups",id:t.draggableId,fromIndex:t.source.index,toIndex:t.destination.index}):"groups"!=t.type||"new-groups"!=t.source.droppableId?t.type.startsWith("option")?i({type:"reorder_answers",id:t.draggableId,fromIndex:t.source.index,toIndex:t.destination.index}):(t.type.startsWith("row")||t.type.startsWith("col"))&&i({type:"reorder_answers_by_type",id:t.draggableId,fromIndex:t.source.index,toIndex:t.destination.index}):i({type:"new_group",groupType:t.draggableId,toIndex:t.destination.index}))},children:[(0,x.jsx)(eo,{}),(0,x.jsx)(Kn,{headerImage:t,groups:v})]})}),(0,x.jsx)("div",{className:u,children:(0,x.jsx)(c.Z,{variant:"contained",onClick:function(){window.confirm("Are you sure?")&&(0,pn.uG)(_,j)},children:"Reset Data"})}),(0,x.jsx)(ro,{})]}),(0,x.jsx)(ao,{})]})})})}}}]);
//# sourceMappingURL=238.6e8e23b6.chunk.js.map