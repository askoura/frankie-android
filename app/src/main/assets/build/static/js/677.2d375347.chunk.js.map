{"version":3,"file":"static/js/677.2d375347.chunk.js","mappings":"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","sources":["webpack://frankie-react/./src/components/Layout/Layout.module.scss?ba76","components/Layout/index.js","webpack://frankie-react/./src/pages/RunSurvey/RunSurvey.module.scss?a147","webpack://frankie-react/./src/components/ErrorMessage/ErrorMessage.module.scss?a3ad","components/ErrorMessage/index.js","common/share.js","webpack://frankie-react/./src/components/ValidationItem/ValidationItem.module.scss?d1dc","components/ValidationItem/index.js","components/Validation/index.js","components/Scq/index.js","webpack://frankie-react/./src/components/TextQuestion/TextQuestion.module.scss?470b","components/TextQuestion/index.js","webpack://frankie-react/./src/components/EmailQuestion/EmailQuestion.module.scss?3e06","components/EmailQuestion/index.js","webpack://frankie-react/./src/components/NumberQuestion/NumberQuestion.module.scss?c555","components/NumberQuestion/index.js","components/Mcq/index.js","components/SCQArray/index.js","surveyEngine/networking.js","components/FileUpload/index.js","webpack://frankie-react/./src/components/ParagraphQuestion/ParagraphQuestion.module.scss?959b","components/ParagraphQuestion/index.js","components/Content/index.js","webpack://frankie-react/./src/components/DateTimeQuestion/DateTimeQuestion.module.scss?1347","components/DateTimeQuestion/index.js","webpack://frankie-react/./src/components/Question/Question.module.scss?33e6","webpack://frankie-react/./src/components/ImageScq/ImageScq.module.scss?84e3","components/ImageScq/index.js","webpack://frankie-react/./src/components/ImageMcq/ImageMcq.module.scss?c927","components/ImageMcq/index.js","webpack://frankie-react/./src/components/Ranking/Ranking.module.scss?6939","components/Ranking/index.js","webpack://frankie-react/./src/components/Signature/Signature.module.scss?e295","components/Signature/index.js","components/VideoDisplay/index.js","components/ImageDisplay/index.js","webpack://frankie-react/./src/components/ImageRanking/ImageRanking.module.scss?33dc","components/ImageRanking/index.js","webpack://frankie-react/./src/components/NPS/NPS.module.scss?5aba","components/NPS/index.js","components/Question/index.js","webpack://frankie-react/./src/components/Group/Group.module.scss?1fd1","components/Group/index.js","components/Navigation/index.js","webpack://frankie-react/./src/components/Survey/Survey.module.scss?2e28","components/Survey/index.js","webpack://frankie-react/./src/components/SurveyIndex/SurveyIndex.module.scss?288b","components/SurveyIndex/index.js","components/ChangeLang/index.js","pages/RunSurvey/index.js","surveyEngine/userInputUtils.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"main\":\"Layout_main__FV28D\"};","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport LoadingIndicator from 'components/LoadingIndicator';\n\nimport styles from \"./Layout.module.scss\";\nimport { Box } from \"@mui/material\";\n\nexport default function Layout(props) {\n  const isLoading = useSelector(state => state.template.isLoading);\n\n  return (\n    <Box className={styles.main} sx={{ backgroundColor: 'background.default', color:'text.primary' }}>\n      {isLoading ? <LoadingIndicator /> : null}\n      {props.children}\n    </Box>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"mainContainer\":\"RunSurvey_mainContainer__7X1z1\",\"drawer\":\"RunSurvey_drawer__MthXI\"};","// extracted by mini-css-extract-plugin\nexport default {\"errorContent\":\"ErrorMessage_errorContent__wbGeh\"};","import React, { useEffect, useState } from \"react\";\nimport { Alert, Snackbar } from '@mui/material';\nimport { useTranslation } from \"react-i18next\";\nimport { rtlLanguage } from 'common/utils'\n\nimport styles from \"./ErrorMessage.module.scss\";\n\nexport default function ErrorMessage(props) {\n  const [open, setOpen] = useState(true);\n  const [dir, setDir] = useState('ltr')\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const { i18n } = useTranslation('common');\n\n  useEffect(() => {\n    if(rtlLanguage.includes(i18n.language)) {\n      setDir('rtl')\n    }else{\n      setDir('ltr')\n    }\n  },[i18n.language])\n\n  if (props.variant === 'toast') {\n    return (\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n        <Alert variant=\"standard\" severity={props.severity || \"error\"} onClose={handleClose} dir={dir}>\n          {props.error.message}\n        </Alert>\n      </Snackbar>\n    );\n  } else {\n    return (\n      <div className={`error-page ${props.className || ''}`}>\n        <div className={styles.errorContent}>\n          <Alert severity={props.severity || \"error\"} variant=\"standard\" dir={dir}>\n            {props.error.message}\n          </Alert>\n        </div>\n      </div>\n    );\n  }\n\n\n\n}\n","const globalObj = {}\nexport default globalObj","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ValidationItem_wrapper__gV9Wb\",\"icon\":\"ValidationItem_icon__e9FuS\"};","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\n\nimport styles from \"components/ValidationItem/ValidationItem.module.scss\";\nimport { ErrorOutlineOutlined } from \"@mui/icons-material\";\nimport { Box } from \"@mui/material\";\n\n\nfunction ValidationItem(props) {\n  const { t } = useTranslation('common');\n  function messages() {\n    let validationMessage = \"\"\n    if (props.validation.content && props.validation.isCustomErrorActive) {\n      validationMessage = props.validation.content\n    } else {\n      var translationKey = props.name.replace(/[0-9]/g, '')\n      validationMessage = t(translationKey, { ...props.validation })\n    }\n    if (validationMessage) {\n      return (\n        <Box sx={{color:\"error.main\"}} className={styles.wrapper}>\n          <ErrorOutlineOutlined />\n          {validationMessage}\n        </Box>\n      );\n    } else {\n      return \"\"\n    }\n  }\n  return messages()\n}\n\nexport default ValidationItem;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport ValidationItem from \"components/ValidationItem\";\n\nfunction Validation(props) {\n  const validation = useSelector((state) => {\n    if (!props.component.validation) {\n      return {}\n    } else {\n      var validation = {}\n      Object.keys(props.component.validation).forEach(key => {\n        var value = state.runState.values[props.component.qualifiedCode][key]\n        if(value){\n          validation[key] = value\n        }\n        \n      });\n      return validation\n    }\n\n  });\n  function messages() {\n    if (props.component.validation) {\n      let array = Object.keys(props.component.validation)\n        .filter(key => validation[key])\n        let limit = props.limit ? props.limit : array.length\n        return array.slice(0,limit).map((key, index) => {\n          return <ValidationItem key={index} name={key} validation={props.component.validation[key]}/>\n        })\n    } else {\n      return \"\"\n    }\n  }\n  return messages()\n}\n\nexport default Validation;","import React, { useRef } from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport { useTheme } from '@mui/material/styles';\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Validation from \"components/Validation\";\nimport Radio from \"@mui/material/Radio\";\nimport { valueChange } from \"surveyEngine/stateMachine\"\nimport FormControl from \"@mui/material/FormControl\";\nimport RadioGroup from \"@mui/material/RadioGroup\";\nimport { Box } from \"@mui/material\";\n\nfunction SCQ(props) {\n  const state = useSelector(((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode]\n    return {\n      value: questionState?.value || \"\",\n    }\n  }), shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    dispatch(valueChange({ componentCode: event.target.name, value: event.target.value }));\n  };\n  return <FormControl component=\"fieldset\">\n    <RadioGroup\n      name={props.component.qualifiedCode}\n      value={state.value}\n      onChange={handleChange}>\n      {props.component.answers.map((option) => {\n        if (option.type === \"other\") {\n          return <ScqChoiceOther parentCode={props.component.qualifiedCode} key={option.qualifiedCode} Choice={option} />\n        } else {\n          return <ScqChoice key={option.qualifiedCode} Choice={option} />\n        }\n      })}\n    </RadioGroup>\n  </FormControl>\n\n}\n\nfunction ScqChoice(props) {\n  const theme = useTheme()\n\n  const showChoice = () => {\n    return (\n      <FormControlLabel\n        key={props.Choice.qualifiedCode}\n        control={<Radio />}\n        label={<Box sx={{ fontFamily: theme.textStyles.text.font, color: theme.textStyles.text.color, fontSize: theme.textStyles.text.size }}>\n          {props.Choice.content.label}\n        </Box>}\n        value={props.Choice.code}\n      />\n    );\n  };\n\n  return (showChoice) ? showChoice() : \"\"\n\n}\n\nfunction ScqChoiceOther(props) {\n  const theme = useTheme()\n  const nestedTextChild = props.Choice.answers[0]\n  const state = useSelector(((state) => {\n    let choiceState = state.runState.values[props.Choice.qualifiedCode]\n    let childState = state.runState.values[nestedTextChild.qualifiedCode]\n    let show_errors = state.runState.values.Survey.show_errors\n    let isChildDirty = state.template[nestedTextChild.qualifiedCode]\n    return {\n      showChoice: typeof choiceState?.relevance === \"undefined\" || choiceState.relevance,\n      childInvalid: (show_errors || isChildDirty) && childState?.relevance === true && childState?.validity === false,\n      value: childState?.value || \"\"\n    }\n  }), shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    dispatch(valueChange({ componentCode: event.target.name, value: event.target.value }));\n  };\n\n  const handleFocus = (event) => {\n    dispatch(valueChange({ componentCode: props.parentCode, value: props.Choice.code }));\n  };\n\n  const lostFocus = (event) => {\n    dispatch({ type: \"SET_DIRTY\", componentCode: event.target.name });\n  };\n\n  const textInput = useRef();\n  const onButtonClick = (event) => {\n    if (event.target.checked) {\n      textInput.current.focus();\n    }\n  };\n\n  const showChoice = () => {\n    return (\n      <div className='text-left d-flex'>\n        <FormControlLabel\n          key={props.Choice.qualifiedCode}\n          control={<Radio />}\n          label={\n            <div className=\"w-100\">\n              <TextField\n                variant=\"standard\"\n                required={state.textChild?.relevance && nestedTextChild.validation?.required}\n                inputRef={textInput}\n                id={nestedTextChild.qualifiedCode}\n                name={nestedTextChild.qualifiedCode}\n                label={props.Choice.content.label}\n                onChange={handleChange}\n                onFocus={handleFocus}\n                onBlur={lostFocus}\n                value={state.value}\n                InputProps={\n                  { sx: { fontFamily: theme.textStyles.text.font, color: theme.textStyles.text.color, fontSize: theme.textStyles.text.size } }\n                }\n                helperText={(state.childInvalid) ? <Validation component={nestedTextChild} limit={1} /> : \"\"}\n              /></div>}\n          onChange={onButtonClick}\n          value={props.Choice.code} />\n        <p />\n      </div>\n    );\n  };\n\n  return (state.showChoice) ? showChoice() : \"\"\n\n}\n\nexport default SCQ;\n","// extracted by mini-css-extract-plugin\nexport default {\"questionItem\":\"TextQuestion_questionItem__ormJL\"};","import React from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport TextField from \"@mui/material/TextField\";\nimport { useTheme } from '@mui/material/styles';\n\n\nimport styles from \"./TextQuestion.module.scss\";\nimport { valueChange } from \"surveyEngine/stateMachine\";\n\nfunction TextQuestion(props) {\n  const theme = useTheme()\n  const state = useSelector((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode]\n    let show_errors = state.runState.values.Survey.show_errors\n    let isDirty = state.template[props.component.qualifiedCode]\n    let validity = questionState?.validity\n    let invalid = (show_errors || isDirty) && validity === false\n    return {\n      value: questionState?.value || \"\",\n      invalid: invalid\n    };\n  }, shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    dispatch(valueChange({\n      componentCode: event.target.name,\n      value: event.target.value\n    }));\n  };\n\n  const lostFocus = (event) => {\n    dispatch({ type: \"SET_DIRTY\", componentCode: event.target.name });\n  };\n\n  return (\n    <div className={styles.questionItem}>\n      <TextField\n        variant=\"standard\"\n        required={props.component.validation?.validation_required?.isActive ? true : false}\n        id={props.component.qualifiedCode}\n        name={props.component.qualifiedCode}\n        label={props.component.content.hint || \"\"}\n        onChange={handleChange}\n        onBlur={lostFocus}\n        inputProps={{ maxLength: props.component.maxChars || undefined }}\n        value={state.value}\n        error={state.invalid}\n        InputProps={\n          {sx: { fontFamily: theme.textStyles.text.font, color: theme.textStyles.text.color, fontSize: theme.textStyles.text.size }}\n        }\n\n      />\n    </div>\n  );\n}\n\nexport default TextQuestion;\n","// extracted by mini-css-extract-plugin\nexport default {\"questionItem\":\"EmailQuestion_questionItem__3p9Xg\"};","import React from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport TextField from \"@mui/material/TextField\";\n\nimport styles from \"./EmailQuestion.module.scss\";\nimport { useTheme } from '@mui/material/styles';\nimport { valueChange } from \"surveyEngine/stateMachine\";\n\nfunction EmailQuestion(props) {\n  const theme = useTheme()\n  const state = useSelector((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode]\n    let show_errors = state.runState.values.Survey.show_errors\n    let isDirty = state.template[props.component.qualifiedCode]\n    let validity = questionState?.validity\n    let invalid = (show_errors || isDirty) && validity === false\n    return {\n      value: questionState?.value || \"\",\n      invalid: invalid\n    };\n  }, shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    dispatch(valueChange({\n      componentCode: event.target.name,\n      value: event.target.value\n    }));\n  };\n\n  const lostFocus = (event) => {\n    dispatch({ type: \"SET_DIRTY\", componentCode: event.target.name });\n  };\n\n  return (\n    <div className={styles.questionItem}>\n      <TextField\n        variant=\"standard\"\n        required={props.component.validation?.validation_required?.isActive ? true : false}\n        id={props.component.qualifiedCode}\n        name={props.component.qualifiedCode}\n        label={props.component.content.hint || \"\"}\n        onChange={handleChange}\n        onBlur={lostFocus}\n        inputProps={{ type: \"email\", maxLength: props.component.maxChars || undefined }}\n        value={state.value}\n        error={state.invalid}\n        InputProps={\n          { sx: { fontFamily: theme.textStyles.text.font, color: theme.textStyles.text.color, fontSize: theme.textStyles.text.size } }\n        }\n      />\n    </div>\n  );\n}\n\nexport default EmailQuestion;\n","// extracted by mini-css-extract-plugin\nexport default {\"questionItem\":\"NumberQuestion_questionItem__XR4g8\"};","import React from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport TextField from \"@mui/material/TextField\";\nimport styles from \"./NumberQuestion.module.scss\";\nimport { useTheme } from '@mui/material/styles';\nimport { valueChange } from \"surveyEngine/stateMachine\";\n\nfunction NumberQuestion(props) {\n  const theme = useTheme()\n  const state = useSelector((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode]\n    let show_errors = state.runState.values.Survey.show_errors\n    let isDirty = state.template[props.component.qualifiedCode]\n    let validity = questionState?.validity\n    let invalid = (show_errors || isDirty) && validity === false\n    return {\n      value: questionState?.value === undefined ? \"\" : questionState?.value,\n      invalid: invalid\n    };\n  }, shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    const regex = props.component.allowDecimal ? /^[0-9]*[.]*[0-9]*$/ : /^[0-9]*$/\n    if (event.target.value === \"\" || regex.test(event.target.value)) {\n      let output = +event.target.value\n      const moreZeroesRegex = /^[0][.][0]+$/\n      dispatch(valueChange({\n        componentCode: event.target.name,\n        value: (event.target.value === \"\" || isNaN(output) || event.target.value.endsWith('.') || moreZeroesRegex.test(event.target.value)) ? event.target.value : output\n      }));\n    }\n\n\n  };\n\n  const lostFocus = (event) => {\n    dispatch({ type: \"SET_DIRTY\", componentCode: event.target.name });\n  };\n\n  return (\n    <div className={styles.questionItem}>\n      <TextField\n        variant=\"standard\"\n        required={props.component.validation?.validation_required?.isActive ? true : false}\n        id={props.component.qualifiedCode}\n        name={props.component.qualifiedCode}\n        label={props.component.content.hint || \"\"}\n        onChange={handleChange}\n        onBlur={lostFocus}\n        inputProps={{ maxLength: props.component.maxChars || undefined }}\n        value={state.value}\n        error={state.invalid}\n        InputProps={\n          {sx: { fontFamily: theme.textStyles.text.font, color: theme.textStyles.text.color, fontSize: theme.textStyles.text.size }}\n        }\n      />\n    </div>\n  );\n}\n\nexport default NumberQuestion;\n","import FormControl from \"@mui/material/FormControl\";\nimport FormGroup from \"@mui/material/RadioGroup\";\n\nimport React, { useRef } from \"react\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport TextField from \"@mui/material/TextField\";\n\nimport Checkbox from \"@mui/material/Checkbox\";\nimport Validation from \"components/Validation\";\nimport { useTheme } from '@mui/material/styles';\nimport { valueChange } from \"surveyEngine/stateMachine\";\nimport { Box } from \"@mui/material\";\n\nfunction MCQ(props) {\n  return <FormControl component=\"fieldset\">\n    <FormGroup>\n      {props.component.answers.map((option) => {\n        if (option.type === \"other\") {\n          return <McqAnswerOther key={option.qualifiedCode} Answer={option} parentCode={props.component.qualifiedCode} />\n        } else {\n          return <McqAnswer key={option.qualifiedCode} Answer={option} parentCode={props.component.qualifiedCode} />\n        }\n      })}\n    </FormGroup>\n  </FormControl>\n}\n\nfunction McqAnswer(props) {\n  const theme = useTheme()\n  const state = useSelector((state) => {\n    let answerState = state.runState.values[props.Answer?.qualifiedCode]\n    return {\n      showAnswer: typeof answerState?.relevance == \"undefined\" || answerState.relevance,\n      checked: answerState?.value || false\n    }\n  }, shallowEqual);\n  const dispatch = useDispatch();\n  const handleChange = (event) => {\n    dispatch(valueChange({ componentCode: event.target.name, value: event.target.checked }));\n    dispatch({ type: \"SET_DIRTY\", componentCode: event.target.name });\n    dispatch({ type: \"SET_DIRTY\", componentCode: props.parentCode });\n  };\n\n  return (state.showAnswer) ? <FormControlLabel\n    control={<Checkbox checked={state.checked} onChange={handleChange} name={props.Answer.qualifiedCode} />}\n    label={<Box sx={{ fontFamily: theme.textStyles.text.font, fontSize: theme.textStyles.text.size }}>\n      {props.Answer.content.label}\n    </Box>}\n  /> : \"\"\n\n}\nfunction McqAnswerOther(props) {\n  const theme = useTheme()\n  const nestedTextChild = props.Answer.answers[0]\n  const state = useSelector(((state) => {\n    let own = state.runState.values[props.Answer.qualifiedCode]\n    let textChild = state.runState.values[nestedTextChild.qualifiedCode]\n    let show_errors = state.runState.values.Survey.show_errors\n    let isChildDirty = state.template[nestedTextChild.qualifiedCode]\n    return {\n      showAnswer: typeof own?.relevance === \"undefined\" || own.relevance,\n      childInvalid: (show_errors || isChildDirty) && textChild?.relevance === true && textChild?.validity === false,\n      checked: own?.value || false,\n      textValue: textChild?.value || \"\",\n      textRelevance: state.textChild?.relevance\n    }\n  }), shallowEqual);\n\n  const dispatch = useDispatch();\n  const onButtonClick = (event) => {\n    dispatch(valueChange({ componentCode: event.target.name, value: event.target.checked }));\n    dispatch({ type: \"SET_DIRTY\", componentCode: event.target.name });\n    dispatch({ type: \"SET_DIRTY\", componentCode: props.parentCode });\n    if (event.target.checked) {\n      textInput.current.focus();\n    }\n  };\n  const handleChange = (event) => {\n    dispatch(valueChange({ componentCode: event.target.name, value: event.target.value }));\n  };\n\n  const textInput = useRef();\n  const handleFocus = (event) => {\n    dispatch(valueChange({ componentCode: props.Answer.qualifiedCode, value: true }));\n  };\n\n  const lostFocus = (event) => {\n    dispatch({ type: \"SET_DIRTY\", componentCode: event.target.name });\n  };\n\n  const showAnswer = () => {\n    return <FormControlLabel\n      control={<Checkbox checked={state.checked}\n        onChange={onButtonClick}\n        name={props.Answer.qualifiedCode} />}\n      label={\n        <div className=\"w-100\">\n          <TextField\n            variant=\"standard\"\n            required={state.textRelevance && nestedTextChild.validation?.required}\n            inputRef={textInput}\n            id={nestedTextChild.qualifiedCode}\n            name={nestedTextChild.qualifiedCode}\n            label={props.Answer.content.label}\n            onChange={handleChange}\n            onFocus={handleFocus}\n            onBlur={lostFocus}\n            value={state.textValue}\n            InputProps={\n              { sx: { fontFamily: theme.textStyles.text.font, color: theme.textStyles.text.color, fontSize: theme.textStyles.text.size } }\n            }\n            helperText={(state.childInvalid) ? <Validation component={nestedTextChild} limit={1} /> : \"\"}\n          /></div>}\n    />\n  }\n\n\n  return (state.showAnswer) ? showAnswer() : \"\"\n}\n\nexport default MCQ;\n","import React from \"react\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport { useTheme } from \"@emotion/react\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { Radio } from \"@mui/material\";\nimport { valueChange } from \"surveyEngine/stateMachine\";\nimport Validation from \"components/Validation\";\n\n\nfunction SCQArray(props) {\n  const theme = useTheme()\n  let columns = props.component.answers.filter(answer => answer.type == \"column\")\n  let rows = props.component.answers.filter(answer => answer.type == \"row\")\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell key=\"content\"></TableCell>\n            {columns.map((option) => {\n              return <TableCell\n                sx={{ fontFamily: theme.textStyles.text.font, color: theme.textStyles.text.color, fontSize: theme.textStyles.text.size }}\n                key={option.qualifiedCode} >{option.content.label}</TableCell>\n            })}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {rows.map((answer) => {\n            return (\n              <React.Fragment key={answer.qualifiedCode}>\n                <SCQArrayRow key={answer.qualifiedCode} answer={answer} choices={columns} />\n              </React.Fragment>\n            )\n          })}\n\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n\n}\n\n\nfunction SCQArrayRow(props) {\n  const theme = useTheme()\n  const state = useSelector(((state) => {\n    return {\n      show_errors: state.runState.values.Survey.show_errors,\n      validity: state.runState.values[props.answer.qualifiedCode]?.validity,\n      value: state.runState.values[props.answer.qualifiedCode]?.value,\n      relevance: state.runState.values[props.answer.qualifiedCode]?.relevance\n    }\n  }), shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    dispatch(valueChange({ componentCode: event.target.name, value: event.target.value }));\n  };\n\n  const invalid = (state.show_errors || state.isDirty) && state.validity === false;\n\n\n\n  return typeof state.relevance === 'undefined' || state.relevance ? <React.Fragment>\n    <TableRow key={props.answer.code}>\n      <TableCell\n        sx={{\n          fontFamily: theme.textStyles.text.font, color: theme.textStyles.text.color, fontSize: theme.textStyles.text.size,\n          borderBottom: invalid ? \"0\" : \"\",\n          padding: \"8px\"\n        }}\n      >\n        {props.answer.content.label}\n      </TableCell>\n      {props.choices.map((option) => {\n        return (\n          <TableCell key={option.code} component=\"th\" scope=\"row\" sx={{\n            borderBottom: invalid ? \"0\" : \"\",\n            padding: \"8px\"\n          }} >\n            <Radio\n\n              name={props.answer.qualifiedCode}\n              onChange={handleChange}\n              checked={state.value === option.code}\n              value={option.code}\n            />\n          </TableCell>\n        )\n      })}\n    </TableRow>\n    {invalid ? <TableRow>\n      <TableCell sx={{padding: \"8px\"}} colSpan={props.choices ? props.choices.length + 1 : 1} ><Validation component={props.answer} /></TableCell >\n    </TableRow> : \"\"}\n\n  </React.Fragment> : \"\"\n\n}\n\nexport default SCQArray;\n","import Api from 'common/api';\nimport globalObj from 'common/share'\n\nexport const navigateFromUserInput = (userInput) => {\n    const payload = {\n        responseId: userInput.responseId,\n        lang: userInput.lang,\n        navigationDirection: userInput.navigationDirection\n    }\n    if (userInput.offline) {\n        return new Promise((resolve, reject) => {\n            window[\"Android\"].navigate(JSON.stringify(payload))\n            window[\"navigateOffline\"] = (res) => {\n                const response = { data: res }\n                resolve(response);\n            }\n        });\n\n    } else {\n        return Api.post(userInput.url, payload)\n    }\n\n\n}\n\nexport const navigateFromPayload = (userInput, payload, responseId) => {\n    const finalObj = {\n        ...payload,\n        responseId: responseId\n    }\n    if (userInput.offline) {\n        return new Promise((resolve, reject) => {\n            window[\"Android\"].navigate(JSON.stringify(finalObj))\n            window[\"navigateOffline\"] = (res) => {\n                const response = { data: res }\n                resolve(response);\n            }\n        });\n\n    } else {\n        return Api.post(userInput.url, finalObj)\n    }\n\n\n}\n\nexport const uploadFile = (key, selectedFile) => {\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    return Api.upload(globalObj.userInput.uploadUrl + globalObj.responseId + \"/\" + key, formData)\n}\n\nexport const uploadBlob = (key, blob, fileName) => {\n    const formData = new FormData();\n    formData.append('file', blob, fileName);\n    return Api.upload(globalObj.userInput.uploadUrl + globalObj.responseId + \"/\" + key, formData)\n}\n\nexport const dataURLtoBlob = (dataurl) => {\n    var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],\n        bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\n    while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n    }\n    return new Blob([u8arr], { type: mime });\n}\n\nexport const downloadFileAsBase64 = (url) => {\n    return fetch(url)\n        .then(response => response.blob())\n        .then(blob => new Promise(callback => {\n            let reader = new FileReader();\n            reader.onload = function () { callback(this.result) };\n            reader.readAsDataURL(blob);\n        }));\n}\n\nexport const uploadedFileURL = (key, filename) => {\n    if (globalObj.userInput) {\n        return globalObj.userInput.uploadPreviewUrl + globalObj.responseId + \"/\" + key + \"/\" + filename;\n    } else {\n        return \"\"\n    }\n\n}\n\nexport const loadScript = (scriptUrl) => new Promise(resolve => {\n    const script = document.createElement(\"script\");\n    script.async = false;\n    script.src = scriptUrl;\n    document.body.appendChild(script);\n    script.addEventListener('load', resolve, {\n        once: true\n    })\n})\n","import React, { useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Link from \"@mui/material/Link\";\nimport { uploadFile, uploadedFileURL } from \"surveyEngine/networking\";\nimport { styled, useTheme } from \"@mui/material/styles\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport ValidationItem from \"components/ValidationItem\";\nimport { valueChange } from \"surveyEngine/stateMachine\";\n\nconst Input = styled('input')({\n  display: 'none',\n});\n\n\nfunction FileUpload(props) {\n  const theme = useTheme()\n\n  const state = useSelector(((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode]\n    return questionState?.value\n  }), shallowEqual);\n\n  const dispatch = useDispatch();\n\n  const [selectedFile, setSelectedFile] = useState();\n\n\n  const changeHandler = (event) => {\n    setSelectedFile(event.target.files[0]);\n  };\n\n  const uploadSelectedFile = () => {\n    uploadFile(props.component.qualifiedCode, selectedFile).then((response) => {\n      resetSelectedFile()\n      dispatch(valueChange({ componentCode: props.component.qualifiedCode, value: response.data }));\n    }).catch((err) => {\n      console.error(err)\n    });\n  };\n  const resetSelectedFile = () => {\n    setSelectedFile(undefined);\n  };\n\n  let shouldUpload = selectedFile && (!props.component.validation || !props.component.validation.max_file_size\n    || props.component.validation.max_file_size.max_size > selectedFile.size / 1000)\n\n\n  return <div>\n    <label htmlFor=\"contained-button-file\">\n      <Input id=\"contained-button-file\" type=\"file\" onChange={changeHandler} />\n      <Button variant=\"contained\" component=\"span\">\n        Choose File\n      </Button>\n    </label>\n    {!selectedFile ? \"\" : <React.Fragment>\n      <span>&nbsp;{selectedFile.name} - {Math.round(selectedFile.size / 1000)}K</span>\n      {(shouldUpload) ? <Button variant=\"text\" onClick={uploadSelectedFile}>Upload</Button> : \"\"}\n      <Button\n        sx={\n          { fontFamily: theme.textStyles.text.font, fontSize: theme.textStyles.text.size }}\n        variant=\"text\" onClick={resetSelectedFile}>Cancel</Button>\n    </React.Fragment>}\n    {!selectedFile || !props.component.validation || !props.component.validation.max_file_size\n      || props.component.validation.max_file_size.max_size > (selectedFile.size / 1000) ? \"\" : <React.Fragment>\n      <br />\n      <ValidationItem name=\"max_file_size\" validation={props.component.validation.max_file_size} />\n    </React.Fragment>}\n\n    {!state || !state.stored_filename ? \"\" : <React.Fragment>\n      <br />\n      <Link target=\"_blank\" href={uploadedFileURL(props.component.qualifiedCode, state.filename)}>{state.filename} - {Math.round(state.size / 1000)}K</Link>\n    </React.Fragment>}\n  </div>\n}\n\nexport default FileUpload;\n","// extracted by mini-css-extract-plugin\nexport default {\"questionItem\":\"ParagraphQuestion_questionItem__+c+L9\",\"paragraph\":\"ParagraphQuestion_paragraph__PoId1\",\"wordCount\":\"ParagraphQuestion_wordCount__bMD6Z\"};","import React, { useState } from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport { useTranslation } from \"react-i18next\";\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\n\nimport { MapContainer, TileLayer, Popup, Marker, useMapEvents } from 'react-leaflet'\n\nimport styles from \"./ParagraphQuestion.module.scss\";\nimport { valueChange } from \"surveyEngine/stateMachine\";\n\nfunction ParagraphQuestion(props) {\n  const state = useSelector((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode]\n    let show_errors = state.runState.values.Survey.show_errors\n    let isDirty = state.template[props.component.qualifiedCode]\n    let validity = questionState?.validity\n    let invalid = (show_errors || isDirty) && validity === false\n    let value = questionState?.value || \"\"\n    return {\n      value: value,\n      wordCount: window.FrankieScripts ? window.FrankieScripts.wordCount(value) : 0,\n      invalid: invalid\n    };\n  }, shallowEqual);\n  const dispatch = useDispatch();\n\n  const { t } = useTranslation('common');\n\n  const handleChange = (event) => {\n    dispatch(valueChange({\n      componentCode: event.target.name,\n      value: event.target.value\n    }));\n  };\n\n  const lostFocus = (event) => {\n    dispatch({ type: \"SET_DIRTY\", componentCode: event.target.name });\n  };\n\n  // function LocationMarker() {\n  //   const [position, setPosition] = useState(null)\n  //   const map = useMapEvents({\n  //     click() {\n  //       map.locate()\n  //     },\n  //     locationfound(e) {\n  //       setPosition(e.latlng)\n  //       map.flyTo(e.latlng, map.getZoom())\n  //     },\n  //     error(e){\n  //       console.log(e)\n  //     }\n  //   })\n\n  //   return position === null ? null : (\n  //     <Marker position={position}>\n  //       <Popup>You are here</Popup>\n  //     </Marker>\n  //   )\n  // }\n\n\n  return (\n    <div className={styles.questionItem}>\n\n      {/* <MapContainer style={{\n        height: \"300px\",\n        width: \"100%\"\n      }}\n        center={{ lat: 51.505, lng: -0.09 }}\n        zoom={10}\n        scrollWheelZoom={false}>\n        <TileLayer\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n          // url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          url=\"./4uMaps/{z}/{x}/{y}.png\"\n        />\n        <LocationMarker />\n      </MapContainer> */}\n      <TextareaAutosize\n        className={styles.paragraph}\n        required={props.component.validation?.validation_required?.isActive ? true : false}\n        id={props.component.qualifiedCode}\n        name={props.component.qualifiedCode}\n        minRows={props.component.minRows || 2}\n        label={props.component.content.hint || \"\"}\n        onChange={handleChange}\n        onBlur={lostFocus}\n        value={state.value}\n      />\n      {props.component.showWordCount ? <div className={styles.wordCount}>\n        <span>{t(\"word_count\", { \"count\": state.wordCount })}</span>\n      </div>\n        : \"\"}\n    </div>\n\n  );\n}\n\nexport default ParagraphQuestion;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport \"react-quill/dist/quill.core.css\";\nimport './content.css'\nimport { rtlLanguage } from \"common/utils\";\n\nfunction Content(props) {\n  const isComplex = props.content && props.content.search(/data-instruction/) >= 0\n  const state = useSelector(((state) => {\n    if (!props.content || !isComplex || !state.runState.values[props.elementCode] || !props.name || !props.lang) {\n      return undefined\n    } else {\n      return state.runState.values[props.elementCode][`reference_${props.name}_${props.lang}`]\n    }\n\n  }));\n\n  const lang = useSelector(((state) => {\n    return state.runState.values[\"Survey\"].lang\n  }));\n\n\n  const isRtl = rtlLanguage.includes(lang)\n\n  if (!props.content) {\n    return \"\"\n  } else if (!isComplex) {\n    return <div className={`${isRtl ? \"rtl\" : \"ltr\"} ql-editor no-padding`} dangerouslySetInnerHTML={{ __html: props.content }} />\n  } else {\n    return <div className={`${isRtl ? \"rtl\" : \"ltr\"} ql-editor no-padding`} dangerouslySetInnerHTML={{ __html: replaceMentions(props.content, state) }} />\n  }\n}\n\nexport default Content;\n\nfunction replaceMentions(html, referenceValue) {\n  let doc = document.createElement(\"div\")\n  doc.innerHTML = html\n  doc.querySelectorAll('span[data-instruction]').forEach(function (el) {\n    let attribute = el.getAttribute(\"data-instruction\")\n    if (attribute && referenceValue) {\n      let attrArray = attribute.split(\".\")\n      if (attrArray && attrArray.length == 2 && referenceValue[attrArray[0]] && referenceValue[attrArray[0]][attrArray[1]]) {\n        el.replaceWith(referenceValue[attrArray[0]][attrArray[1]])\n      } else {\n        el.replaceWith(\"\")\n      }\n    } else {\n      el.replaceWith(\"\")\n    }\n\n  });\n  return doc.innerHTML\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"DateTimeQuestion_wrapper__SlxG3\"};","import React from \"react\";\nimport TextField from '@mui/material/TextField';\nimport { TimePicker } from '@mui/x-date-pickers/TimePicker';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { DateTimePicker } from '@mui/x-date-pickers/DateTimePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport dayjs from 'dayjs';\n\nimport styles from \"components/DateTimeQuestion/DateTimeQuestion.module.scss\";\nimport { useTheme } from \"@mui/system\";\nimport { valueChange } from \"surveyEngine/stateMachine\";\n\nfunction DateTimeQuestion(props) {\n  const theme = useTheme()\n\n  const state = useSelector(((state) => {\n    let own = state.runState.values[props.component.qualifiedCode]\n    let show_errors = state.runState.values.Survey.show_errors\n    let isDirty = state.template[props.component.qualifiedCode]\n    return {\n      invalid: (show_errors || isDirty) && own?.validity === false,\n      value: own?.value ? dayjs(window.FrankieScripts.sqlDateTimeToDate(own?.value)) : null\n    }\n  }), shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleDateChange = (date) => {\n    let finalDate = (date === null) ? undefined : date.toDate()\n    dispatch(valueChange({\n      componentCode: props.component.qualifiedCode,\n\n      value: (props.component.type == \"date_time\")\n        ? window.FrankieScripts.toSqlDateTime(finalDate)\n        : (props.component.type == \"time\")\n          ? window.FrankieScripts.toSqlDateTimeIgnoreDate(finalDate)\n          : window.FrankieScripts.toSqlDateTimeIgnoreTime(finalDate)\n\n    }));\n  };\n\n  const dateFormat = props.component.dateFormat ? props.component.dateFormat : \"DD.MM.YYYY\"\n\n  return (\n    <div className={styles.wrapper}>\n      <LocalizationProvider dateAdapter={AdapterDayjs} adapterLocale=\"ar-sa\">\n\n        {(props.component.type == \"date_time\") ?\n          <DateTimePicker\n            renderInput={(props) => <TextField onKeyDown={e => e.preventDefault()}  {...props} />}\n            margin=\"normal\"\n            value={state.value}\n            inputFormat={dateFormat + \" \" + (props.component.fullDayFormat ? \"HH:mm\" : \"hh:mm A\")}\n            ampm={props.component.fullDayFormat ? false : true}\n            openTo=\"year\"\n            views={['year', 'month', 'day', 'hours', 'minutes']}\n            id={props.component.qualifiedCode}\n            minDate={props.component.minDate ? dayjs(window.FrankieScripts.dateStringToDate(props.component.minDate)) : undefined}\n            maxDate={props.component.maxDate ? dayjs(window.FrankieScripts.dateStringToDate(props.component.maxDate)) : undefined}\n            error={state.invalid}\n            onChange={handleDateChange}\n            InputProps={\n              { sx: { fontFamily: theme.textStyles.text.font, fontSize: theme.textStyles.text.size, color: theme.textStyles.text.color } }\n            }\n          />\n          : (props.component.type == \"time\") ?\n            <TimePicker\n              renderInput={(params) => <TextField onKeyDown={e => e.preventDefault()}  {...params} />}\n              margin=\"normal\"\n              openTo=\"hours\"\n              views={['hours', 'minutes']}\n              ampm={props.component.fullDayFormat ? false : true}\n              inputFormat={props.component.fullDayFormat ? \"HH:mm\" : \"hh:mm A\"}\n              id={props.component.qualifiedCode}\n              value={state.value}\n              error={state.invalid}\n              onChange={handleDateChange}\n              InputProps={\n                { sx: { fontFamily: theme.textStyles.text.font, color: theme.textStyles.text.color, fontSize: theme.textStyles.text.size, color: theme.textStyles.text.color } }\n              }\n            />\n            : <DatePicker\n              renderInput={(params) => <TextField onKeyDown={e => e.preventDefault()} {...params} />}\n              margin=\"normal\"\n              openTo=\"year\"\n              views={['year', 'month', 'day']}\n              ampm={props.component.fullDayFormat ? false : true}\n              id={props.component.qualifiedCode}\n              inputFormat={dateFormat}\n              value={state.value}\n              minDate={props.component.minDate ? window.FrankieScripts.dateStringToDate(props.component.minDate) : undefined}\n              maxDate={props.component.maxDate ? window.FrankieScripts.dateStringToDate(props.component.maxDate) : undefined}\n              error={state.invalid}\n              onChange={handleDateChange}\n              InputProps={\n                { sx: { fontFamily: theme.textStyles.text.font, fontSize: theme.textStyles.text.size } }\n              }\n            />\n        }\n\n\n      </LocalizationProvider>\n    </div>\n  );\n}\n\nexport default DateTimeQuestion;\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"Question_content__jFAGi\",\"question\":\"Question_question__aFgvL\",\"required\":\"Question_required__+6ZIk\",\"header\":\"Question_header__eglYU\",\"textDescription\":\"Question_textDescription__88ZF7\",\"groupQuestion\":\"Question_groupQuestion__p33V2\"};","// extracted by mini-css-extract-plugin\nexport default {\"imageContainer\":\"ImageScq_imageContainer__x4txC\",\"imageGrid\":\"ImageScq_imageGrid__fLJy0\",\"selection\":\"ImageScq_selection__GeLLW\"};","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport styles from './ImageScq.module.scss'\nimport { valueChange } from \"surveyEngine/stateMachine\";\nimport { useTheme } from \"@emotion/react\";\nimport { Box, Card, Grid,  Radio } from \"@mui/material\";\nimport { buildResourceUrl } from \"design/GetData\";\n\nfunction ImageScq(props) {\n  const theme = useTheme()\n  const containerRef = useRef(null)\n  const [width, setWidth] = useState(800)\n  useEffect(() => {\n    setWidth(containerRef?.current?.offsetWidth)\n  }, [containerRef]);\n  const imageHeight = ( width - props.component.columns * props.component.spacing * 2) / props.component.columns / (props.component.imageAspectRatio || 1)\n  const state = useSelector(((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode]\n    let show_errors = state.runState.values.Survey.show_errors\n    let isDirty = state.template[props.component.qualifiedCode]\n    return {\n      value: questionState?.value || \"\",\n      showValidation: (show_errors || isDirty) && questionState?.validity === false\n    }\n  }), shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (componentCode, value) => {\n    dispatch(valueChange({ componentCode, value }));\n  };\n\n  useEffect(() => {\n    const resizeListener = () => {\n      // change width from the state object\n      setWidth(containerRef?.current?.offsetWidth)\n    };\n    // set resize listener\n    window.addEventListener('resize', resizeListener);\n\n    // clean up function\n    return () => {\n      // remove resize listener\n      window.removeEventListener('resize', resizeListener);\n    }\n  }, [])\n\n  return <Grid ref={containerRef} container className={styles.imageGrid}>\n    {props.component.answers.map((option) => {\n      const backgroundImage = option.image ? `url('${buildResourceUrl(option.image)}')` : \"0\"\n\n      return <Grid key={option.code} item xs={12 / props.component.columns}>\n        <Card className={styles.imageContainer}\n          onClick={() => handleChange(props.component.qualifiedCode, option.code)}\n          style={{\n            backgroundImage: backgroundImage,\n            backgroundColor: theme.palette.background.default,\n            margin: props.component.spacing + \"px\",\n            height: imageHeight + \"px\",\n            border: state.value === option.code ? `2px solid ${theme.palette.primary.main}` : \"2px solid transparent\"\n          }}>\n          <Radio\n            className={styles.selection}\n            checked={state.value === option.code}\n            onChange={event => handleChange(event.target.name, event.target.value)}\n            value={option.code}\n            name={props.component.qualifiedCode}\n          />\n        </Card>\n        {!props.component.hideText && <Box sx={{\n          fontFamily: theme.textStyles.text.font,\n          color: theme.textStyles.text.color,\n          fontSize: theme.textStyles.text.size\n        }}>\n          {option.content.label}\n        </Box>}\n      </Grid>\n    })}\n  </Grid>\n\n}\n\nexport default ImageScq;\n","// extracted by mini-css-extract-plugin\nexport default {\"imageGrid\":\"ImageMcq_imageGrid__UcHs2\",\"imageContainer\":\"ImageMcq_imageContainer__7advl\",\"selection\":\"ImageMcq_selection__iD9h+\"};","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport { valueChange } from \"surveyEngine/stateMachine\";\nimport { useTheme } from \"@emotion/react\";\nimport { Box, Card, Checkbox, Grid } from \"@mui/material\";\nimport { buildResourceUrl } from \"design/GetData\";\nimport styles from './ImageMcq.module.scss'\n\nfunction ImageMcq(props) {\n\n  const containerRef = useRef(null)\n  const [width, setWidth] = useState(800)\n  useEffect(() => {\n    setWidth(containerRef?.current?.offsetWidth)\n  }, [containerRef]);\n  const imageHeight = ( width - props.component.columns * props.component.spacing * 2) / props.component.columns / (props.component.imageAspectRatio || 1)\n\n  useEffect(() => {\n    const resizeListener = () => {\n      // change width from the state object\n      setWidth(containerRef?.current?.offsetWidth)\n    };\n    // set resize listener\n    window.addEventListener('resize', resizeListener);\n\n    // clean up function\n    return () => {\n      // remove resize listener\n      window.removeEventListener('resize', resizeListener);\n    }\n  }, [])\n\n  return <Grid ref={containerRef}  container className={styles.imageGrid}>\n    {props.component.answers.map((option) => {\n      return <ImageMcqItem \n      option={option} \n      spacing={props.component.spacing}\n      columns={props.component.columns}\n      hideText={props.component.hideText}\n      parentCode = {props.component.qualifiedCode}\n      imageHeight={imageHeight}\n      key={option.qualifiedCode} />\n    })}\n  </Grid>\n\n}\n\nfunction ImageMcqItem(props) {\n  const theme = useTheme()\n  const state = useSelector((state) => {\n    let answerState = state.runState.values[props.option.qualifiedCode]\n    return {\n      showAnswer: typeof answerState?.relevance == \"undefined\" || answerState.relevance,\n      checked: answerState?.value || false\n    }\n  }, shallowEqual);\n\n  const dispatch = useDispatch();\n  const handleChange = (componentCode, value) => {\n    dispatch(valueChange({ componentCode, value }));\n    dispatch({ type: \"SET_DIRTY\", componentCode });\n    dispatch({ type: \"SET_DIRTY\", componentCode: props.parentCode });\n  };\n  const backgroundImage = props.option.image ? `url('${buildResourceUrl(props.option.image)}')` : \"0\"\n\n  return <Grid key={props.option.code} item xs={12 / props.columns}>\n    <Card className={styles.imageContainer}\n      onClick={() => handleChange(props.option.qualifiedCode, !state.checked)}\n      style={{\n        backgroundImage: backgroundImage,\n        backgroundColor: theme.palette.background.default,\n        margin: props.spacing + \"px\",\n        height: props.imageHeight + \"px\",\n        border: state.checked ? `2px solid ${theme.palette.primary.main}` : \"2px solid transparent\"\n      }}>\n      <Checkbox\n        className={styles.selection}\n        onChange={event => handleChange(props.option.qualifiedCode, !state.checked)}\n        checked={state.checked}\n      />\n    </Card>\n    {!props.hideText && <Box sx={{\n      fontFamily: theme.textStyles.text.font,\n      color: theme.textStyles.text.color,\n      fontSize: theme.textStyles.text.size\n    }}>\n      {props.option.content.label}\n    </Box>}\n  </Grid>\n\n\n}\n\nexport default ImageMcq;\n","// extracted by mini-css-extract-plugin\nexport default {\"dragContainer\":\"Ranking_dragContainer__KRWko\",\"rankingItem\":\"Ranking_rankingItem__YvbTh\"};","\nimport { Box } from \"@mui/system\";\nimport React from \"react\";\nimport { Droppable, Draggable, DragDropContext } from \"react-beautiful-dnd\";\nimport { useDispatch } from \"react-redux\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport { orderChange, valueChange } from \"surveyEngine/stateMachine\";\nimport styles from \"./Ranking.module.scss\";\n\nfunction Ranking(props) {\n  const dispatch = useDispatch()\n\n\n  const state = useSelector(((state) => {\n    let valuesMap = {};\n    props.component.answers.forEach(element => {\n      valuesMap[element.qualifiedCode] = state.runState.values[element.qualifiedCode].value\n    });\n    return valuesMap\n\n  }), shallowEqual);\n\n  const order = useSelector(((state) => {\n    let valuesMap = {};\n    props.component.answers.forEach(element => {\n      if (state.runState.order) {\n        valuesMap[element.qualifiedCode] = state.runState.order[element.qualifiedCode]\n      } else {\n        valuesMap[element.qualifiedCode] = state.runState.values[element.qualifiedCode].order + 1\n      }\n    });\n    return valuesMap\n\n  }), shallowEqual);\n\n  const maxIndex = (indexObj) => {\n    let max = 0\n    let keys = Object.keys(indexObj)\n    keys.forEach(key => {\n      if (indexObj[key] > max) {\n        max = indexObj[key]\n      }\n    })\n    return max;\n  }\n\n  const onDoubleclick = (draggableId, droppableIteemId, index) => {\n    onDropEvent({\n      draggableId,\n      source: {\n        droppableId: droppableIteemId,\n        index\n      },\n      destination: {\n        droppableId: droppableIteemId == \"source\" ? \"answer\" : \"source\",\n        index: droppableIteemId == \"source\" ? maxIndex(state) : maxIndex(order)\n      }\n    })\n\n  }\n\n\n  const onDropEvent = (event) => {\n    let unOrderer = { ...order }\n    if (!event.destination) {\n      return\n    } else if (event.destination.droppableId == \"answer\" && event.source.droppableId == \"source\") {\n      props.component.answers.forEach(answer => {\n        if (answer.qualifiedCode == event.draggableId) {\n          // This is the item we moved...\n          // 1- We add value\n          // 2- we remove its order from original\n          // setOrder({ ...order, [answer.qualifiedCode]: undefined })\n          unOrderer[answer.qualifiedCode] = undefined\n          dispatch(valueChange({ componentCode: event.draggableId, value: event.destination.index + 1 }))\n        } else if (+state[answer.qualifiedCode] >= event.destination.index + 1) {\n          // increment the value of orderer items\n          dispatch(valueChange({ componentCode: answer.qualifiedCode, value: state[answer.qualifiedCode] + 1 }));\n        } else if (+order[answer.qualifiedCode] >= event.source.index + 1) {\n          // increment the value of orderer items\n          unOrderer[answer.qualifiedCode] = unOrderer[answer.qualifiedCode] - 1\n        }\n      })\n    } else if (event.destination.droppableId == \"answer\" && event.source.droppableId == \"answer\") {\n      props.component.answers.forEach(answer => {\n        if (answer.qualifiedCode == event.draggableId) {\n          // This is the item we moved...\n          // 1- We adjust value\n          dispatch(valueChange({ componentCode: event.draggableId, value: event.destination.index + 1 }));\n        } else if (+state[answer.qualifiedCode] > event.source.index + 1 && +state[answer.qualifiedCode] <= event.destination.index + 1) {\n          // decrement the value of orderer items between the source and destination index\n          dispatch(valueChange({ componentCode: answer.qualifiedCode, value: state[answer.qualifiedCode] - 1 }));\n        } else if (+state[answer.qualifiedCode] < event.source.index + 1 && +state[answer.qualifiedCode] >= event.destination.index + 1) {\n          // decrement the value of orderer items between the source and destination index\n          dispatch(valueChange({ componentCode: answer.qualifiedCode, value: state[answer.qualifiedCode] + 1 }));\n        }\n      })\n    } else if (event.destination.droppableId == \"source\" && event.source.droppableId == \"answer\") {\n      props.component.answers.forEach(answer => {\n        if (answer.qualifiedCode == event.draggableId) {\n          // This is the item we moved...\n          // 1- We remove value\n          // 2- we add its order from original\n          unOrderer[answer.qualifiedCode] = event.destination.index + 1\n          dispatch(valueChange({ componentCode: event.draggableId, value: undefined }));\n        } else if (+state[answer.qualifiedCode] > event.source.index + 1) {\n          // decrement the value of orderer items\n          dispatch(valueChange({ componentCode: answer.qualifiedCode, value: state[answer.qualifiedCode] - 1 }));\n        } else if (+order[answer.qualifiedCode] >= event.destination.index + 1) {\n          // increment the value of orderer items\n          unOrderer[answer.qualifiedCode] = unOrderer[answer.qualifiedCode] + 1\n        }\n      })\n    } else if (event.destination.droppableId == \"source\" && event.source.droppableId == \"source\") {\n      props.component.answers.forEach(answer => {\n        if (answer.qualifiedCode == event.draggableId) {\n          // This is the item we moved...\n          // 1- we set its order \n          unOrderer[answer.qualifiedCode] = event.destination.index + 1\n        } else if (+order[answer.qualifiedCode] > event.source.index + 1 && +order[answer.qualifiedCode] <= event.destination.index + 1) {\n          // decrement the value of orderer items between the source and destination index\n          unOrderer[answer.qualifiedCode] = unOrderer[answer.qualifiedCode] - 1\n        } else if (+order[answer.qualifiedCode] < event.source.index + 1 && +order[answer.qualifiedCode] >= event.destination.index + 1) {\n          // decrement the value of orderer items between the source and destination index\n          unOrderer[answer.qualifiedCode] = unOrderer[answer.qualifiedCode] + 1\n        }\n      })\n    }\n    dispatch(orderChange(unOrderer))\n  }\n\n  return <div style={{\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 1fr\"\n  }}>\n    <DragDropContext\n      onDragEnd={(event) => { onDropEvent(event) }}>\n      <Droppable droppableId=\"source\" type={\"ranking\" + props.component.qualifiedCode}>\n        {(provided) => (\n          <Box className={styles.dragContainer} sx={{ backgroundColor: 'background.default' }}\n            ref={provided.innerRef}\n            {...provided.droppableProps}>\n            {props.component.answers\n              .filter((option) => !state[option.qualifiedCode])\n              .sort(function (a, b) { return order[a.qualifiedCode] - order[b.qualifiedCode] })\n              .map((option, index) => {\n                return <Draggable\n                  key={option.qualifiedCode}\n                  draggableId={option.qualifiedCode}\n                  index={index}>\n                  {(provided) =>\n                  (<Box\n                    onDoubleClick={() => onDoubleclick(option.qualifiedCode, \"source\", index)}\n                    className={styles.rankingItem}\n                    sx={{ backgroundColor: 'background.paper' }}\n                    ref={provided.innerRef}\n                    {...provided.draggableProps}\n                    {...provided.dragHandleProps}>\n                    {option.content.label}\n                  </Box>\n                  )}\n                </Draggable>\n\n\n              })}\n            {provided.placeholder}\n          </Box>\n        )}\n      </Droppable>\n      <Droppable droppableId=\"answer\" type={\"ranking\" + props.component.qualifiedCode}>\n        {(provided) => (\n          <Box ref={provided.innerRef} {...provided.droppableProps}\n            className={styles.dragContainer} sx={{ backgroundColor: 'background.default' }}\n          >\n            {props.component.answers\n              .filter((option) => +state[option.qualifiedCode] > 0)\n              .sort(function (a, b) { return state[a.qualifiedCode] - state[b.qualifiedCode] })\n              .map((option, index) => {\n                return <Draggable\n\n                  key={option.qualifiedCode}\n                  draggableId={option.qualifiedCode}\n                  index={index}>\n                  {(provided) =>\n                  (<Box\n                    onDoubleClick={() => onDoubleclick(option.qualifiedCode, \"answer\", index)}\n                    className={styles.rankingItem}\n                    sx={{ backgroundColor: 'background.paper' }}\n                    ref={provided.innerRef}\n                    {...provided.draggableProps}\n                    {...provided.dragHandleProps}>\n                    {option.content.label}\n                  </Box>\n                  )}\n                </Draggable>\n\n\n              })}\n            {provided.placeholder}\n          </Box>\n        )}\n      </Droppable>\n    </DragDropContext>\n  </div>\n\n}\n\nexport default Ranking;\n","// extracted by mini-css-extract-plugin\nexport default {\"signatureCanvas\":\"Signature_signatureCanvas__nb7je\",\"buttonContainer\":\"Signature_buttonContainer__1kw+6\"};","import Api from \"common/api\";\nimport { Button } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport SignatureCanvas from 'react-signature-canvas'\nimport { dataURLtoBlob, downloadFileAsBase64, uploadBlob, uploadedFileURL } from \"surveyEngine/networking\";\nimport { valueChange } from \"surveyEngine/stateMachine\";\nimport styles from \"./Signature.module.scss\";\n\n\n\nfunction Signature(props) {\n  const [submitEnabled, setSubmitEnabled] = useState(false)\n  const [clearEnabled, setClearEnabled] = useState(false)\n\n  const state = useSelector(((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode]\n    return questionState?.value\n  }), shallowEqual);\n\n  const sigCanvas = useRef();\n  const dispatch = useDispatch();\n\n  const clear = () => {\n    sigCanvas.current.clear()\n    setClearEnabled(false)\n    setSubmitEnabled(false)\n  }\n  const submit = () => {\n    const blob = dataURLtoBlob(sigCanvas.current.toDataURL(\"image/png\"));\n    uploadBlob(props.component.qualifiedCode, blob, `signature-${props.component.qualifiedCode}.png`).then((response) => {\n      dispatch(valueChange({ componentCode: props.component.qualifiedCode, value: response.data }));\n    }).catch((err) => {\n      console.error(err)\n    });\n  }\n\n  useEffect(() => {\n    if (state && state.stored_filename) {\n      downloadFileAsBase64(uploadedFileURL(props.component.qualifiedCode, state.filename)).then((response) => {\n        sigCanvas.current.fromDataURL(response)\n      })\n    }\n  }, [state]);\n\n  useEffect(() => {\n    if (state && state.stored_filename) {\n      downloadFileAsBase64(uploadedFileURL(props.component.qualifiedCode, state.filename)).then((response) => {\n        setSubmitEnabled(false)\n        sigCanvas.current.fromDataURL(response)\n      })\n    }\n  }, [state]);\n\n  return <>\n    <Box className={styles.signatureCanvas} sx={{ backgroundColor: 'background.default' }}>\n      <SignatureCanvas\n        onBegin={() => {\n          setSubmitEnabled(true)\n          setClearEnabled(true)\n        }}\n        ref={sigCanvas}\n        backgroundColor=\"rgba(255,255,255,255)\"\n        canvasProps={{ width: 500, height: 200 }}\n      />\n    </Box>\n    <br />\n    <div className={styles.buttonContainer}>\n      <Button onClick={() => clear()} disabled={!clearEnabled}>Clear</Button>\n      <Button onClick={() => submit()} disabled={!submitEnabled}>Submit</Button>\n    </div>\n  </>\n}\n\nexport default Signature;\n","import { useTheme } from \"@emotion/react\";\nimport { buildResourceUrl } from \"design/GetData\";\nimport ReactPlayer from \"react-player\";\n\nfunction VideoDisplay(props) {\n    const videUrl = props.component.videoUrl ? buildResourceUrl(props.component.videoUrl) : \"\"\n    const theme = useTheme()\n    return props.component.videoUrl && <div style={{\n        position: \"relative\",\n        marginTop: \"16px\",\n        // 16:9 aspect ratio\n        paddingTop: props.component.audio_only ? \"10%\" : \"56%\"\n    }}><ReactPlayer\n            url={videUrl}\n            loop={props.component.loop || false}\n            light={true}\n            controls={true}\n            config={{\n                forceAudio: props.component.audio_only || false\n            }}\n            style={{\n                backgroundColor: \"black\",\n                position: \"absolute\",\n                top: \"0\",\n                left: \"0\",\n            }}\n            volume={1}\n            width=\"100%\"\n            height=\"100%\"/></div>\n\n}\n\nexport default VideoDisplay;","import { buildResourceUrl } from \"design/GetData\";\n\nfunction ImageDisplay(props) {\n    const imageUrl = props.component.imageUrl ? buildResourceUrl(props.component.imageUrl) : \"\"\n    return props.component.imageUrl && <img\n    style={{\n      width:\"100%\"\n    }}\n      src={imageUrl}\n    />\n\n}\n\nexport default ImageDisplay;","// extracted by mini-css-extract-plugin\nexport default {\"imageGrid\":\"ImageRanking_imageGrid__67uZQ\",\"imageContainer\":\"ImageRanking_imageContainer__jOv2R\",\"rankContainer\":\"ImageRanking_rankContainer__eqKqn\",\"rankValue\":\"ImageRanking_rankValue__sx8LG\"};","import React, { useEffect, useRef, useState } from \"react\";\nimport styles from './ImageRanking.module.scss'\nimport { useTheme } from \"@emotion/react\";\nimport { Box, Grid } from \"@mui/material\";\nimport { shallowEqual, useDispatch } from \"react-redux\";\nimport { valueChange } from \"surveyEngine/stateMachine\";\nimport { buildResourceUrl } from \"design/GetData\";\nimport { useSelector } from \"react-redux\";\n\nfunction ImageRanking(props) {\n\n\n  const values = useSelector(((state) => {\n    let valuesMap = {};\n    props.component.answers.forEach(element => {\n      valuesMap[element.qualifiedCode] = state.runState.values[element.qualifiedCode].value\n    });\n    return valuesMap\n\n  }), shallowEqual);\n  const dispatch = useDispatch();\n\n  const containerRef = useRef(null)\n  const [width, setWidth] = useState(800)\n  useEffect(() => {\n    setWidth(containerRef?.current?.offsetWidth)\n  }, [containerRef]);\n  const imageWidth = (width - props.component.columns * props.component.spacing * 2) / props.component.columns\n  const imageHeight = imageWidth / (props.component.imageAspectRatio || 1)\n\n\n  useEffect(() => {\n    const resizeListener = () => {\n      // change width from the state object\n      setWidth(containerRef?.current?.offsetWidth)\n    };\n    // set resize listener\n    window.addEventListener('resize', resizeListener);\n\n    // clean up function\n    return () => {\n      // remove resize listener\n      window.removeEventListener('resize', resizeListener);\n    }\n  }, [])\n\n  const onItemClick = (componentCode) => {\n    dispatch({ type: \"SET_DIRTY\", componentCode: props.component.qualifiedCode });\n    dispatch({ type: \"SET_DIRTY\", componentCode: props.parentCode });\n    if (+values[componentCode] > 0) {\n      dispatch(valueChange({ componentCode, undefined }));\n    } else {\n      let keys = Object.keys(values)\n      let allValues = keys.map(key => values[key])\n      for (var i = 1; i <= keys.length; i++) {\n        if (!allValues.includes(i)) {\n          console.log(i)\n          dispatch(valueChange({ componentCode, value: i }));\n          return;\n        }\n      }\n    }\n  };\n\n  return <Grid ref={containerRef} container className={styles.imageGrid}>\n    {props.component.answers.map((option) => {\n      return <ImageRankingItem\n        option={option}\n        spacing={props.component.spacing}\n        columns={props.component.columns}\n        hideText={props.component.hideText}\n        onClick={() => onItemClick(option.qualifiedCode)}\n        parentCode={props.component.qualifiedCode}\n        imageHeight={imageHeight}\n        imageWidth={imageWidth}\n        key={option.qualifiedCode} />\n    })}\n  </Grid>\n\n}\n\nfunction ImageRankingItem(props) {\n  const theme = useTheme()\n  const state = useSelector((state) => {\n    let answerState = state.runState.values[props.option.qualifiedCode]\n    return {\n      showAnswer: typeof answerState?.relevance == \"undefined\" || answerState.relevance,\n      value: answerState?.value || 0\n    }\n  }, shallowEqual);\n\n  const backgroundImage = props.option.image ? `url('${buildResourceUrl(props.option.image)}')` : \"0\"\n\n\n  return <Grid key={props.option.code} item xs={12 / props.columns}>\n    <Box className={styles.imageContainer}\n      onClick={() => props.onClick()}\n      display=\"flex\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      style={{\n        backgroundImage: backgroundImage,\n        backgroundColor: theme.palette.background.default,\n        margin: props.spacing + \"px\",\n\n        boxShadow: 2,\n        height: props.imageHeight + \"px\",\n        border: state.checked ? `2px solid ${theme.palette.primary.main}` : \"2px solid transparent\"\n      }}>\n      {(state.value > 0) && <div\n        style={{\n          height: Math.min(props.imageHeight, props.imageWidth) + \"px\",\n          width: Math.min(props.imageHeight, props.imageWidth) + \"px\",\n          borderRadius: Math.min(props.imageHeight, props.imageWidth) / 2 + \"px\",\n          fontSize: Math.min(props.imageHeight, props.imageWidth) / 2 + \"px\"\n        }}\n        className={styles.rankContainer}>\n        <span className={styles.rankValue}\n          style={{\n            color: theme.palette.primary.main,\n          }}\n        >{state.value}</span>\n      </div>}\n    </Box>\n    {!props.hideText && <Box sx={{\n      fontFamily: theme.textStyles.text.font,\n      color: theme.textStyles.text.color,\n      fontSize: theme.textStyles.text.size\n    }}>\n      {props.option.content.label}\n    </Box>}\n  </Grid>\n\n\n}\n\nexport default ImageRanking;\n","// extracted by mini-css-extract-plugin\nexport default {\"choicesContainer\":\"NPS_choicesContainer__lQ9AR\",\"choice\":\"NPS_choice__TsW78\",\"choiceLabels\":\"NPS_choiceLabels__m--BQ\"};","import React from \"react\";\n\nimport { useTheme } from \"@emotion/react\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { Box } from \"@mui/material\";\nimport styles from \"./NPS.module.scss\";\n\nimport { valueChange } from \"surveyEngine/stateMachine\";\n\n\nfunction NPS(props) {\n  const theme = useTheme()\n  const dispatch = useDispatch()\n  let columns = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n  const state = useSelector(((state) => {\n    return state.runState.values[props.component.qualifiedCode].value\n  }), shallowEqual);\n\n  const handleChange = (option) => {\n    dispatch(valueChange({ componentCode: props.component.qualifiedCode, value: option }));\n    dispatch({ type: \"SET_DIRTY\", componentCode: props.component.qualifiedCode });\n  }\n\n\n  return <>\n    <Box className={styles.choiceLabels}>\n      <Box>{props.component.content.lower_bound_hint}</Box>\n      <Box>{props.component.content.higher_bound_hint}</Box>\n    </Box>\n    <Box className={styles.choicesContainer}>\n      {columns.map((option) => {\n        const isSelected = (state == option)\n        return (\n          <Box key={option} className={styles.choice}\n            onClick={() => handleChange(option)}\n            sx={{\n              color: isSelected ? 'background.paper' : theme.textStyles.text.color,\n              backgroundColor: isSelected ? 'primary.main' : 'background.paper',\n            }}\n          >\n            {option}\n          </Box>\n        )\n      })}\n    </Box>\n  </>\n}\n\nexport default NPS;\n","import React from \"react\";\nimport { useSelector, shallowEqual } from \"react-redux\";\nimport Box from '@mui/material/Box';\n\nimport SCQ from \"components/Scq\";\nimport TextQuestion from \"components/TextQuestion\";\nimport EmailQuestion from \"components/EmailQuestion\";\nimport NumberQuestion from \"components/NumberQuestion\";\nimport MCQ from \"components/Mcq\";\nimport SCQArray from \"components/SCQArray\";\nimport FileUpload from \"components/FileUpload\";\nimport Validation from \"components/Validation\";\nimport ParagraphQuestion from \"components/ParagraphQuestion\";\nimport Content from \"components/Content\";\nimport DateTimeQuestion from \"components/DateTimeQuestion\";\n\n\nimport styles from \"components/Question/Question.module.scss\";\nimport { useTheme } from \"@mui/material\";\nimport ImageScq from \"components/ImageScq\";\nimport ImageMcq from \"components/ImageMcq\";\nimport Ranking from \"components/Ranking\";\nimport Signature from \"components/Signature\";\nimport { stripTags } from \"design/utils/designUtils\";\nimport VideoDisplay from \"components/VideoDisplay\";\nimport ImageDisplay from \"components/ImageDisplay\";\nimport ImageRanking from \"components/ImageRanking\";\nimport NPS from \"components/NPS\";\n\nfunction Question(props) {\n  console.log(\"rendering: \" + props.component.code)\n  const theme = useTheme()\n  const state = useSelector(((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode]\n    let show_errors = state.runState.values.Survey.show_errors\n    let isDirty = state.template[props.component.qualifiedCode]\n    let validity = questionState?.validity\n    let invalid = (show_errors || isDirty) && validity === false\n    return {\n      showQuestion: typeof questionState?.relevance === \"undefined\" || questionState?.relevance,\n      invalid: invalid,\n      showValidation: invalid\n    }\n  }), shallowEqual);\n\n  const showDescription = props.component.content.description && stripTags(props.component.content.description).length > 0\n  const showTitle = props.component.content.label && stripTags(props.component.content.label).length > 0\n  const showHeader = showTitle || showDescription\n\n  const showQuestion = () => {\n    switch (props.component.type) {\n      case \"date_time\":\n        return <DateTimeQuestion key={props.component.qualifiedCode} component={props.component} />;\n      case \"date\":\n        return <DateTimeQuestion key={props.component.qualifiedCode} component={props.component} />;\n      case \"time\":\n        return <DateTimeQuestion key={props.component.qualifiedCode} component={props.component} />;\n      case \"scq\":\n        return <SCQ key={props.component.qualifiedCode} component={props.component} />;\n      case \"scq_array\":\n        return <SCQArray key={props.component.qualifiedCode} component={props.component} />;\n      case \"file_upload\":\n        return <FileUpload key={props.component.qualifiedCode} component={props.component} />;\n      case \"signature\":\n        return <Signature key={props.component.qualifiedCode} component={props.component} />;\n      case \"mcq\":\n        return <MCQ key={props.component.qualifiedCode} component={props.component} />;\n      case \"number\":\n        return <NumberQuestion key={props.component.qualifiedCode} component={props.component} />;\n      case \"text\":\n        return <TextQuestion key={props.component.qualifiedCode} component={props.component} />;\n      case \"video_display\":\n        return <VideoDisplay key={props.component.qualifiedCode} component={props.component} />;\n      case \"image_display\":\n        return <ImageDisplay key={props.component.qualifiedCode} component={props.component} />;\n      case \"image_ranking\":\n        return <ImageRanking key={props.component.qualifiedCode} component={props.component} />;\n      case \"paragraph\":\n        return <ParagraphQuestion key={props.component.qualifiedCode} component={props.component} />;\n      case \"email\":\n        return <EmailQuestion key={props.component.qualifiedCode} component={props.component} />;\n      case \"image_scq\":\n        return <ImageScq key={props.component.qualifiedCode} component={props.component} />;\n      case \"image_mcq\":\n        return <ImageMcq key={props.component.qualifiedCode} component={props.component} />;\n      case \"ranking\":\n        return <Ranking key={props.component.qualifiedCode} component={props.component} />;\n      case \"nps\":\n        return <NPS key={props.component.qualifiedCode} component={props.component} />;\n      default:\n        return \"\";\n    }\n  };\n\n  return (state.showQuestion)\n    ? (\n\n      <Box\n        sx={{ borderColor: state.invalid ? 'error.main' : 'grey.500', backgroundColor: 'background.paper' }}\n        className={`${styles.groupQuestion}`}>\n        {showHeader && <div className={styles.header}>\n          {showTitle && <Box style={{ fontFamily: theme.textStyles.question.font, color: theme.textStyles.text.color, fontSize: theme.textStyles.question.size }}>\n            <Content\n              className={`${styles.content} ${styles.question}`}\n              name=\"label\" lang={props.lang}\n              elementCode={props.component.qualifiedCode}\n              content={props.component.content.label}\n            />\n          </Box>}\n          {showDescription && <Box className={styles.textDescription} >\n            <Content elementCode={props.component.code} name=\"description\" lang={props.lang} content={props.component.content.description} />\n          </Box>}\n\n        </div>}\n\n        {showQuestion()}\n        {(!state.showValidation) ? \"\" :\n\n          <Validation component={props.component} />\n\n        }\n      </Box>\n    )\n    : \"\"\n}\n\nexport default Question;\n","// extracted by mini-css-extract-plugin\nexport default {\"textHeader\":\"Group_textHeader__eTNzG\",\"textDescription\":\"Group_textDescription__ol3gC\",\"titleRow\":\"Group_titleRow__MiTwq\",\"groupHeader\":\"Group_groupHeader__b0JUF\"};","import React from \"react\";\nimport { useSelector, shallowEqual } from \"react-redux\";\n\nimport Question from \"components/Question\";\nimport Content from \"components/Content\";\n\nimport styles from \"./Group.module.scss\";\nimport { Box, useTheme } from \"@mui/material\";\n\nfunction Group(props) {\n  const theme = useTheme()\n\n  const state = useSelector((state) => {\n    let groupState = state.runState.values[props.group.code]\n    return { showGroup: typeof groupState?.relevance === \"undefined\" || groupState.relevance }\n  }, shallowEqual);\n  const showGroup = () => {\n    return (\n      <React.Fragment>\n        <Box sx={{borderColor : 'grey.500', boxShadow:1, backgroundColor:'background.paper'}} className=\"card-custom\">\n        <Box sx={{backgroundColor:'primary.main', height:'8px'}} className={styles.groupHeader}></Box>\n          <Box sx={{backgroundColor:'background.paper'}} className={styles.titleRow}>\n            <div className={styles.textHeader} style={{ fontFamily: theme.textStyles.group.font, color: theme.textStyles.group.color, fontSize: theme.textStyles.group.size }} >\n              <Content \n               elementCode={props.group.code} name=\"label\" lang={props.lang} content={props.group.content?.label}  />\n            </div>\n            <Box className={styles.textDescription}>\n              <Content elementCode={props.group.code} name=\"description\" lang={props.lang}  content={props.group.content?.description}  />\n            </Box>\n          </Box>\n        </Box>\n        {props.group && props.group.questions\n          ? props.group.questions.filter((quest) => quest.inCurrentNavigation).map((quest) => (\n            <Question key={quest.code} component={quest} lang={props.lang} />\n          ))\n          : \"\"}\n      </React.Fragment>\n    );\n  };\n  return (state.showGroup) && (props.group ? showGroup() : \"\");\n}\n\nexport default Group;\n","import React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch, shallowEqual } from \"react-redux\";\nimport { useTranslation } from \"react-i18next\";\n\nimport Button from \"@mui/material/Button\";\nimport { navigateNext, navigatePrevious } from \"surveyEngine/stateMachine\";\n\n\nfunction Navigation(props) {\n  const state = useSelector(((state) => {\n    return {\n      has_previous: state.runState.values.Survey.has_previous,\n      has_next: state.runState.values.Survey.has_next\n    }\n  }), shallowEqual);\n  const dispatch = useDispatch();\n  const { t } = useTranslation('common');\n\n  const previous = () => {\n    dispatch(navigatePrevious());\n  };\n  const next = () => {\n    dispatch(navigateNext());\n  };\n\n  return props.navigationIndex.name == \"end\" ? \"\" : (\n    <div className=\"pb-10\">\n      {state.has_previous ?\n        <Button\n          variant=\"contained\"\n          className=\"mr-14\"\n          onClick={() => { previous(); }}\n        >\n          {t('previous')}\n        </Button> : \"\"\n      }\n      <Button\n        variant=\"contained\"\n        onClick={() => { next(); }}\n      >\n        {state.has_next ? t('next') : t('finish')}\n      </Button>\n    </div>\n  );\n\n}\n\nexport default Navigation;\n","// extracted by mini-css-extract-plugin\nexport default {\"surveyContent\":\"Survey_surveyContent__xXZ5t\",\"surveyGroups\":\"Survey_surveyGroups__cshuO\",\"cardImage\":\"Survey_cardImage__vPKnl\",\"surveyEmpty\":\"Survey_surveyEmpty__BJGOc\",\"surveyPage\":\"Survey_surveyPage__p07so\"};","import React from \"react\";\nimport { Box, CardMedia, useTheme } from \"@mui/material\";\n\nimport Group from \"components/Group\";\nimport Navigation from \"components/Navigation\";\n\nimport styles from \"./Survey.module.scss\";\nimport { buildResourceUrl } from \"design/GetData\";\nimport { FORM_ID } from \"constants\";\n\nfunction Survey({ navigationIndex, survey, lang }) {\n  const theme = useTheme()\n  if (navigationIndex.name == \"Error\") {\n    return (\n      <Box className={styles.surveyEmpty} >\n        Nothing to Show... Check Survey Design\n      </Box>\n    );\n  } else {\n    return (\n      <form id={FORM_ID} className={styles.surveyPage} style={{ fontFamily: theme.textStyles.text.font, color: theme.textStyles.text.color, fontSize: theme.textStyles.text.size }}>\n        <div className={styles.surveyContent}>\n          <div className={styles.surveyGroups}>\n            {survey.headerImage ?\n              <CardMedia\n                className={styles.cardImage}\n                component=\"img\"\n                image={buildResourceUrl(survey.headerImage)}\n              /> : null\n            }\n            {survey && survey.groups\n              ? survey.groups.filter((group) => group.inCurrentNavigation).map((group) => (\n                <Group key={group.code} group={group} lang={lang.code} />\n              ))\n              : \"\"}\n            <Navigation navigationIndex={navigationIndex} />\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default Survey;\n","// extracted by mini-css-extract-plugin\nexport default {\"groupCard\":\"SurveyIndex_groupCard__plcrz\",\"groupTitle\":\"SurveyIndex_groupTitle__1hB6-\",\"questionTitle\":\"SurveyIndex_questionTitle__jmXeg\",\"validationIcon\":\"SurveyIndex_validationIcon__vIkpE\",\"bullet\":\"SurveyIndex_bullet__OduI5\"};","import React from \"react\";\n\nimport styles from \"./SurveyIndex.module.scss\";\nimport { Card } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { stripTags } from \"design/utils/designUtils\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport CircleIcon from '@mui/icons-material/Circle';\nimport { useTheme } from \"@emotion/react\";\nimport { useDispatch } from \"react-redux\";\nimport { jump } from \"surveyEngine/stateMachine\";\n\nfunction SurveyIndex(props) {\n  const theme = useTheme()\n  const dispatch = useDispatch()\n\n  const relevance_map = useSelector((state) => {\n    return state.runState.values[\"Survey\"].relevance_map\n  }, shallowEqual);\n\n  const validity_map = useSelector((state) => {\n    return state.runState.values[\"Survey\"].validity_map\n  }, shallowEqual);\n\n  const isCurrentGroup = (groupCode) => {\n    return props.navigationIndex.name == \"group\" && groupCode == props.navigationIndex.groupId\n  }\n\n  const isCurrentQuestion = (questionCode) => {\n    return props.navigationIndex.name == \"question\" && questionCode == props.navigationIndex.questionId\n  }\n\n  const isGroupClickable = (groupCode) => !isCurrentGroup(groupCode) && props.navigationIndex.name == \"group\"\n\n  const isQuestionClickable = (questionCode) => !isCurrentQuestion(questionCode) && props.navigationIndex.name == \"question\"\n\n  const onGroupClicked = (groupCode) => {\n    if (isGroupClickable(groupCode)) {\n      dispatch(jump({ ...props.navigationIndex, groupId: groupCode }))\n    }\n  }\n\n  const onQuestionClicked = (questionCode) => {\n    if (isQuestionClickable(questionCode)) {\n      dispatch(jump({ ...props.navigationIndex, questionId: questionCode }))\n    }\n  }\n\n  return (\n    <div className={styles.surveyContent}>\n      {props.survey && props.survey.groups\n        ? props.survey.groups.filter(group => relevance_map[group.code] && group.groupType != \"END\").map((group) => {\n          return <Card onClick={() => onGroupClicked(group.code)} key={group.code} className={styles.groupCard} style={{\n            backgroundColor: isCurrentGroup(group.code) ? \"beige\" : theme.palette.background.paper,\n            cursor: isGroupClickable(group.code) ? \"pointer\" : \"default\"\n          }}>\n            <Box className={styles.groupTitle}>{stripTags(group.content.label)} </Box>\n            {group.questions.filter(question => relevance_map[question.code]).map((question) => {\n              return <Box key={question.code} onClick={() => onQuestionClicked(question.code)} className={styles.questionTitle} style={{\n                backgroundColor: isCurrentQuestion(question.code) ? \"beige\" : \"inherit\",\n                cursor: isGroupClickable(group.code) ? \"inherit\" : isQuestionClickable(group.code) ? \"pointer\" : \"default\"\n              }}>\n                {validity_map[question.code] ? <CheckCircleIcon className={styles.validationIcon} /> : <CircleIcon className={styles.bullet} />}\n                {stripTags(question.content.label)}\n              </Box>\n            })}\n          </Card>\n        })\n        : \"\"}\n    </div>)\n\n}\n\nexport default SurveyIndex;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { shallowEqual, useDispatch } from \"react-redux\";\nimport { FormControl, InputLabel, MenuItem, Select } from \"@mui/material\";\nimport { langChange } from \"surveyEngine/stateMachine\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction ChangeLang(props) {\n  const state = useSelector((state) => {\n    return {\n      navigate: state.runState.navigate,\n      lang: state.runState.lang,\n    };\n  }, shallowEqual);\n  const dispatch = useDispatch();\n\n  const { t } = useTranslation('common');\n\n  return (\n    <FormControl variant=\"standard\">\n      <InputLabel id=\"change-lang-label\">{t(\"lang\")}</InputLabel>\n      <Select\n        labelId=\"change-lang-label\"\n        sx={{ backgroundColor: 'background.paper', color: 'primary.main' }}\n        id=\"ChangeLang\"\n        label={t(\"lang\")}\n        value={props.lang.code}\n        onChange={(event) => {\n          dispatch(langChange({\n            lang: event.target.value,\n          }));\n        }}\n      >\n        <MenuItem value={props.lang.code}>{props.lang.langName}</MenuItem>\n        {props.additionalLang ? props.additionalLang.map((lang, index) => { return <MenuItem key={index} value={lang.code}>{lang.langName}</MenuItem> }) : \"\"}\n      </Select>\n    </FormControl>\n  );\n}\n\nexport default ChangeLang;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { shallowEqual, useDispatch } from \"react-redux\";\nimport styles from \"./RunSurvey.module.scss\";\nimport { useTranslation } from \"react-i18next\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport rtlPlugin from \"stylis-plugin-rtl\";\nimport { prefixer } from \"stylis\";\nimport { CacheProvider } from \"@emotion/react\";\nimport createCache from \"@emotion/cache\";\n\nimport Layout from \"components/Layout\";\nimport ErrorMessage from \"components/ErrorMessage\";\nimport globalObj from \"common/share\";\nimport Survey from \"components/Survey\";\nimport { fetchUserInputFromParams } from \"surveyEngine/userInputUtils\";\nimport {\n    navigateFromUserInput,\n    navigateFromPayload,\n    loadScript,\n} from \"surveyEngine/networking\";\nimport { rtlLanguage } from \"common/utils\";\nimport { defualtTheme } from \"constants\";\nimport { stateReceived } from \"surveyEngine/stateMachine\";\nimport SurveyIndex from \"components/SurveyIndex\";\nimport { useSelector } from \"react-redux\";\nimport { AppBar, Drawer, IconButton, Toolbar, Typography } from \"@mui/material\";\nimport ChangeLang from \"components/ChangeLang\";\nimport MenuIcon from '@mui/icons-material/Menu';\nimport { FORM_ID } from \"constants\";\n\nfunction RunSurvey() {\n\n    const [expanded, setExpanded] = React.useState(COLLAPSE);\n\n    window[\"handleBack\"] = () => {\n        const result = expanded === EXPAND\n        setExpanded(COLLAPSE)\n        return result\n    }\n\n\n    const data = useSelector((state) => {\n        return state.runState.data\n    }, shallowEqual);\n\n    const navigation = useSelector((state) => {\n        return state.runState.navigation\n    }, shallowEqual);\n\n    const [error, setError] = useState(null);\n    const { i18n } = useTranslation(\"common\");\n    const dispatch = useDispatch();\n    let search = window.location.search;\n    let params = new URLSearchParams(search);\n    let userInput = fetchUserInputFromParams(params);\n\n    useEffect(() => {\n        if (navigation) {\n            setExpanded(COLLAPSE_IMMEDIATE)\n            setError(null);\n            navigateFromPayload(userInput, navigation, data.responseId)\n                .then((response) => {\n                    dispatch(stateReceived(response.data));\n                    i18n.changeLanguage(response.data.lang.code);\n                    // document?.getElementById(FORM_ID)?.scrollTo(0, 0)\n                })\n                .catch((err) => {\n                    setError({\n                        errorType: \"click\",\n                        message: err.message,\n                    });\n                });\n        }\n    }, [navigation]);\n\n    useEffect(() => {\n        if (rtlLanguage.includes(i18n.language)) {\n            document.dir = \"rtl\";\n        } else {\n            document.dir = \"ltr\";\n        }\n    }, [i18n.language]);\n\n    useEffect(() => {\n        if (isPropsEmpty()) {\n            setError(null);\n            loadScript(userInput.scriptUrl).then(() => {\n                navigateFromUserInput(userInput)\n                    .then((response) => {\n                        const navigationIndex = response.data.navigationIndex\n                        if (navigationIndex.name != \"Error\") {\n                            dispatch(stateReceived(response.data));\n                            if (!Object.isFrozen(globalObj)) {\n                                globalObj.userInput = userInput;\n                                globalObj.responseId = response.data.responseId;\n                                Object.freeze(globalObj);\n                            }\n                        }\n                        i18n.changeLanguage(response.data.lang.code);\n                    })\n                    .catch((err) => {\n                        console.error(err)\n                        setError({\n                            errorType: \"startup\",\n                            message: err.message,\n                        });\n                    });\n            });\n        }\n    }, []);\n\n    const theme = React.useCallback(createTheme({\n        ...defualtTheme(data?.survey?.theme),\n        direction: rtlLanguage.includes(i18n.language) ? \"rtl\" : \"ltr\",\n    }), [i18n.language, data?.survey?.theme])\n\n    const cacheRtl = createCache({\n        key: rtlLanguage.includes(i18n.language) ? \"muirtl\" : \"muiltr\",\n        stylisPlugins: rtlLanguage.includes(i18n.language)\n            ? [prefixer, rtlPlugin]\n            : null,\n    });\n\n    function isPropsEmpty() {\n        return !data?.survey\n    }\n\n    const toggleDrawer = (open) => (event) => {\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n            return;\n        }\n        setExpanded(open ? EXPAND : COLLAPSE)\n    };\n\n\n    return <CacheProvider value={cacheRtl}>\n        <ThemeProvider theme={theme}>\n            <Layout onClick={toggleDrawer(false)} onKeyDown={toggleDrawer(false)}>\n                {!isPropsEmpty() && <div className={styles.mainContainer}>\n                    <AppBar position=\"fixed\">\n                        <Toolbar>\n                            <IconButton\n                                size=\"large\"\n                                edge=\"start\"\n                                color=\"inherit\"\n                                aria-label=\"menu\"\n                                sx={{ mr: 2 }}\n                                onClick={toggleDrawer(true)}\n                            >\n                                <MenuIcon />\n                            </IconButton>\n                            <Typography variant=\"h5\" component=\"div\" sx={{ flexGrow: 1 }}>\n                                {data?.survey?.content?.label}\n                            </Typography>\n                        </Toolbar>\n                    </AppBar>\n                    <Toolbar />\n                    <SurveyMemo\n                        key=\"Survey\"\n                        survey={data?.survey}\n                        navigationIndex={data?.navigationIndex}\n                        lang={data?.lang}\n                        additionalLang={data?.additionalLang}\n                        error={error} />\n                    <Drawer\n                        anchor=\"left\"\n                        transitionDuration={expanded !== COLLAPSE_IMMEDIATE ? 200 : 0}\n                        open={expanded == EXPAND}\n                        onClose={toggleDrawer(false)}\n                    >\n                        <div className={styles.drawer}>\n                            <ChangeLang lang={data?.lang} additionalLang={data?.additionalLang} />\n                            <SurveyIndexMemo\n                                className={styles.surveyIndex}\n                                navigationIndex={data?.navigationIndex}\n                                survey={data?.survey} />\n                        </div>\n                    </Drawer>\n                </div>}\n                {error ? <ErrorMessage error={error} variant=\"toast\" /> : null}\n            </Layout>\n        </ThemeProvider>\n    </CacheProvider>\n\n}\n\nconst SurveyMemo = React.memo(Survey);\nconst SurveyIndexMemo = React.memo(SurveyIndex);\n\nexport default RunSurvey;\n\nconst COLLAPSE_IMMEDIATE = \"COLLAPSE_IMMEDIATE\"\nconst COLLAPSE = \"COLLAPSE\"\nconst EXPAND = \"EXPAND\"\n","export const fetchUserInputFromParams = (params) => {\n  let lang = params.get('lang');\n  let responseId = params.get('response_id');\n\n  let url = \"http://\" + params.get('url') + \"/api/\" + params.get('sid') + \"/navigate\"\n  let scriptUrl = \"http://\" + params.get('url') + \"/api/\" + params.get('sid') + \"/runtime.js\"\n  let uploadUrl = \"http://\" + params.get('url') + \"/survey/upload/\" + params.get('sid') + \"/\"\n  let uploadPreviewUrl = \"http://\" + params.get('url') + \"/survey/\" + params.get('sid') + \"/upload/\"\n  let offline = params.get('offline')\n\n  let navigationDirection = JSON.parse(params.get('navigation_direction'));\n  if (!navigationDirection && !responseId) {\n    navigationDirection = { \"name\": \"START\" }\n  } else if (!navigationDirection) {\n    navigationDirection = { \"name\": \"RESUME\" }\n  }\n  return {\n    url: url, scriptUrl: scriptUrl, uploadUrl: uploadUrl, uploadPreviewUrl: uploadPreviewUrl,\n    lang: lang, responseId: responseId,\n    navigationDirection: navigationDirection, offline: offline\n  }\n\n\n}"],"names":["Layout","props","isLoading","useSelector","state","template","Box","className","styles","sx","backgroundColor","color","LoadingIndicator","children","ErrorMessage","useState","open","setOpen","dir","setDir","handleClose","i18n","useTranslation","useEffect","rtlLanguage","language","variant","Snackbar","autoHideDuration","onClose","Alert","severity","error","message","t","validationMessage","validation","content","isCustomErrorActive","translationKey","name","replace","ErrorOutlineOutlined","messages","component","Object","keys","forEach","key","value","runState","values","qualifiedCode","array","filter","limit","length","slice","map","index","ScqChoice","theme","useTheme","showChoice","FormControlLabel","control","Radio","label","fontFamily","textStyles","text","font","fontSize","size","Choice","code","ScqChoiceOther","nestedTextChild","answers","choiceState","childState","show_errors","Survey","isChildDirty","relevance","childInvalid","validity","shallowEqual","dispatch","useDispatch","handleChange","event","valueChange","componentCode","target","handleFocus","parentCode","lostFocus","type","textInput","useRef","onButtonClick","checked","current","focus","TextField","required","textChild","inputRef","id","onChange","onFocus","onBlur","InputProps","helperText","questionState","FormControl","RadioGroup","option","isDirty","invalid","validation_required","isActive","hint","inputProps","maxLength","maxChars","undefined","regex","allowDecimal","test","output","isNaN","endsWith","McqAnswer","answerState","Answer","showAnswer","Checkbox","McqAnswerOther","own","textValue","textRelevance","SCQArrayRow","answer","TableRow","TableCell","borderBottom","padding","choices","scope","colSpan","columns","rows","TableContainer","Table","TableHead","TableBody","downloadFileAsBase64","url","fetch","then","response","blob","Promise","callback","reader","FileReader","onload","this","result","readAsDataURL","uploadedFileURL","filename","globalObj","Input","styled","display","selectedFile","setSelectedFile","resetSelectedFile","shouldUpload","max_file_size","max_size","htmlFor","files","Button","Math","round","onClick","formData","FormData","append","Api","uploadFile","data","err","console","stored_filename","Link","href","wordCount","window","FrankieScripts","TextareaAutosize","minRows","showWordCount","isComplex","search","elementCode","lang","isRtl","dangerouslySetInnerHTML","__html","replaceMentions","html","referenceValue","doc","document","createElement","innerHTML","querySelectorAll","el","attribute","getAttribute","attrArray","split","replaceWith","dayjs","sqlDateTimeToDate","handleDateChange","date","finalDate","toDate","toSqlDateTime","toSqlDateTimeIgnoreDate","toSqlDateTimeIgnoreTime","dateFormat","LocalizationProvider","dateAdapter","AdapterDayjs","adapterLocale","DateTimePicker","renderInput","onKeyDown","e","preventDefault","margin","inputFormat","fullDayFormat","ampm","openTo","views","minDate","dateStringToDate","maxDate","TimePicker","params","DatePicker","containerRef","width","setWidth","offsetWidth","imageHeight","spacing","imageAspectRatio","showValidation","resizeListener","addEventListener","removeEventListener","Grid","ref","container","backgroundImage","image","buildResourceUrl","item","xs","Card","style","palette","background","height","border","primary","main","hideText","ImageMcqItem","valuesMap","element","order","maxIndex","indexObj","max","onDoubleclick","draggableId","droppableIteemId","onDropEvent","source","droppableId","destination","unOrderer","orderChange","gridTemplateColumns","onDragEnd","provided","innerRef","droppableProps","sort","a","b","onDoubleClick","draggableProps","dragHandleProps","placeholder","submitEnabled","setSubmitEnabled","clearEnabled","setClearEnabled","sigCanvas","submit","dataurl","arr","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","Blob","dataURLtoBlob","toDataURL","fileName","uploadBlob","fromDataURL","onBegin","canvasProps","clear","disabled","videUrl","videoUrl","position","marginTop","paddingTop","audio_only","loop","light","controls","config","forceAudio","top","left","volume","imageUrl","src","ImageRankingItem","justifyContent","alignItems","boxShadow","min","imageWidth","borderRadius","allValues","i","includes","log","onItemClick","lower_bound_hint","higher_bound_hint","isSelected","showQuestion","showDescription","description","stripTags","showTitle","showHeader","borderColor","question","groupState","group","showGroup","questions","quest","inCurrentNavigation","has_previous","has_next","navigationIndex","navigatePrevious","navigateNext","survey","FORM_ID","headerImage","CardMedia","groups","relevance_map","validity_map","isCurrentGroup","groupCode","groupId","isCurrentQuestion","questionCode","questionId","isGroupClickable","isQuestionClickable","groupType","jump","paper","cursor","CheckCircle","Circle","navigate","InputLabel","Select","labelId","langChange","MenuItem","langName","additionalLang","SurveyMemo","React","SurveyIndexMemo","SurveyIndex","COLLAPSE","expanded","setExpanded","EXPAND","navigation","setError","location","userInput","get","responseId","scriptUrl","uploadUrl","uploadPreviewUrl","offline","navigationDirection","JSON","parse","fetchUserInputFromParams","URLSearchParams","COLLAPSE_IMMEDIATE","payload","finalObj","resolve","reject","stringify","res","navigateFromPayload","stateReceived","changeLanguage","errorType","isPropsEmpty","script","async","body","appendChild","once","navigateFromUserInput","isFrozen","freeze","createTheme","defualtTheme","direction","cacheRtl","createCache","stylisPlugins","prefixer","rtlPlugin","toggleDrawer","C","ThemeProvider","AppBar","Toolbar","IconButton","edge","mr","Menu","Typography","flexGrow","Drawer","anchor","transitionDuration"],"sourceRoot":""}