"use strict";(self.webpackChunkfrankie_react=self.webpackChunkfrankie_react||[]).push([[985],{64617:function(e,n,t){t.d(n,{Z:function(){return c}});t(72791);var o=t(95048),i=t(25248),r="Layout_main__FV28D",a=t(50228),l=t(80184);function c(e){var n=(0,o.v9)((function(e){return e.template.isLoading}));return(0,l.jsxs)(a.Z,{className:r,sx:{backgroundColor:"background.default",color:"text.primary"},children:[n?(0,l.jsx)(i.Z,{}):null,e.children]})}},30985:function(e,n,t){t.r(n),t.d(n,{default:function(){return Mo}});var o=t(1413),i=t(72791),r=t(68844),a=t(21703),l=t(57012),c=t(75579),s=t(64617),d="EditSurvey_mainContainer__660V1",u="EditSurvey_updateButtons__LFbuB",v=t(29439),h=t(74244),f=t(48656),p=t(85148),m="TextQuestionDesign_questionItem__EDG6-",g=t(74142),_=t(95048),x=t(80184);var j=function(e){var n,t,o,i,r=e.code,a=(0,g.Z)(),l=(0,_.v9)((function(e){return e.designState[r]})),c=(0,_.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:m,children:(0,x.jsx)(p.Z,{disabled:!0,variant:"standard",required:!(null===(n=l.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:l.showHint&&((null===(o=l.content)||void 0===o||null===(i=o.hint)||void 0===i?void 0:i[c])||""),value:"",InputProps:{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}}})})},y="EmailQuestionDesign_questionItem__BJLQa";var b=function(e){var n,t,o,i,r=e.code,a=(0,g.Z)(),l=(0,_.v9)((function(e){return e.designState[r]})),c=(0,_.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:y,children:(0,x.jsx)(p.Z,{disabled:!0,variant:"standard",required:!(null===(n=l.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:l.showHint&&((null===(o=l.content)||void 0===o||null===(i=o.hint)||void 0===i?void 0:i[c])||""),InputProps:{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}},value:""})})},Z="NumberQuestionDesign_questionItem__BtoyZ";var S=function(e){var n,t,o,i,r=e.code,a=(0,g.Z)(),l=(0,_.v9)((function(e){return e.designState[r]})),c=(0,_.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:Z,children:(0,x.jsx)(p.Z,{disabled:!0,variant:"standard",required:!(null===(n=l.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:l.showHint&&((null===(o=l.content)||void 0===o||null===(i=o.hint)||void 0===i?void 0:i[c])||""),value:"",InputProps:{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}}})})},C=t(33168),w=t(71747),I="ParagraphQuestionDesign_questionItem__1iaDm",k="ParagraphQuestionDesign_paragraph__bAU0T",N="ParagraphQuestionDesign_wordCount__7Meli";var q=function(e){var n,t,o,i,r=e.code,a=(0,C.$)("common").t,l=(0,_.v9)((function(e){return e.designState[r]})),c=(0,_.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsxs)("div",{className:I,children:[(0,x.jsx)(w.Z,{disabled:!0,className:k,required:!(null===(n=l.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),placeholder:l.showHint&&((null===(o=l.content)||void 0===o||null===(i=o.hint)||void 0===i?void 0:i[c])||""),minRows:l.minRows||2,value:""}),l.showWordCount?(0,x.jsx)("div",{className:N,children:(0,x.jsx)("span",{children:a("word_count",{lng:c,count:0})})}):""]})},D="QuestionDesign_textDescriptionContent__esAki",A="QuestionDesign_groupQuestion__6eWyU",L="QuestionDesign_titleQuestion__JyiBU",R="QuestionDesign_questionWrapper__PwQ1z",E="QuestionDesign_moveBox__dVlu+",P=t(15614),T="ContentEditor_fullWidth__Dd36B",M="ContentEditor_noPadding__ohOAq",O="ContentEditor_placeholder__c-aPx",z=t(50228),F=t(74165),B=t(15861),Y=(t(86009),t(66770)),H=t.n(Y),Q=t(95943),G=(t(33193),t(57126)),W=function(e,n){var t=[],o=e.find((function(e){return e.code===n}));if(!o)return t;o.parent&&V(e,o).forEach((function(n){t=t.concat(K(e,n))}));return((0,G.ty)(o.code)||(0,G.KX)(o.code))&&(t=t.concat(K(e,o))),t},V=function e(n,t){var o=[],i=n.find((function(e){return e.code===t.parent}));return i&&i.parent&&(o.push(i),o=o.concat(e(n,i))),o},K=function(e,n){var t=[];if(!(0,G.ty)(n.code)&&!(0,G.KX)(n.code))return t;var o=e.filter((function(e){return e.parent===n.parent&&e.maxIndex<n.minIndex&&(!n.prioritisedSiblings||-1===n.prioritisedSiblings.indexOf(e.code))}));return o.forEach((function(n){t=(t=t.concat(n.code)).concat(U(e,n))})),t},U=function e(n,t){var o=[];return(0,G.ty)(t.code)?(t.children&&t.children.forEach((function(t){var i=n.find((function(e){return e.code===t}));o=(o=o.concat(i.code)).concat(e(n,i))})),o):o},X=function(e,n,t,o){var i=W(e,n),r=[];return i.forEach((function(e){if((0,G.KX)(e)){var n=J(e,t[e],t,o);n.length&&(r=r.concat(n))}})),r},J=function(e,n,t,o){var i,r,a=e+". "+(0,G.oN)(null===(i=n.content)||void 0===i||null===(r=i.label)||void 0===r?void 0:r[o]),l="",c=n.type;switch(n.type){case"scq_array":return n.children.filter((function(e){return"row"==e.type})).map((function(n){var i,r;return{value:a+" - "+e+". "+(0,G.oN)(null===(i=t[n.qualifiedCode].content)||void 0===i||null===(r=i.label)||void 0===r?void 0:r[o]),id:e+n.code,type:"SCQ Array Row",instruction:e+n.code+".masked_value"}}));case"text":c="Short Text",l="".concat(e,".value");break;case"email":c="Email",l="".concat(e,".value");break;case"paragraph":l="".concat(e,".value"),c="Long Text";break;case"number":c="Number",l="".concat(e,".value");break;case"date":c="Date",l="".concat(e,".masked_value");break;case"time":c="time",l="".concat(e,".masked_value");break;case"date_time":c="Date Time",l="".concat(e,".masked_value");break;case"scq":c="SCQ",l="".concat(e,".masked_value");break;case"image_scq":c="Image SCQ",l="".concat(e,".masked_value");break;case"mcq":c="MCQ",l="".concat(e,".masked_value");break;case"image_mcq":c="Image MCQ",l="".concat(e,".masked_value");break;default:return[]}return[{id:e,instruction:l,value:a,type:c}]},$=t(42038),ee=t(8181);function ne(e){var n=e.value,t=e.onBlurListener,r=e.extended,a=e.isRtl,l=e.lang,c=e.code;console.log("DraftEditor for: "+c);var s=function(e,n){return n?"<p>"+e.replace(/<br>/gi,"").replace(/<p>/gi,"").replace(/<\/p>/,"")+"</p>":e},d=i.createRef(),u=(0,i.useState)(s(n,!r)),h=(0,v.Z)(u,2),f=h[0],p=h[1],m=(0,i.useState)(0),g=(0,v.Z)(m,2),_=g[0],j=g[1];function y(e){return b.apply(this,arguments)}function b(){return b=(0,B.Z)((0,F.Z)().mark((function e(n){var t,o,i,r;return(0,F.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$.Kj.getState().designState,o=X(t.componentIndex,c,t,t.langInfo.mainLang),0!==n.length){e.next=6;break}return e.abrupt("return",o);case 6:for(i=[],r=0;r<o.length;r++)o[r].value.toLowerCase().indexOf(n.toLowerCase())>=0&&i.push(o[r]);return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}(0,i.useEffect)((function(){var e=d.current.getEditor();e.setSelection(e.getLength(),0)}),[d.current]);var Z=(0,i.useMemo)((function(){return{mention:{dataAttributes:["instruction","type"],isolateCharacter:!0,allowedChars:/[^\p{L}\p{N}]*$/,mentionDenotationChars:["@"],showDenotationChar:!1,onSelect:function(e,n){n((0,o.Z)((0,o.Z)({},e),{},{value:"{{".concat(e.id,":").concat(e.type,"}}")}))},source:function(){var e=(0,B.Z)((0,F.Z)().mark((function e(n,t){var o;return(0,F.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n);case 2:o=e.sent,t(o);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},toolbar:{container:r?[["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]:[["bold","italic","underline","strike","link"],[{color:[]},{background:[]}],["clean"]]}}}),[]),S=null,C=function(){j(Date.now()),S&&clearTimeout(S)};return(0,x.jsx)("div",{onFocus:C,onBlur:function(){Date.now()-_>100&&(S=setTimeout((function(){t(f,l)}),100))},children:(0,x.jsx)(H(),{className:a?"rtl":"ltr",theme:"snow",ref:d,modules:Z,formats:["bold","italic","underline","strike","direction","list","bullet","indent","color","background","mention","link"],value:f,onChange:function(e){C(),p(s(e,!r))}})})}Y.Quill.register("modules/mentions",Q.Z);var te=i.memo(ne),oe=t(76723);function ie(e){var n=e.placeholder,t=e.extended,o=e.contentKey,r=e.code,a=e.onActive,l=(0,_.I0)(),c=(0,_.v9)((function(e){var n;return null===(n=e.designState[r].content)||void 0===n?void 0:n[o]})),s=(0,_.v9)((function(e){return e.designState.langInfo})),d=s.lang,u=s.mainLang,h=s.mainLang==s.lang,f=(null===c||void 0===c?void 0:c[d])||"",p=h?n:(null===c||void 0===c?void 0:c[u])||n;console.log("ContentEditor for : "+r);var m=(0,i.useState)(!1),g=(0,v.Z)(m,2),j=g[0],y=g[1],b=P.Bc.includes(d);return(0,x.jsx)(z.Z,{className:T,onClick:function(e){e.preventDefault(),y(!0),a()},children:j?(0,x.jsx)(te,{lang:d,isRtl:b,code:r,extended:t,onBlurListener:function(e,n){y(!1),d==n&&e!=f&&l((0,oe.ve)({code:r,key:o,lang:d,value:e}))},value:f}):/[^<br><p><\/p>\s]/gm.test(f)?(0,x.jsx)("div",{className:"".concat(b?"rtl":"ltr"," ql-editor ").concat(M),dangerouslySetInnerHTML:{__html:f}}):(0,x.jsx)("div",{className:"".concat(b?"rtl":"ltr"," ql-editor ").concat(O),dangerouslySetInnerHTML:{__html:p}})})}var re=i.memo(ie),ae="FileUploadQuestionDesign_questionItem__-vw7A";var le=function(e){var n,t,o=e.code,i=(0,g.Z)(),r=(0,_.v9)((function(e){return e.designState[o]})),a=(0,_.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:ae,children:(0,x.jsx)(p.Z,{variant:"standard",required:!(null===(n=r.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:r.showHint&&r.content.hint?r.content.hint[a]:"",InputProps:{sx:{fontFamily:i.textStyles.text.font,color:i.textStyles.text.color,fontSize:i.textStyles.text.size}},value:"",type:"file",disabled:!0})})},ce="DateTimeQuestionDesign_questionItem__YMDye";var se=function(e){var n,t,o=e.code,i=(0,g.Z)(),r=(0,_.v9)((function(e){return e.designState[o]})),a=(0,_.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:ce,children:(0,x.jsx)(p.Z,{disabled:!0,variant:"standard",required:!(null===(n=r.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:r.showHint&&r.content.hint?r.content.hint[a]:"",value:"",InputProps:{sx:{fontFamily:i.textStyles.text,color:i.textStyles.text.color,fontSize:i.textStyles.text.size}},placeholder:r.dateFormat})})},de="TimeQuestionDesign_questionItem__iDKIk";var ue=function(e){var n,t,o=e.code,i=(0,g.Z)(),r=(0,_.v9)((function(e){return e.designState[o]})),a=(0,_.v9)((function(e){return e.designState.langInfo.lang}));return(0,x.jsx)("div",{className:de,children:(0,x.jsx)(p.Z,{disabled:!0,variant:"standard",required:!(null===(n=r.validation)||void 0===n||null===(t=n.validation_required)||void 0===t||!t.isActive),label:r.showHint&&r.content.hint?r.content.hint[a]:"",value:"",type:"time",InputProps:{sx:{fontFamily:i.textStyles.text.font,color:i.textStyles.text.color,fontSize:i.textStyles.text.size}}})})},ve={answerAdd:"ChoiceQuestion_answerAdd__9qS4f",answerIcon:"ChoiceQuestion_answerIcon__sVvpM"},he=t(16378),fe=t(98937),pe="ChoiceQuestionItem_answerItem__N6qqg",me="ChoiceQuestionItem_answerIcon__Z6vZ9",ge="ChoiceQuestionItem_answerIconOther__WSecR",_e="ChoiceQuestionItem_answerNumberOrder__zPAV+",xe="ChoiceQuestionItem_answerControl__MZIIJ",je="ChoiceQuestionItem_answerControlOther__Yl0co",ye=t(47462),be=t(29823),Ze=t(22482),Se=t(78527),Ce=t(83708);var we=function(e){var n=(0,_.I0)(),t=(0,g.Z)(),i=(0,_.v9)((function(e){return e.designState.langInfo})),a=(0,_.v9)((function(n){return n.designState[e.qualifiedCode]})),l=i.lang===i.mainLang,c=i.lang,s=(0,_.v9)((function(n){var t;return"other"===a.type&&(null===(t=n.designState.setup)||void 0===t?void 0:t.code)==e.qualifiedCode+"Atext"})),d=(0,_.v9)((function(n){var t,o;return null===(t=n.designState[e.qualifiedCode].content)||void 0===t||null===(o=t.label)||void 0===o?void 0:o[c]})),u=(0,_.v9)((function(n){var t,o;return null===(t=n.designState[e.qualifiedCode].content)||void 0===t||null===(o=t.label)||void 0===o?void 0:o[i.mainLang]})),v=function(n){switch(n){case"radio":return(0,x.jsx)(he.Z,{className:me,sx:{fontSize:18,color:Ze.Z[600]}});case"checkbox":return(0,x.jsx)(fe.default,{className:me,sx:{fontSize:18,color:Ze.Z[600]}});case"numberOrder":return(0,x.jsx)("div",{className:_e,style:{fontFamily:t.textStyles.text.font,color:t.textStyles.text.color,fontSize:18},children:e.code})}};return(0,x.jsx)(r._l,{draggableId:e.qualifiedCode,index:e.index,children:function(i){return(0,x.jsxs)(z.Z,(0,o.Z)((0,o.Z)((0,o.Z)({sx:{backgroundColor:s?"beige":"inherit"},ref:i.innerRef},i.draggableProps),i.dragHandleProps),{},{className:pe,children:[(0,x.jsx)(ye.Z,{className:me,sx:{fontSize:18,color:Ze.Z[600]}}),v(e.type),e.label?(0,x.jsx)("b",{children:e.label}):"",(0,x.jsx)(p.Z,{variant:"standard",className:"other"===a.type?je:xe,value:d||"",onChange:function(t){return n((0,oe.ve)({code:e.qualifiedCode,key:"label",lang:c,value:t.target.value}))},placeholder:l?"Option":u||"Option",InputProps:{sx:{fontFamily:t.textStyles.text.font,color:t.textStyles.text.color,fontSize:t.textStyles.text.size}}}),"other"===a.type&&(0,x.jsx)(Se.Z,{sx:{fontSize:18,color:Ze.Z[600]},className:ge,onClick:function(){n((0,oe.cY)({code:e.qualifiedCode+"Atext",rules:Ce.I3.other_text}))}},"setup"),(0,x.jsx)(be.Z,{sx:{fontSize:18,color:Ze.Z[600]},className:me,onClick:function(t){return n((0,oe.EU)(e.qualifiedCode))}},"close")]}))}})};var Ie=function(e){var n=(0,g.Z)(),t=(0,_.v9)((function(n){return n.designState[e.code].children})),i=t&&t.length>0&&t.some((function(e){return"Aother"===e.code})),a=(0,_.v9)((function(n){return n.designState[e.code].type}));return(0,x.jsxs)("div",{className:ve.questionItem,children:[(0,x.jsx)(r.bK,{droppableId:"option-".concat(e.code),type:"option-".concat(e.code),children:function(n){return(0,x.jsxs)("div",(0,o.Z)((0,o.Z)({ref:n.innerRef},n.droppableProps),{},{children:[t&&t.length>0&&t.map((function(n,t){return(0,x.jsx)(we,{code:n.code,label:n.code,qualifiedCode:n.qualifiedCode,index:t,type:e.type},n.code)})),n.placeholder]}))}}),(0,x.jsxs)("div",{className:ve.answerAdd,children:["checkbox"===e.type?(0,x.jsx)(fe.default,{style:{fontSize:18,color:Ze.Z[600]},className:ve.answerIcon}):(0,x.jsx)(he.Z,{style:{fontSize:18,color:Ze.Z[600]},className:ve.answerIcon}),(0,x.jsx)(c.Z,{size:"small",style:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},onClick:function(){return e.addNewAnswer(e.code,a)},children:"Add option"}),!i&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{children:"or"}),(0,x.jsx)(c.Z,{style:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},size:"small",className:ve.answerIcon,onClick:function(){return e.addNewAnswer(e.code,a,"other")},children:'Add "Other"'})]})]})]})},ke="SCQArray_scqList__tpRDP",Ne="SCQArray_scqItem__qj08e",qe="SCQArray_answerAdd__UmJHS";var De=function(e){var n=(0,g.Z)(),t=(0,_.v9)((function(n){var t;return(null===(t=n.designState[e.code].children)||void 0===t?void 0:t.filter((function(e){return"row"==e.type})))||[]})),i=(0,_.v9)((function(n){var t;return(null===(t=n.designState[e.code].children)||void 0===t?void 0:t.filter((function(e){return"column"==e.type})))||[]}));return(0,x.jsxs)("div",{className:ke,children:[(0,x.jsx)(r.bK,{droppableId:"row-".concat(e.code),type:"row-".concat(e.code),children:function(i){return(0,x.jsxs)("div",(0,o.Z)((0,o.Z)({ref:i.innerRef},i.droppableProps),{},{className:Ne,children:[(0,x.jsx)("h5",{children:"Rows"}),t&&t.map((function(e,n){return(0,x.jsx)(we,{code:e.code,index:n,qualifiedCode:e.qualifiedCode,type:"numberOrder"},e.code)})),i.placeholder,(0,x.jsx)("div",{className:qe,children:(0,x.jsx)(c.Z,{sx:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},onClick:function(n){return e.addNewAnswer(e.code,e.type,"row")},children:"Add row"})})]}))}}),(0,x.jsx)(r.bK,{droppableId:"col-".concat(e.code),type:"col-".concat(e.code),children:function(t){return(0,x.jsxs)("div",(0,o.Z)((0,o.Z)({ref:t.innerRef},t.droppableProps),{},{className:Ne,children:[(0,x.jsx)("h5",{children:"Columns"}),i&&i.map((function(e,n){return(0,x.jsx)(we,{code:e.code,index:n,qualifiedCode:e.qualifiedCode,type:"radio"},e.code)})),t.placeholder,(0,x.jsx)("div",{className:qe,children:(0,x.jsx)(c.Z,{sx:{fontFamily:n.textStyles.text.font,fontSize:n.textStyles.text.size},size:"small",onClick:function(n){return e.addNewAnswer(e.code,e.type,"column")},children:"Add Column"})})]}))}})]})},Ae="ErrorDisplay_errorDisplay__V716q",Le="ErrorDisplay_clickable__4fP-L",Re=t(15146);function Ee(e){var n,t=(0,_.I0)(),i=(0,_.v9)((function(n){return n.designState[e.code]})),r=i.errors,a=null===(n=i.instructionList)||void 0===n?void 0:n.filter((function(e){return e.errors})),l=(null===r||void 0===r?void 0:r.length)>0||(null===a||void 0===a?void 0:a.length)>0,c=(0,_.v9)((function(n){var t;return"Survey"==e.code?"":(0,G.ty)(e.code)?(null===(t=n.designState[e.code].groupType)||void 0===t?void 0:t.toLowerCase())||"group":n.designState[e.code].type}));return l?(0,x.jsxs)(z.Z,{className:Ae,children:[r&&r.map((function(n){return(0,x.jsxs)("div",{children:[(0,x.jsx)(be.Z,{style:{verticalAlign:"middle"}}),Pe(e.code,n)]},n)})),a&&a.map((function(n){return(0,x.jsxs)("div",{className:(i=n,"conditional_relevance"===i.code||"random_group"===i.code||"priority_groups"===i.code||i.code.startsWith("skip_to")?Le:""),onClick:function(){return function(n){return"conditional_relevance"===n.code?t((0,oe.cY)({code:e.code,rules:Ce.I3[c],highlighted:"relevance",expanded:["relevance"]})):"random_group"===n.code||"priority_groups"===n.code?"Survey"==e.code?t((0,oe.cY)((0,o.Z)((0,o.Z)({},Ce.vv),{},{highlighted:"random"}))):t((0,oe.cY)({code:e.code,rules:Ce.I3[c],highlighted:"random",expanded:["random"]})):n.code.startsWith("skip_to")&&t((0,oe.cY)({code:e.code,rules:Ce.I3[c],highlighted:"skip_logic",expanded:["skip_logic"]})),""}(n)},children:[(0,x.jsx)(Re.Z,{style:{verticalAlign:"middle"}}),Te(n)]},n.code);var i}))]}):""}var Pe=function(e,n){return"EMPTY_PARENT"===n?"This ".concat(Me(e)," cannot be empty, Please add at least one ").concat(Oe(e)):"DUPLICATE_CODE"===n?"This ".concat(Me(e)," has a duplicate code"):"NO_END_GROUP"===n?"There must be an valid end Group":"MISPLACED_END_GROUP"===n?"End Group must always be the last group":"MISPLACED_WELCOME_GROUP"===n?"Welcome Group must always be the first group":""},Te=function(e){return"value"===e.code&&"ValueInEndGroup"==e.errors[0].name?"Cannot have questions that capture user input in End Group":"conditional_relevance"===e.code?"Problem with Show/Hide Logic":"random_group"===e.code?"Problem with Random Group instructions":"priority_groups"===e.code?"Problem with Priority Group instructions":e.code.startsWith("reference")?(0,x.jsxs)("span",{children:["Problem piping a value of missing or a following question:",(0,x.jsxs)("b",{children:[" ",e.errors.map((function(e){return e.dependency.componentCode})).join(", ")]}),", in Language:  ",(0,x.jsx)("b",{children:e.lang})," "]}):e.code.startsWith("skip_to")?"Problem with one of the skip instructions":""},Me=function(e){return"Survey"==e?"Survey":(0,G.KX)(e)?"Question":(0,G.ty)(e)?"Group":"Survey"==e?"Survey":"Answer"},Oe=function(e){return(0,G.ty)(e)?"question":"Survey"==e?"group":"Answer"},ze=(0,i.memo)(Ee),Fe=t(51508),Be=t(75196),Ye=t(78277),He=t(93835),Qe="ActionToolbar_actionControl__yq1fK",Ge="ActionToolbar_statusIcon__O6YRN",We="ActionToolbar_actionIcon__NtsQP",Ve="ActionToolbar_settingIcon__njjP9",Ke="ActionToolbar_deleteIcon__q5C-6",Ue=t(82271),Xe=t(91291),Je=t(32207),$e=t(3746),en=t(2094),nn=t(50194),tn=t(14373),on=t(60428),rn=t(40842);var an=function(e){var n=e.code,t=e.isGroup,r=e.parentCode,a=e.collapsed,l=e.toggleCollapse,c=e.disableDelete,s=e.onDelete,d=e.onClone,u=e.onClickMore,h=e.showDescription,f=(0,_.I0)(),p=i.useState(null),m=(0,v.Z)(p,2),g=m[0],j=m[1],y=Boolean(g),b=function(){j(null)},Z=(0,_.v9)((function(e){var o;return t?(null===(o=e.designState[n].groupType)||void 0===o?void 0:o.toLowerCase())||"group":e.designState[n].type})),S=(0,_.v9)((function(e){var t,o,i=null===(t=e.designState[n])||void 0===t||null===(o=t.instructionList)||void 0===o?void 0:o.find((function(e){return"conditional_relevance"==e.code}));return"undefined"!==typeof i&&!i.errors})),C=function(){f(t?(0,oe.cY)((0,o.Z)((0,o.Z)({},Ce.vv),{},{highlighted:"random"})):(0,oe.cY)({code:r,rules:Ce.I3.group,highlighted:"random",expanded:["random"]}))},w=(0,_.v9)((function(e){var t,o,i,r=null===(t=e.designState[n])||void 0===t||null===(o=t.instructionList)||void 0===o?void 0:o.filter((function(e){return e.code.startsWith("skip_to")}));return(null===r||void 0===r||null===(i=r.filter((function(e){return!e.errors})))||void 0===i?void 0:i.length)>=1})),I=(0,_.v9)((function(e){var t,o=null===(t=e.designState.componentIndex)||void 0===t?void 0:t.find((function(e){return e.code==n}));return o&&o.minIndex!=o.maxIndex})),k=(0,_.v9)((function(e){var t,o=null===(t=e.designState.componentIndex)||void 0===t?void 0:t.find((function(e){return e.code==n}));return o&&o.prioritisedSiblings}));return(0,x.jsxs)("div",{className:Qe,children:[S&&(0,x.jsx)(Fe.Z,{title:"Has show/Hide Condition",children:(0,x.jsx)(Be.Z,{className:Ge,onClick:function(){f((0,oe.cY)({code:n,rules:Ce.I3[Z],highlighted:"relevance",expanded:["relevance"]}))},children:(0,x.jsx)($e.Z,{})})}),I&&(0,x.jsx)(Fe.Z,{title:"Is part of a valid Random Group (within parent)",children:(0,x.jsx)(Be.Z,{className:Ge,onClick:function(){return C()},children:(0,x.jsx)(tn.Z,{})})}),k&&(0,x.jsx)(Fe.Z,{title:"Is part of a valid Priority Group (within parent)",children:(0,x.jsx)(Be.Z,{className:Ge,onClick:function(){return C()},children:(0,x.jsx)(on.Z,{})})}),w&&(0,x.jsx)(Fe.Z,{title:"Has active Skip Logic",children:(0,x.jsx)(Be.Z,{className:Ge,onClick:function(){f((0,oe.cY)({code:n,rules:Ce.I3[Z],highlighted:"skip_logic",expanded:["skip_logic"]}))},children:(0,x.jsx)(rn.Z,{})})}),t&&(0,x.jsx)(Be.Z,{onClick:l,children:a?(0,x.jsx)(Je.Z,{}):(0,x.jsx)(Xe.Z,{})}),"welcome"!=Z&&"end"!=Z&&(0,x.jsx)(Be.Z,{onClick:function(){f((0,oe.cY)({code:n,rules:Ce.I3[Z]}))},children:(0,x.jsx)(Se.Z,{className:Ve})}),!t&&(0,x.jsx)(Be.Z,{onClick:function(){return d()},children:(0,x.jsx)(nn.Z,{className:We})}),(0,x.jsx)(Be.Z,{onClick:function(){window.confirm("Are you sure?")&&s()},disabled:c,children:(0,x.jsx)(Ue.Z,{className:Ke})}),!t&&(0,x.jsx)(Be.Z,{onClick:function(e){j(e.currentTarget)},children:(0,x.jsx)(en.Z,{className:Ke})}),!t&&(0,x.jsx)(Ye.Z,{id:"basic-menu",anchorEl:g,open:y,onClose:b,MenuListProps:{"aria-labelledby":"basic-button"},children:(0,x.jsxs)(He.Z,{onClick:function(){u(),b()},children:[h?"\u2713 ":"","Show Description"]})})]})},ln=t(93433),cn={addAnswerIcon:"ImageChoiceQuestion_addAnswerIcon__XBShg",addAnswerButton:"ImageChoiceQuestion_addAnswerButton__7AZ4K"},sn=t(11749),dn=t(95152),un="ImageChoiceQuestionItem_imageIconButton__qWlaj",vn="ImageChoiceQuestionItem_imageContainer__c6Ftx",hn="ImageChoiceQuestionItem_addAnswerIcon__Zq8j3",fn="ImageChoiceQuestionItem_addAnswerButton__tNoUp",pn=t(48928),mn=t(85399),gn=t(235),_n=t(42419);var xn=function(e){var n=e.qualifiedCode,t=e.imageHeight,o=e.spacing,i=e.type,r=e.addAnswer,a=(0,_.I0)(),l=(0,g.Z)(),c=(0,_.v9)((function(e){return e.designState.langInfo})),s=(0,_.v9)((function(e){return"add"==i?void 0:e.designState[n]})),d=c.lang===c.mainLang,u=c.lang,v=(0,_.v9)((function(e){var t,o;return"add"==i||null===(t=e.designState[n].content)||void 0===t||null===(o=t.label)||void 0===o?void 0:o[u]})),h=(0,_.v9)((function(e){var t,o;return"add"==i||null===(t=e.designState[n].content)||void 0===t||null===(o=t.label)||void 0===o?void 0:o[c.mainLang]}));return"add"==i?(0,x.jsx)(gn.P,{style:{padding:o+"px"},children:(0,x.jsx)(pn.Z,{className:fn,style:{backgroundColor:l.palette.background.default,height:t+"px",width:"100%"},children:(0,x.jsx)(Be.Z,{className:hn,onClick:function(){r()},children:(0,x.jsx)(_n.default,{})})})},"add"):(0,x.jsxs)(gn.P,{style:{padding:o+"px"},children:[(0,x.jsxs)(pn.Z,{className:vn,style:{backgroundImage:"url('".concat((0,ee.pT)(s.image),"')"),backgroundColor:l.palette.background.default,height:t+"px"},children:[(0,x.jsx)(Be.Z,{className:un,onClick:function(){window.confirm("Are you sure?")&&a((0,oe.EU)(n))},children:(0,x.jsx)(Ue.Z,{})}),(0,x.jsxs)(Be.Z,{component:"label",className:un,children:[(0,x.jsx)("input",{hidden:!0,id:n,accept:"image/*",multiple:!0,type:"file",onChange:function(e){e.preventDefault();var t=e.target.files[0];(0,ee.hN)(t).then((function(e){a((0,oe.wE)({code:n,key:"image",value:t.name}))})).catch((function(e){console.error(e)}))}}),(0,x.jsx)(mn.Z,{})]})]}),(0,x.jsx)(p.Z,{variant:"standard",value:v||"",onChange:function(e){return a((0,oe.ve)({code:n,key:"label",lang:u,value:e.target.value}))},placeholder:d?"Option":h||"Option",InputProps:{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size}}})]},n)},jn=t(29886);var yn=function(e){(0,jn.u)();var n=(0,_.I0)(),t=(0,_.v9)((function(n){return n.designState[e.code].children||[]})),o=(0,_.v9)((function(n){return n.designState[e.code].type})),i=[].concat((0,ln.Z)(t),[{type:"add",code:"add"}]),r=(0,_.v9)((function(n){return n.designState[e.code].columns||2})),a=(0,_.v9)((function(n){return n.designState[e.code].imageHeight||300})),l=(0,_.v9)((function(n){return n.designState[e.code].spacing||8})),c=Math.ceil(((t?t.length:0)+1)/r)*(a+80+2*l);return(0,x.jsx)("div",{className:cn.questionItem,style:{direction:"ltr"},children:(0,x.jsx)(sn.d,{onChange:function(e,o,r,a){if(o<i.length-1&&r<i.length-1){var l={type:"reorder_answers",id:t[o].qualifiedCode,fromIndex:o,toIndex:r};n((0,oe.dz)(l))}},children:(0,x.jsx)(dn.$,{id:"items-"+e.code,boxesPerRow:r,rowHeight:a+80+2*l,style:{height:c+"px"},children:i.map((function(n){return(0,x.jsx)(xn,{spacing:l,addAnswer:function(){return e.addNewAnswer(e.code,o)},type:n.type,imageHeight:a,qualifiedCode:n.qualifiedCode},n.code)}))})})})};function bn(e){var n=e.code,t=e.type,r=e.parentCode,a=e.dragHandleProps;console.log(n);var l=(0,_.I0)(),c=(0,g.Z)(),s=(0,_.v9)((function(e){return e.designState[n].showDescription})),d=(0,_.v9)((function(e){var t;return(null===(t=e.designState.setup)||void 0===t?void 0:t.code)==n})),u=(0,_.v9)((function(e){return e.designState[n].children})),v=function(e,n,t){var o=u||[],i=1,r="",a="",c="",s={code:"value",isActive:!1,returnType:{name:"Boolean"},text:""};switch(t){case"column":c="Col"+(i=(0,P.To)(o.filter((function(e){return"column"===e.type})))),a=e+(r="Ac"+i),l((0,oe.KC)({label:c,answer:{code:r,qualifiedCode:a,type:t}}));break;case"row":c="Row"+(i=(0,P.To)(o.filter((function(e){return"row"===e.type})))),a=e+(r="A"+i),l((0,oe.KC)({label:c,instructionList:[s],answer:{code:r,qualifiedCode:a,type:t}}));break;case"other":c="Other",a=e+(r="Aother");var d=[{code:"value",isActive:!1,returnType:{name:"String"},text:""},{code:"conditional_relevance",isActive:!0,returnType:{name:"Boolean"},text:"".concat(e,"scq"===n?".value === 'Aother'":"Aother.value === true")}];l((0,oe.KC)({label:c,answer:{code:r,qualifiedCode:a,type:t},instructionList:"mcq"==n?[s]:[]})),l((0,oe.KC)({instructionList:d,answer:{code:"Atext",qualifiedCode:a+"Atext",type:"other_text"}}));break;default:c="Option"+(i=(0,P.To)(o)),a=e+(r="A"+i),l((0,oe.KC)({label:c,answer:{code:r,qualifiedCode:a},instructionList:"mcq"==n||"image_mcq"==n?[s]:[]}))}},h=i.useCallback((function(){l((0,oe.cY)({code:n,rules:Ce.I3[t]}))}));return(0,x.jsxs)(z.Z,{sx:{backgroundColor:d?"beige":"background.paper",borderColor:"grey.500"},className:"".concat(A),children:[(0,x.jsxs)("div",{className:R,children:[(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",(0,o.Z)((0,o.Z)({className:E},a),{},{children:(0,x.jsx)(f.Z,{})})),(0,x.jsx)(an,{isGroup:!1,code:n,showDescription:s,parentCode:r,onClickMore:function(){l((0,oe.wE)({code:n,key:"showDescription",value:!s}))},onClone:function(){return l((0,oe.Jv)(n))},onDelete:function(){return l((0,oe.Km)(n))},disableDelete:!1})]}),(0,x.jsx)("div",{className:L,style:{fontFamily:c.textStyles.question.font,color:c.textStyles.question.color,fontSize:c.textStyles.question.size},children:(0,x.jsx)(re,{code:n,extended:!1,onActive:h,placeholder:"Title",contentKey:"label"})}),s?(0,x.jsx)(z.Z,{className:D,children:(0,x.jsx)(re,{code:n,onActive:h,extended:!0,placeholder:"Description",contentKey:"description"})}):""]}),function(){switch(t){case"date_time":case"date":return(0,x.jsx)(se,{code:n},n);case"time":return(0,x.jsx)(ue,{code:n},n);case"scq":return(0,x.jsx)(Ie,{addNewAnswer:v,code:n,type:"radio"},n);case"image_mcq":case"image_scq":return(0,x.jsx)(yn,{addNewAnswer:v,code:n},n);case"scq_array":return(0,x.jsx)(De,{addNewAnswer:v,code:n},n);case"file_upload":return(0,x.jsx)(le,{code:n},n);case"mcq":return(0,x.jsx)(Ie,{addNewAnswer:v,code:n,type:"checkbox"},n);case"number":return(0,x.jsx)(S,{code:n},n);case"text":return(0,x.jsx)(j,{code:n},n);case"paragraph":return(0,x.jsx)(q,{code:n},n);case"email":return(0,x.jsx)(b,{code:n},n);default:return""}}(),(0,x.jsx)(ze,{code:n})]})}var Zn=i.memo(bn),Sn="GroupDesign_textHeader__SAOqm",Cn="GroupDesign_textDescription__oEn1z",wn="GroupDesign_titleRow__rAwtS",In="GroupDesign_groupCard__gMTTB",kn="GroupDesign_questionsOuterContainer__LI1bK",Nn="GroupDesign_questionsInnerContainer__vKaDl",qn="GroupDesign_groupHeader__PwsgO",Dn="GroupDesign_moveBox__fQMku",An=t(58195),Ln=t(40464),Rn=t(77248);function En(e){console.log(e.code);var n=(0,_.I0)(),t=i.useState(!1),a=(0,v.Z)(t,2),l=a[0],s=a[1],d=(0,_.v9)((function(n){return n.designState[e.code].collapsed})),u=(0,_.v9)((function(n){var t;return(null===(t=n.designState.setup)||void 0===t?void 0:t.code)==e.code})),p=(0,_.v9)((function(n){return n.designState[e.code].children})),m=(0,_.v9)((function(e){return e.designState.langInfo})),j=function(){n((0,oe.y8)(e.code))},y=i.useCallback((function(){n((0,oe.cY)({code:e.code,rules:Ce.I3.group}))})),b=(0,g.Z)();return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(r._l,{isDragDisabled:e.isDragDisabled,draggableId:e.code,index:e.dragIndex,children:function(t){return(0,x.jsx)("div",(0,o.Z)((0,o.Z)({ref:t.innerRef},t.draggableProps),{},{children:(0,x.jsxs)(z.Z,{className:In,dir:P.Bc.includes(m.lang)?"rtl":"ltr",sx:{borderColor:"grey.500",boxShadow:1,backgroundColor:u?"beige":"background.paper"},children:[(0,x.jsx)(z.Z,{sx:{backgroundColor:"primary.main",height:"8px"},className:qn}),(0,x.jsx)("div",(0,o.Z)((0,o.Z)({},t.dragHandleProps),{},{className:Dn,onMouseDown:function(n){e.isDragDisabled&&(n.preventDefault(),s(!0))},children:(0,x.jsx)(f.Z,{})})),(0,x.jsx)(an,{code:e.code,isGroup:!0,toggleCollapse:j,collapsed:d,onDelete:function(){return n((0,oe.iE)(e.code))},disableDelete:p&&p.length>0}),(0,x.jsxs)("div",{className:wn,children:[(0,x.jsx)("div",{className:Sn,style:{fontFamily:b.textStyles.group.font,color:b.textStyles.group.color,fontSize:b.textStyles.group.size},children:(0,x.jsx)(re,{code:e.code,extended:!1,onActive:y,contentKey:"label",placeholder:"Title"})}),(0,x.jsx)(z.Z,{className:Cn,children:(0,x.jsx)(re,{code:e.code,extended:!0,onActive:y,contentKey:"description",placeholder:"Description"})})]}),(0,x.jsx)(ze,{type:"group",code:e.code})]})}))}},e.code),(0,x.jsx)(h.Z,{className:kn,dir:P.Bc.includes(m.lang)?"rtl":"",in:!0!==d,sx:{backgroundColor:u?"beige":"background.paper"},timeout:"auto",unmountOnExit:!0,children:(0,x.jsx)(r.bK,{droppableId:e.code,type:"questions",children:function(n){return(0,x.jsxs)(z.Z,(0,o.Z)((0,o.Z)({ref:n.innerRef},n.droppableProps),{},{className:Nn,sx:{backgroundColor:"background.default"},children:[null===p||void 0===p?void 0:p.map((function(n,t){return(0,x.jsx)(r._l,{parentIndex:e.dragIndex,draggableId:n.code,index:e.dragIndex+t+1,children:function(i,r){return(0,x.jsx)("div",(0,o.Z)((0,o.Z)({ref:i.innerRef,snapshot:r},i.draggableProps),{},{children:(0,x.jsx)(Zn,{dragHandleProps:i.dragHandleProps,parentCode:e.code,index:t,type:n.type,code:n.code},n.code)}))}},n.code)})),n.placeholder]}))}})}),(0,x.jsxs)(An.Z,{open:l,onClose:function(){return s(!1)},"aria-labelledby":"alert-dialog-title-collapse-all","aria-describedby":"alert-dialog-description",children:[(0,x.jsx)(Ln.Z,{id:"alert-dialog-title-collapse-all",children:"All Groups Must be collapsed first before you can drag them... Collapse All?"}),(0,x.jsxs)(Rn.Z,{children:[(0,x.jsx)(c.Z,{onClick:function(){return s(!1)},children:"Cancel"}),(0,x.jsx)(c.Z,{onClick:function(){n((0,oe.lh)()),s(!1)},children:"Collapse"})]})]})]})}var Pn=i.memo(En),Tn={surveyGroups:"ContentPanel_surveyGroups__use9E",dropPanel:"ContentPanel_dropPanel__0HjAU",droppable:"ContentPanel_droppable__LptFO",footer:"ContentPanel_footer__JC4SU",headerImage:"ContentPanel_headerImage__kWXIo"},Mn=t(30199);var On=function(e){var n,t=(0,g.Z)(),i=!1,a=(0,_.v9)((function(n){return(0,oe.em)(n.designState,e.groups)}),P.dv),l=(0,_.v9)((function(n){var t,o={};return null===(t=e.groups)||void 0===t||t.forEach((function(e){o[e.code]=n.designState[e.code].collapsed})),o}),P.dv);return null===(n=e.groups)||void 0===n||n.forEach((function(e){e&&!l[e.code]&&(i=!0)})),(0,x.jsxs)("div",{className:Tn.dropPanel,style:{fontFamily:t.textStyles.text.font,color:t.textStyles.text.color,fontSize:t.textStyles.text.size},children:[(0,x.jsx)(ze,{code:"Survey"}),(0,x.jsx)(r.bK,{droppableId:"content-panel",type:"groups",children:function(n){return(0,x.jsxs)("div",(0,o.Z)((0,o.Z)({className:Tn.droppable,ref:n.innerRef},n.droppableProps),{},{children:[e.headerImage&&(0,x.jsx)(Mn.Z,{className:Tn.cardImage,component:"img",image:(0,ee.pT)(e.headerImage),height:"140"}),e.groups&&e.groups.map((function(e){return(0,x.jsx)(Pn,{className:Tn.surveyGroups,code:e.code,dragIndex:a.indexOf(e.code),isDragDisabled:i},e.code)})),n.placeholder,(0,x.jsx)("div",{className:Tn.footer})]}))}})]})},zn=t(93740),Fn=t(8197),Bn=t(24086),Yn=t(45401),Hn=t(36308),Qn=t(80473),Gn={leftContent:"LeftPanel_leftContent__-JUSc",leftPanelGroupItem:"LeftPanel_leftPanelGroupItem__ATUDj",close:"LeftPanel_close__H42Zx"};var Wn=function(e){var n=e.label,t=e.rule,o=e.defaultValue,i=e.code,r=e.lowerBound,a=e.upperBound,l=(0,_.I0)(),c=(0,_.v9)((function(e){return e.designState[i][t]||o})),s=c<r||c>a;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("h4",{children:[n,":"]}),(0,x.jsx)(p.Z,{label:n,error:s,variant:"outlined",type:"number",size:"small",style:{maxWidth:"200px"},value:c,onChange:function(e){l((0,oe.wE)({code:i,key:t,value:Math.max(r,Math.min(a,e.target.value))}))}})]})},Vn=t(71770),Kn="ShowHint_showHint__zyqpL",Un="ShowHint_inputValue__f4Zu9";var Xn=function(e){var n=e.code,t=(0,_.I0)(),i=(0,_.v9)((function(e){return e.designState.langInfo.languagesList})),r=(0,_.v9)((function(e){return e.designState[n].showHint||!1})),a=(0,_.v9)((function(e){var t;return null===(t=e.designState[n].content)||void 0===t?void 0:t.hint}));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:Kn,children:[(0,x.jsx)("h4",{children:"Show Question Hint"}),(0,x.jsx)(Vn.Z,(0,o.Z)((0,o.Z)({},{inputProps:{"aria-label":"Switch demo"}}),{},{checked:r,onChange:function(e){return o=e.target.checked,void t((0,oe.wE)({code:n,key:"showHint",value:o}));var o}}))]}),r&&i.map((function(e){return(0,x.jsx)("div",{className:Un,children:(0,x.jsx)(p.Z,{label:e.langName,variant:"standard",type:"text",value:(null===a||void 0===a?void 0:a[e.code])||"",onChange:function(o){return function(e,o){t((0,oe.ve)({code:n,key:"hint",lang:e,value:o}))}(e.code,o.target.value)}})},e.code)}))]})},Jn={actionWrapper:"RandomSetup_actionWrapper__9kjUX",errorDisplay:"RandomSetup_errorDisplay__1KBN9"},$n=t(94162),et={randomHeader:"RandomItemSetup_randomHeader__Y0zGy",title:"RandomItemSetup_title__Qx6nL",action:"RandomItemSetup_action__g0DZb",randomTitleWrapper:"RandomItemSetup_randomTitleWrapper__v7oQt",settingIcon:"RandomItemSetup_settingIcon__fz9vl",randomBody:"RandomItemSetup_randomBody__YYHPj",list:"RandomItemSetup_list__C45+T",weight:"RandomItemSetup_weight__o3jFO",active:"RandomItemSetup_active__IB6yZ",randomAction:"RandomItemSetup_randomAction__1nuVz",listItem:"RandomItemSetup_listItem__VsBzq",label:"RandomItemSetup_label__QXqSM",content:"RandomItemSetup_content__yxJ7R",input:"RandomItemSetup_input__H8Ur1"},nt=t(61094),tt=t(19924),ot=t(68439);function it(e){return(0,x.jsxs)("div",{className:et.RandomisationItem,children:[(0,x.jsxs)("div",{className:"".concat(et.randomHeader," ").concat(et.randomTitleWrapper),children:[e.icon?e.icon:null,(0,x.jsx)("h4",{className:et.title,children:e.title})]}),(0,x.jsxs)("div",{className:et.randomBody,children:["priorityRule"===e.type&&(0,x.jsx)(lt,{increaseLimit:function(n){if(n===e.data.weights.length-1)return!1;n++,e.changeLimit(n)},decreaseLimit:function(n){if(1===n)return!1;n--,e.changeLimit(n)},limit:e.data.limit}),(0,x.jsx)("ul",{className:"".concat(et.list," ").concat(et.active),children:"priorityRule"===e.type?e.data&&e.data.weights&&e.data.weights.map((function(n,t){var o;return(0,x.jsx)(rt,{code:n.code,weight:n.weight,handleChange:function(n){return e.handleChange(n,t)},decreaseWeight:function(n){return function(n,t){if(1===n)return!1;n--,e.changeWeight(n,t)}(n,t)},increaseWeight:function(n){return o=n,i=t,o++,void e.changeWeight(o,i);var o,i},checked:null===(o=e.checked)||void 0===o?void 0:o[t],label:e.getChildLabelByCode(n.code)},t)})):e.data&&e.data.map((function(n,t){var o;return(0,x.jsx)(at,{code:n,handleChange:function(n){return e.handleChange(n,t)},checked:null===(o=e.checked)||void 0===o?void 0:o[t],label:e.getChildLabelByCode(n)},t)}))})]}),(0,x.jsxs)("div",{className:et.randomAction,children:[(0,x.jsx)(c.Z,{variant:"text",onClick:function(n){return e.onCancel()},children:"Cancel"}),(0,x.jsx)(c.Z,{variant:"contained",onClick:function(n){return function(n){if(n.filter((function(e){return e})).length<2)return!1;if("priorityRule"===e.type){var t=(0,o.Z)({},e.data),i=n.reduce((function(e,n,o){return n&&e.push(t.weights[o]),e}),[]);e.onSubmit((0,o.Z)((0,o.Z)({},t),{},{weights:i}))}else{var r=n.reduce((function(n,t,o){return t&&n.push(e.data[o]),n}),[]);e.onSubmit(r)}}(e.checked)},disabled:!function(){var n=e.checked.filter((function(e){return e})).length;return n>=2&&("priorityRule"!==e.type||e.data.limit<=n-1&&e.data.limit>=1)}(),children:"Submit"})]})]})}function rt(e){var n=e.code,t=e.checked,o=e.label,i=e.weight,r=e.handleChange,a=e.increaseWeight,l=e.decreaseWeight;return(0,x.jsxs)("li",{className:et.listItem,children:[(0,x.jsx)(nt.Z,{checked:t,onChange:function(e){return r(e.target.checked)}}),(0,x.jsxs)("div",{className:"".concat(et.content," ").concat(et.label),children:[n,": ",o]}),(0,x.jsxs)("div",{className:et.weight,children:[(0,x.jsx)(Be.Z,{size:"small",onClick:function(e){return l(i)},children:(0,x.jsx)(tt.Z,{})}),(0,x.jsx)("span",{children:i}),(0,x.jsx)(Be.Z,{size:"small",onClick:function(e){return a(i)},children:(0,x.jsx)(ot.Z,{})})]})]})}function at(e){var n=e.code,t=e.label,o=e.checked,i=e.handleChange;return(0,x.jsx)("li",{className:et.listItem,children:(0,x.jsxs)("div",{className:et.label,children:[(0,x.jsx)(nt.Z,{checked:o,onChange:function(e){return i(e.target.checked)}}),(0,x.jsxs)("div",{className:"".concat(et.content," ").concat(et.label),children:[n,": ",t]})]})})}function lt(e){var n=e.limit,t=e.increaseLimit,o=e.decreaseLimit;return(0,x.jsxs)("p",{children:["Show",(0,x.jsx)(Be.Z,{size:"small",onClick:function(e){return o(n)},children:(0,x.jsx)(tt.Z,{})}),n,(0,x.jsx)(Be.Z,{size:"small",onClick:function(e){return t(n)},children:(0,x.jsx)(ot.Z,{})})]})}var ct={randomHeader:"RandomItemDisplay_randomHeader__h5RnA",title:"RandomItemDisplay_title__egKLa",action:"RandomItemDisplay_action__4iEz7",randomTitleWrapper:"RandomItemDisplay_randomTitleWrapper__M22qv",settingIcon:"RandomItemDisplay_settingIcon__BY-Zp",randomBody:"RandomItemDisplay_randomBody__vJ1bs",list:"RandomItemDisplay_list__7bD2d",weight:"RandomItemDisplay_weight__u7IXF",active:"RandomItemDisplay_active__mB3F0",randomAction:"RandomItemDisplay_randomAction__HriCA",listItem:"RandomItemDisplay_listItem__Csro3",label:"RandomItemDisplay_label__ytzfN",content:"RandomItemDisplay_content__x8tEG",input:"RandomItemDisplay_input__3AKdU",listItemError:"RandomItemDisplay_listItemError__zrWni"},st=t(84914),dt=t(27247);function ut(e){var n;return(0,x.jsxs)("div",{className:ct.RandomisationItem,children:[(0,x.jsxs)("div",{className:ct.randomHeader,children:[(0,x.jsxs)("div",{className:ct.randomTitleWrapper,children:[e.icon?e.icon:null,(0,x.jsx)("h4",{className:ct.title,children:e.title})]}),(0,x.jsxs)("div",{className:ct.action,children:[(0,x.jsx)(Be.Z,{onClick:function(){return e.onEditClicked(e.index)},children:(0,x.jsx)(st.Z,{className:ct.settingIcon})}),(0,x.jsx)(Be.Z,{onClick:function(){return e.onDeleteClicked(e.index)},children:(0,x.jsx)(dt.default,{className:ct.settingIcon})})]})]}),(0,x.jsxs)("div",{className:ct.randomBody,children:["priorityRule"===e.type&&(0,x.jsxs)("p",{children:["Show ",e.data.limit," from ",null===(n=e.data.weights)||void 0===n?void 0:n.length]}),(0,x.jsx)("ul",{className:ct.list,children:"priorityRule"===e.type?e.data&&e.data.weights&&e.data.weights.map((function(n,t){return(0,x.jsx)(ht,{label:e.getChildLabelByCode(n.code),code:n.code,childrenCodes:e.childrenCodes,weight:n.weight},t)})):e.data&&e.data.map((function(n,t){return(0,x.jsx)(vt,{label:e.getChildLabelByCode(n),code:n,childrenCodes:e.childrenCodes},t)}))})]})]})}function vt(e){var n=e.code,t=e.label,o=e.childrenCodes;return(0,x.jsx)("li",{className:-1!==o.indexOf(n)?ct.listItem:ct.listItemError,children:(0,x.jsxs)("div",{className:"".concat(ct.content," ").concat(ct.label),children:[n,": ",t]})})}function ht(e){var n=e.code,t=e.label,o=e.weight,i=e.childrenCodes;return(0,x.jsxs)("li",{className:-1!==i.indexOf(n)?ct.listItem:ct.listItemError,children:[(0,x.jsxs)("div",{className:"".concat(ct.content," ").concat(ct.label),children:[n,": ",t]}),(0,x.jsx)("div",{className:ct.weight,children:(0,x.jsx)("span",{children:o})})]})}var ft="RandomError_errorDisplay__lSHBK";function pt(e){var n=e.errors;return(0,x.jsx)(z.Z,{className:ft,children:n.map((function(e){return"PriorityGroupItemNotChild"==e.name?(0,x.jsxs)("span",{children:["Those items are either deleted or have errors and therefore cannot be in Priority Group:\xa0",(0,x.jsx)("b",{children:e.items.join(", ")})]},e.name):"DuplicatePriorityGroupItems"==e.name?(0,x.jsxs)("span",{children:["Those items are present in more than one priority Group: \xa0",(0,x.jsx)("b",{children:e.items.join(", ")})]},e.name):"PriorityLimitMismatch"==e.name?"In one of the priority groups, the limit is more than or equal to number of items":"RandomGroupItemNotChild"==e.name?(0,x.jsxs)("span",{children:["Those items are either deleted or have errors and therefore cannot be in random group: \xa0",(0,x.jsx)("b",{children:e.items.join(", ")})]},e.name):"DuplicateRandomGroupItems"==e.name?(0,x.jsxs)("span",{children:["Those items are present in more than one random group: \xa0",(0,x.jsx)("b",{children:e.items.join(", ")})]},e.name):void 0}))},"box")}function mt(e){var n,t,r=e.type,a=e.label,l=e.code,s=e.hideErrors,d=(0,_.I0)(),u=(0,i.useState)({}),h=(0,v.Z)(u,2),f=h[0],p=h[1],m=(0,i.useState)([]),g=(0,v.Z)(m,2),j=g[0],y=g[1],b=(0,_.v9)((function(e){return e.designState[l]})),Z=(0,_.v9)((function(e){var n,t,o;return(null===(n=e.designState[l])||void 0===n||null===(t=n.children)||void 0===t||null===(o=t.filter((function(e){return!r||e.type==r})))||void 0===o?void 0:o.map((function(e){return e.code})))||[]})),S=(0,_.v9)((function(e){return e.designState.langInfo.lang})),C=(0,_.v9)((function(e){var n,t,o;return(null===(n=e.designState[l])||void 0===n||null===(t=n.children)||void 0===t||null===(o=t.filter((function(e){return!r||e.type==r})))||void 0===o?void 0:o.map((function(n){var t,o;return{code:n.code,label:null===(t=e.designState[n.qualifiedCode].content)||void 0===t||null===(o=t.label)||void 0===o?void 0:o[S]}})))||[]})),w=(0,G.NI)(b,"random_group"),I=(0,G.NI)(b,"priority_groups"),k=(null===w||void 0===w||null===(n=w.groups)||void 0===n?void 0:n.filter((function(e){return!r||e.some((function(e){return Z.includes(e)}))})))||[],N=(null===I||void 0===I||null===(t=I.priorities)||void 0===t?void 0:t.filter((function(e){return!r||e.weights.some((function(e){return Z.includes(e.code)}))})))||[],q=(null===w||void 0===w?void 0:w.errors)||[],D=(null===I||void 0===I?void 0:I.errors)||[],A=function(e){d(r?(0,oe.lF)({code:l,priorities:e,type:r}):(0,oe.Lj)({code:l,priorities:e}))},L=function(e){d(r?(0,oe.HU)({code:l,groups:e,type:r}):(0,oe.mm)({code:l,groups:e}))},R=function(e){var n,t=null===(n=C.find((function(n){return n.code==e})))||void 0===n?void 0:n.label;return null===t||void 0===t?void 0:t.replace(/<[^>]*>/g,"")},E=function(e){var n=e.flat();return Z.filter((function(e){return!n.includes(e)}))},P=function(e){var n=e.map((function(e){return e.weights})).flat().map((function(e){return e.code})).flat();return Z.filter((function(e){return!n.includes(e)}))},T=function(e,n){window.confirm("Are you sure?")&&("priorityRule"===e?A(N.filter((function(e,t){return t!==n}))):"randomRule"===e&&L(k.filter((function(e,t){return t!==n}))))},M=function(e){return(0,ln.Z)(e).sort((function(e,n){return Z.findIndex((function(n){return n===e}))-Z.findIndex((function(e){return e===n}))}))},O=function(e){var n=(0,ln.Z)(e.weights).sort((function(e,n){return Z.findIndex((function(n){return n===e.code}))-Z.findIndex((function(e){return e===n.code}))}));return(0,o.Z)((0,o.Z)({},e),{},{weights:n})},z=function(e,n){var t=[],o=[];if("priorityRule"===e){o.weights=[];var i=P(N);Z.forEach((function(e){if(i.includes(e))o.weights.push({code:e,weight:1}),t.push(!1);else{var r=N[n].weights.findIndex((function(n){return n.code==e}));r>-1&&(o.weights.push(N[n].weights[r]),t.push(!0))}o.limit=N[n].limit}))}else{var r=E(k);o=Z.filter((function(e){return r.includes(e)||k[n].includes(e)})),t=o.map((function(e){return!!k[n].includes(e)}))}y(t),p({type:e,index:n,title:"priorityRule"===e?"Priority Rule":"Random Rule",data:o})},F=function(){p({}),y([])};return(0,x.jsxs)("div",{className:Jn.Randomisation,children:[a&&(0,x.jsx)("h4",{children:a}),k&&k.map((function(e,n){return(0,x.jsx)(ut,{title:"Randomize Order",data:M(e),index:n,childrenCodes:Z,getChildLabelByCode:R,onDeleteClicked:function(e){p({}),T("randomRule",e)},onEditClicked:function(e){return z("randomRule",e)},icon:(0,x.jsx)(tn.Z,{})},"randomOrder-".concat(n))})),!s&&q.length>0?(0,x.jsx)(pt,{errors:q},"randomErrors"):"",N&&N.map((function(e,n){return(0,x.jsx)(ut,{title:"Prioritize",type:"priorityRule",data:O(e),index:n,childrenCodes:Z,onDeleteClicked:function(e){p({}),T("priorityRule",e)},onEditClicked:function(e){return z("priorityRule",e)},getChildLabelByCode:R,icon:(0,x.jsx)(on.Z,{})},"prioritize-".concat(n))})),!s&&D.length>0?(0,x.jsx)(pt,{errors:D},"priorityErrors"):"",(0,x.jsxs)($n.Z,{direction:"row",spacing:1.7,sx:{mt:"40px"},children:[(0,x.jsxs)(c.Z,{variant:"contained",disabled:E(k).length<2,onClick:function(){var e=E(k);y(e.map((function(e){return!1}))),p({title:"+ Random Rule",type:"randomRule",data:e,index:k?k.length:0,icon:(0,x.jsx)(tn.Z,{})})},children:[(0,x.jsx)(tn.Z,{sx:{paddingRight:"8px"}})," + Random Rule"]}),(0,x.jsxs)(c.Z,{variant:"contained",disabled:P(N).length<2,onClick:function(){var e=P(N),n=e.map((function(e){return{code:e,weight:1}}));y(e.map((function(e){return!1}))),p({title:"+ Priority Rule",type:"priorityRule",data:{limit:1,weights:n},index:N?N.length:0,icon:(0,x.jsx)(on.Z,{})})},children:[(0,x.jsx)(on.Z,{sx:{paddingRight:"8px"}})," + Priority Rule"]})]}),f&&f.data&&(0,x.jsx)("div",{className:Jn.actionWrapper,children:(0,x.jsx)(it,{title:f.title,type:f.type,icon:f.icon,data:function(e,n,t){if("randomRule"===t){var o=(0,ln.Z)(e).filter((function(e){return n.includes(e)}));return o.length<=1&&F(),o}var i=(0,ln.Z)(e.weights).filter((function(e){return n.includes(e.code)}));return i.length<=1&&F(),{limit:Math.min(e.limit,i.length-1),weights:i}}(f.data,Z,f.type),index:f.index,getChildLabelByCode:R,checked:j,handleChange:function(e,n){var t=(0,ln.Z)(j);t[n]=e,y((0,ln.Z)(t))},changeWeight:function(e,n){var t=(0,o.Z)({},f.data);t.weights=(0,ln.Z)(t.weights),t.weights[n]=(0,o.Z)((0,o.Z)({},t.weights[n]),{},{weight:e}),p((0,o.Z)((0,o.Z)({},f),{},{data:t}))},changeLimit:function(e){p((0,o.Z)((0,o.Z)({},f),{},{data:(0,o.Z)((0,o.Z)({},f.data),{},{limit:e})}))},onSubmit:function(e){return function(e,n,t){if("randomRule"===n){var i=k?(0,ln.Z)(k):[];i[t]=(0,ln.Z)(e),L(i)}else{var r=N?(0,ln.Z)(N):[];r[t]=(0,o.Z)({},e),A(r)}F()}(e,f.type,f.index)},onCancel:F})})]})}var gt="ValidationSetupItem_boxContainer__isukr",_t="ValidationSetupItem_title__sTQ7E",xt=t(4942),jt="ValidationSetupMessage_mt10__9R8dy",yt="ValidationSetupMessage_uppercase__h-ZCF",bt="ValidationSetupMessage_title__ZQ9C5",Zt="ValidationSetupMessage_errorWrapper__pbHit",St="ValidationSetupMessage_errorLabelWrapper__69Ph6",Ct="ValidationSetupMessage_errorItem__PmtdY",wt="ValidationSetupMessage_errorItemContainer__nwkXe";var It=function(e){var n=e.validationRule,t=e.code,i=e.rule,r=(0,C.$)("common").t,a=(0,_.I0)(),l=n.isCustomErrorActive||!1,c=(0,_.v9)((function(e){return e.designState.langInfo.languagesList})),s=n.content||{};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h4",{children:"Standard Error"}),(0,x.jsxs)("div",{className:Zt,children:[(0,x.jsx)("div",{className:St,children:c.map((function(e){return(0,x.jsxs)("div",{className:"".concat(Ct," ").concat(yt),children:[e.code,":"]},e.code)}))}),(0,x.jsx)("div",{children:c.map((function(e){return(0,x.jsx)("div",{className:Ct,children:r(i,(0,o.Z)({lng:e.code},n))},e.code)}))})]}),(0,x.jsxs)("div",{className:bt,children:[(0,x.jsx)("h4",{className:jt,children:"Custom Error"}),(0,x.jsx)(Vn.Z,(0,o.Z)((0,o.Z)({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:l,onChange:function(e){return n=e.target.checked,void a((0,oe.de)({code:t,rule:i,key:"isCustomErrorActive",value:n}));var n}}))]}),l?(0,x.jsxs)("div",{className:Zt,children:[(0,x.jsx)("div",{className:St,children:c.map((function(e){return(0,x.jsxs)("div",{className:"".concat(Ct," ").concat(yt),children:[e.code,":"]},e.code)}))}),(0,x.jsx)("div",{className:wt,children:c.map((function(e){return(0,x.jsx)("div",{className:Ct,children:(0,x.jsx)(p.Z,{size:"small",variant:"standard",value:s[e.code]||"",onChange:function(n){return function(e,n){var r=(0,o.Z)((0,o.Z)({},s),{},(0,xt.Z)({},e,n));a((0,oe.de)({code:t,rule:i,key:"content",value:r}))}(e.code,n.target.value)}})},e.code)}))})]}):""]})},kt="ValidationSetupValue_valueValidationItems__S1qIy",Nt="ValidationSetupValue_valueValidationItemsContainer__pyUrp";var qt=function(e){return Object.keys(e).filter((function(e){return!["content","isActive","isCustomErrorActive","bounds"].includes(e)}))},Dt=function(e){var n=e.code,t=e.validation,o=e.rule,i=(0,_.v9)((function(e){var t,i,r;switch(o){case"validation_min_char_length":case"validation_max_char_length":case"validation_max_word_count":case"validation_min_word_count":return[1,Number.MAX_VALUE];case"validation_min_option_count":return[1,(null===(t=e.designState[n].children)||void 0===t?void 0:t.length)||0];case"validation_max_option_count":return[1,(null===(i=e.designState[n].children)||void 0===i?void 0:i.length)||0];case"validation_option_count":return[1,(null===(r=e.designState[n].children)||void 0===r?void 0:r.length)||0];default:return}})),r=(0,_.I0)(),a=function(e,t){!function(e,t){r((0,oe.de)({rule:o,code:n,key:e,value:t}))}(e,"undefined"===typeof i?t:Math.max(i[0],Math.min(i[1],t)))},l=qt(t),c="";switch(o){case"validation_min_char_length":c="Min Character:";break;case"validation_max_char_length":c="Max Character:";break;case"validation_contains":c="Contain:";break;case"validation_not_contains":c="Does not contain any of:";break;case"validation_pattern":c="Matches regex pattern:";break;case"validation_max_word_count":c="Max Word Count:";break;case"validation_min_word_count":c="Min Word Count:";break;case"validation_between":c="Between:";break;case"validation_not_between":c="Not Between:";break;case"validation_lt":c="Less than:";break;case"validation_lte":c="Less than or equal:";break;case"validation_gt":c="Greater than:";break;case"validation_gte":c="Greater than or equal:";break;case"validation_equals":c="Equals:";break;case"validation_not_equal":c="Not equal:";break;case"min_count":c="Min count";break;case"max_count":c="Max count";break;case"exact_count":c="Exact count";break;case"required_other_answer":c="Required answer for other"}return(0,x.jsxs)("div",{className:Nt,children:[l&&(0,x.jsx)("div",{children:c}),(0,x.jsx)("div",{className:kt,children:l.map((function(e){var n="undefined"!==typeof i&&(t[e]<i[0]||t[e]>i[1]);return(0,x.jsx)(p.Z,{error:n,value:t[e],variant:"outlined",size:"small",type:"number"===typeof t[e]?"number":"text",onChange:function(n){return a(e,"number"===typeof t[e]?parseInt(n.target.value):n.target.value)},style:{maxWidth:"150px",marginLeft:c?"30px":"0"}},e)}))})]})};function At(e){var n=e.rule,t=e.code;console.log("ValidationSetupItem: "+t);var i=(0,_.I0)(),r=(0,_.v9)((function(e){var o,i;return null===(o=e.designState[t])||void 0===o||null===(i=o.validation)||void 0===i?void 0:i[n]})),a=(null===r||void 0===r?void 0:r.isActive)||!1,l="";switch(n){case"validation_required":l="Required";break;case"validation_min_char_length":l="Min Character Length";break;case"validation_max_char_length":l="Max Character Length";break;case"validation_contains":l="Contain";break;case"validation_not_contains":l="Does not contain";break;case"validation_pattern":l="Regex pattern";break;case"validation_max_word_count":l="Max Word Count";break;case"validation_min_word_count":l="Min Word Count";break;case"validation_pattern_email":l="Pattern Email";break;case"validation_between":l="Between";break;case"validation_not_between":l="Not Between";break;case"validation_lt":l="Less than";break;case"validation_lte":l="Less than or equal";break;case"validation_gt":l="Greater than";break;case"validation_gte":l="Greater than or equal";break;case"validation_equals":l="Equals";break;case"validation_not_equal":l="Not equal";break;case"validation_min_option_count":l="Min option count";break;case"validation_max_option_count":l="Max option count";break;case"validation_option_count":case"validation_option_countt":l="Exact option count"}return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:_t,children:[(0,x.jsx)("h4",{children:l}),(0,x.jsx)(Vn.Z,(0,o.Z)((0,o.Z)({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:a,onChange:function(e){return o=e.target.checked,void i((0,oe.de)({code:t,rule:n,key:"isActive",value:o}));var o}}))]}),a&&(0,x.jsxs)(z.Z,{className:gt,children:[(0,x.jsx)(Dt,{code:t,validation:r,rule:n}),(0,x.jsx)(It,{code:t,validationRule:r,rule:n})]})]})}var Lt=i.memo(At),Rt=t(81131),Et="ToggleValue_toggleValue__gVDdF";var Pt=function(e){var n=e.label,t=e.code,i=e.rule,r=(0,_.I0)(),a=(0,_.v9)((function(e){return e.designState[t][i]||!1}));return(0,x.jsxs)("div",{className:Et,children:[(0,x.jsx)("h4",{children:n}),(0,x.jsx)(Vn.Z,(0,o.Z)((0,o.Z)({},{inputProps:{"aria-label":"Switch demo"}}),{},{checked:a,onChange:function(e){!function(e){r("fullDayFormat"==i?(0,oe.bt)({code:t,key:i,value:e}):(0,oe.wE)({code:t,key:i,value:e}))}(e.target.checked)}}))]})},Tt=t(45254),Mt={selectValue:"SelectValue_selectValue__rjCVG"};var Ot=function(e){var n=e.label,t=e.rule,o=e.defaultValue,i=e.code,r=e.values,a=(0,_.I0)(),l=(0,_.v9)((function(e){return e.designState[i][t]||o}));return(0,x.jsxs)("div",{className:Mt.selectDate,children:[(0,x.jsx)("h4",{children:n}),(0,x.jsx)(Tt.Z,{variant:"standard",fullWidth:!0,children:(0,x.jsx)(Hn.Z,{id:"select-value",value:l,label:"Select Value",onChange:function(e){!function(e){a("dateFormat"==t?(0,oe.bt)({code:i,key:t,value:e}):(0,oe.wE)({code:i,key:t,value:e}))}(e.target.value)},children:r.map((function(e){return(0,x.jsx)(He.Z,{value:e,children:e},e)}))})})]})},zt="SelectDate_selectDate__sTfuX",Ft="SelectDate_selectDateField__6g3re";var Bt=function(e){var n=e.label,t=e.rule,o=e.code,i=(0,_.I0)(),r=(0,_.v9)((function(e){return e.designState[o][t]||""}));return(0,x.jsxs)("div",{className:zt,children:[(0,x.jsx)("h4",{children:n}),(0,x.jsx)(p.Z,{className:Ft,variant:"standard",value:r,type:"date",onChange:function(e){i((0,oe.wE)({code:o,key:t,value:e.target.value}))}})]})},Yt="Theming_theming__nYZaJ",Ht="ColorPicker_color__whIfs",Qt="ColorPicker_swatch__CkDF9",Gt="ColorPicker_cover__nxFXa",Wt=t(34257);var Vt=function(e){var n=(0,i.useState)(!1),t=(0,v.Z)(n,2),o=t[0],r=t[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{style:{backgroundColor:e.color||e.default},className:Qt,onClick:function(e){return r(!0)},children:(0,x.jsx)("div",{className:Ht})}),o?(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:Gt,onClick:function(e){return r(!1)}}),(0,x.jsx)(Wt.FJ,{onChange:function(n){e.handleChange(n.hex),r(!1)}})]}):null]})},Kt="ThemingItem_themingItem__p7TBx",Ut="ThemingItem_themingItemBody__mk+gL";var Xt=function(e){var n=["Alegreya","Amatic SC","Arial","Bree Serif","Calibri","Cambria","Caveat","Comfortaa","Comic Sans MS","Courier New","EB Garamond","Georgia","Google Sans","Impact","Lexend","Lobster","Lora","Merriweather","Montserrat","Nunito","Oswald","Pacifico","Permanent Marker","Pinyon Script","Playfair Display","Proxima Nova","Roboto","Roboto Mono","Roboto Serif","Spectral","Times New Roman","Trebuchet MS","Ultra","Varela Round","Verdana"],t=Array.from({length:12},(function(e,n){return 2*n+10}));function i(n,t){e.onChange((0,o.Z)((0,o.Z)({},e.value),{},(0,xt.Z)({},n,t)))}return(0,x.jsxs)("div",{className:Kt,children:[(0,x.jsxs)("div",{className:Ut,children:[(0,x.jsx)(Hn.Z,{size:"small",className:"mr-10",value:e.value.font||e.default.font,onChange:function(e){return i("font",e.target.value)},children:n&&n.length>0&&n.map((function(e,n){return(0,x.jsx)(He.Z,{sx:{fontFamily:e},value:e,children:e},"fontFamily-".concat(n))}))},"fontFamily"),(0,x.jsx)(Hn.Z,{size:"small",value:e.value.size||e.default.size,onChange:function(e){return i("size",e.target.value)},children:t&&t.length>0&&t.map((function(e,n){return(0,x.jsx)(He.Z,{value:e,children:e},"fontSize-".concat(n))}))},"fontSize")]}),(0,x.jsx)("br",{}),(0,x.jsx)(Vt,{color:e.value.color,default:e.default.color,handleChange:function(e){return i("color",e)}})]})},Jt=t(95764);var $t=function(){var e=(0,_.I0)(),n=(0,_.v9)((function(e){return e.designState.Survey.theme}));function t(t,i){e((0,oe.wE)({code:"Survey",key:"theme",value:(0,o.Z)((0,o.Z)({},n),{},(0,xt.Z)({},t,i))}))}return(0,x.jsxs)("div",{className:Yt,children:[(0,x.jsx)("h5",{children:"Text Style"}),(0,x.jsx)("h6",{children:"Group Title"}),(0,x.jsx)(Xt,{value:n.textStyles.group,default:Ce.rN.textStyles.group,onChange:function(e){t("textStyles",(0,o.Z)((0,o.Z)({},n.textStyles),{},(0,xt.Z)({},"group",e)))}},"group"),(0,x.jsx)("hr",{}),(0,x.jsx)("h6",{children:"Question Title"}),(0,x.jsx)(Xt,{value:n.textStyles.question,default:Ce.rN.textStyles.question,onChange:function(e){return t("textStyles",(0,o.Z)((0,o.Z)({},n.textStyles),{},(0,xt.Z)({},"question",e)))}},"question"),(0,x.jsx)("hr",{}),(0,x.jsx)("h6",{children:"Text"}),(0,x.jsx)(Xt,{value:n.textStyles.text,default:Ce.rN.textStyles.text,onChange:function(e){return t("textStyles",(0,o.Z)((0,o.Z)({},n.textStyles),{},(0,xt.Z)({},"text",e)))}},"text"),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:"Highlight Color"}),(0,x.jsx)(Vt,{color:n.primaryColor,default:Ce.rN.primaryColor,handleChange:function(e){return t("primaryColor",e)}}),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:"Background Color"}),(0,x.jsx)(Vt,{color:n.bgColor,default:Ce.rN.bgColor,handleChange:function(e){return t("bgColor",e)}}),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:"Foreground Color"}),(0,x.jsx)(Vt,{color:n.paperColor,default:Ce.rN.paperColor,handleChange:function(e){return t("paperColor",e)}}),(0,x.jsx)("hr",{}),(0,x.jsx)("h5",{children:"Header"}),(0,x.jsxs)(c.Z,{variant:"outlined",component:"label",children:[(0,x.jsx)(Jt.Z,{className:"mr-10"}),"Choose Image",(0,x.jsx)("input",{hidden:!0,accept:"image/*",multiple:!0,type:"file",onChange:function(n){n.preventDefault();var t=n.target.files[0];(0,ee.hN)(t).then((function(n){e((0,oe.wE)({code:"Survey",key:"headerImage",value:t.name}))})).catch((function(e){console.error(e)}))}})]})]})},eo=t(70277),no=t(79286),to=t.n(no),oo=t(97358).Z,io=function(e){return'<span class="logicField">'+e+"</span>"},ro=function(e){return'<span class="logicOp">'+e+"</span>"},ao=function(e,n){return'<span class="logicValue">'+("text"==n?'"'+e+'"':e)+"</span>"},lo={conjunctions:{AND:oo.conjunctions.AND,OR:oo.conjunctions.OR},operators:(0,o.Z)((0,o.Z)({},oo.operators),{},{less:(0,o.Z)((0,o.Z)({},oo.operators.less),{},{formatOp:function(e,n,t,o,i,r,a,l,c){return"".concat(io(e)," ").concat(ro("<")," ").concat(ao(t,i))}}),less_or_equal:(0,o.Z)((0,o.Z)({},oo.operators.less_or_equal),{},{formatOp:function(e,n,t,o,i,r,a,l,c){return"".concat(io(e)," ").concat(ro("<=")," ").concat(ao(t,i))}}),greater:(0,o.Z)((0,o.Z)({},oo.operators.greater),{},{formatOp:function(e,n,t,o,i,r,a,l,c){return"".concat(io(e)," ").concat(ro(">")," ").concat(ao(t,i))}}),greater_or_equal:(0,o.Z)((0,o.Z)({},oo.operators.greater_or_equal),{},{formatOp:function(e,n,t,o,i,r,a,l,c){return"".concat(io(e)," ").concat(ro(">=")," ").concat(ao(t,i))}}),equal:(0,o.Z)((0,o.Z)({},oo.operators.equal),{},{label:"Equals",jsonLogic:"==",formatOp:function(e,n,t,o,i,r,a,l,c){var s=l?"equals":r.label;return"".concat(io(e)," ").concat(ro(s)," ").concat(ao(t,i))}}),not_equal:(0,o.Z)((0,o.Z)({},oo.operators.not_equal),{},{label:"Not Equals",jsonLogic:"!=",formatOp:function(e,n,t,o,i,r,a,l,c){var s=l?"not equals":r.label;return"".concat(io(e)," ").concat(ro(s)," ").concat(ao(t,i))}}),starts_with:(0,o.Z)((0,o.Z)({},oo.operators.starts_with),{},{jsonLogic:"startsWith",formatOp:function(e,n,t,o,i,r,a,l,c){var s=l?"starts with":r.label;return"".concat(io(e)," ").concat(ro(s)," ").concat(ao(t,i))}}),ends_with:(0,o.Z)((0,o.Z)({},oo.operators.ends_with),{},{jsonLogic:"endsWith",formatOp:function(e,n,t,o,i,r,a,l,c){var s=l?"ends with":r.label;return"".concat(io(e)," ").concat(ro(s)," ").concat(ao(t,i))}}),between:(0,o.Z)((0,o.Z)({},oo.operators.between),{},{label:"Between",jsonLogic:"between",formatOp:function(e,n,t,o,i,r,a,l){var c=t.first(),s=t.get(1);return l?"".concat(io(e)," ").concat(ro("between")," ").concat(ao(c,i)," ").concat(ro("and")," ").concat(ao(s,i)):"".concat(e," >= ").concat(c," && ").concat(e," <= ").concat(s)}}),not_between:(0,o.Z)((0,o.Z)({},oo.operators.not_between),{},{label:"Not Between",jsonLogic:"not_between",formatOp:function(e,n,t,o,i,r,a,l){var c=t.first(),s=t.get(1);return l?"".concat(io(e)," ").concat(ro("not between")," ").concat(ao(c,i)," ").concat(ro("and")," ").concat(ao(s,i)):"".concat(e," >= ").concat(c," && ").concat(e," <= ").concat(s)}}),like:(0,o.Z)((0,o.Z)({},oo.operators.like),{},{label:"Contains",jsonLogic:"contains",_jsonLogicIsRevArgs:!1,formatOp:function(e,n,t,o,i,r,a,l,c){var s=l?"contains":r.label;return"".concat(io(e)," ").concat(ro(s)," ").concat(ao(t,i))}}),not_like:(0,o.Z)((0,o.Z)({},oo.operators.not_like),{},{label:"Not Contains",jsonLogic:"not_contains",formatOp:function(e,n,t,o,i,r,a,l,c){var s=l?"does not containends with":r.label;return"".concat(io(e)," ").concat(ro(s)," ").concat(ao(t,i))}}),select_any_in:(0,o.Z)((0,o.Z)({},oo.operators.select_any_in),{},{label:"Any In",jsonLogic:"in",formatOp:function(e,n,t,o,i,r,a,l){var c=t.join(", ");return"".concat(io(e)," ").concat(ro("in")," (").concat(ao(c,""),")")}}),select_not_any_in:(0,o.Z)((0,o.Z)({},oo.operators.select_not_any_in),{},{label:"None In",jsonLogic:"not_in",formatOp:function(e,n,t,o,i,r,a,l){var c=t.join(", ");return"".concat(io(e)," ").concat(ro("not in")," (").concat(ao(c,""),")")}}),multiselect_equals:(0,o.Z)((0,o.Z)({},oo.operators.multiselect_equals),{},{label:"Any In",jsonLogic:"any_in",formatOp:function(e,n,t,o,i,r,a,l){var c=t.join(", ");return"".concat(ro("Any of")," (").concat(ao(c,""),") in ").concat(io(e)," ").concat(ro("is selected"))}}),multiselect_not_equals:(0,o.Z)((0,o.Z)({},oo.operators.multiselect_not_equals),{},{label:"None In",jsonLogic:"none_in",formatOp:function(e,n,t,o,i,r,a,l){var c=t.join(", ");return"".concat(ro("None of")," (").concat(ao(c,""),") in ").concat(io(e)," ").concat(ro("is selected"))}}),is_relevant:{label:"Is Displayed",jsonLogic:"relevance",cardinality:0,formatOp:function(e,n,t,o,i,r,a,l){return"".concat(io(e)," ").concat(ao("is shown"))}},is_not_relevant:{label:"Is Hidden",jsonLogic:"not_relevance",cardinality:0,formatOp:function(e,n,t,o,i,r,a,l){return"".concat(io(e)," ").concat(ao("is not shown"))}},is_valid:{label:"Is Valid",jsonLogic:"validity",cardinality:0,formatOp:function(e,n,t,o,i,r,a,l){return"".concat(io(e)," ").concat(ao("is valid"))}},is_not_valid:{label:"Is Not Valid",jsonLogic:"not_validity",cardinality:0,formatOp:function(e,n,t,o,i,r,a,l){return"".concat(io(e)," ").concat(ao("is not valid"))}},is_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_void",formatOp:function(e,n,t,o,i,r,a,l){return"".concat(io(e)," ").concat(ao("is empty"))}},is_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_not_void",formatOp:function(e,n,t,o,i,r,a,l){return"".concat(io(e)," ").concat(ao("is not empty"))}},is_file_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_file_void",formatOp:function(e,n,t,o,i,r,a,l){return"".concat(io(e)," ").concat(ao("is empty"))}},is_file_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_file_not_void",formatOp:function(e,n,t,o,i,r,a,l){return"".concat(io(e)," ").concat(ao("is not empty"))}}}),widgets:(0,o.Z)((0,o.Z)({},oo.widgets),{},{text:(0,o.Z)({},oo.widgets.text),slider:(0,o.Z)((0,o.Z)({},oo.widgets.slider),{},{customProps:{width:"300px"}}),rangeslider:(0,o.Z)((0,o.Z)({},oo.widgets.rangeslider),{},{customProps:{width:"300px"}}),date:(0,o.Z)((0,o.Z)({},oo.widgets.date),{},{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"}),time:(0,o.Z)((0,o.Z)({},oo.widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss"}),datetime:(0,o.Z)((0,o.Z)({},oo.widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"}),func:(0,o.Z)((0,o.Z)({},oo.widgets.func),{},{customProps:{showSearch:!0}}),treeselect:(0,o.Z)((0,o.Z)({},oo.widgets.treeselect),{},{customProps:{showSearch:!0}})}),types:(0,o.Z)((0,o.Z)({},oo.types),{},{boolean:to()(oo.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"}}}})}),settings:(0,o.Z)((0,o.Z)((0,o.Z)({},oo.settings),{valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",fieldPlaceholder:"Select field",operatorPlaceholder:"Select operator",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:null,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}}),{},{valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},canReorder:!1,showNot:!1,maxNesting:1,canLeaveEmptyGroup:!1}),funcs:{}},co=(t(10774),t(8440)),so=t(7195);var uo=function(e){var n=eo.cQ.jsonLogicFormat,t=eo.cQ.queryString,r=eo.cQ.loadTree,a=eo.cQ.uuid,l=eo.cQ.loadFromJsonLogic,s=eo.cQ.checkTree,d=(0,o.Z)((0,o.Z)({},lo),{},{fields:e.fields}),u=e.logic?s(l(e.logic,d),d):r({id:a(),type:"group"}),h=(0,i.useState)(u),f=(0,v.Z)(h,2),p=f[0],m=f[1],g=(0,i.useState)(t(p,d,!0)),_=(0,v.Z)(g,2),j=_[0],y=_[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"query-builder-result",children:[e.logic&&j?(0,x.jsx)("pre",{className:"condition-human-text",dangerouslySetInnerHTML:{__html:j}}):(0,x.jsx)("pre",{className:"condition-human-text",children:"NO CONDITION"}),(0,x.jsx)(Be.Z,{onClick:function(){return e.onDialogStateChanged(!0)},children:(0,x.jsx)(so.Z,{})})]},"result"),(0,x.jsxs)(An.Z,{fullScreen:!0,sx:{margin:"200px"},open:e.dialogOpen,onClose:function(){return e.onDialogStateChanged(!1)},"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[(0,x.jsx)(Ln.Z,{id:"alert-dialog-title-logic-builder",children:e.title}),(0,x.jsx)(co.Z,{children:(0,x.jsx)(eo.AE,(0,o.Z)((0,o.Z)({},d),{},{value:p,onChange:function(e){m(e)},renderBuilder:function(e){return(0,x.jsx)("div",{jey:"builder",className:"query-builder-container",children:(0,x.jsx)("div",{className:"query-builder",children:(0,x.jsx)(eo.Ib,(0,o.Z)({},e))})})}}))}),(0,x.jsx)(Rn.Z,{children:(0,x.jsx)(c.Z,{onClick:function(){e.onDialogStateChanged(!1),function(){var o=n(p,d),i=o.logic;o.errors,y(t(p,d,!0)),e.onChange(i)}()},autoFocus:!0,children:"Agree"})})]})]})},vo=function(e,n,t,o){var i,r,a,l,c,s,d,u,v,h,f=e+". "+(0,G.oN)(null===(i=n.content)||void 0===i||null===(r=i.label)||void 0===r?void 0:r[o]);if((0,G.ty)(e))return(0,xt.Z)({},e,{label:f,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]});switch(n.type){case"text":case"email":return(0,xt.Z)({},e,{label:f,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]});case"paragraph":return(0,xt.Z)({},e,{label:f,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","like","not_like","starts_with","ends_with"]});case"number":return(0,xt.Z)({},e,{label:f,type:"number",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]});case"file_upload":return(0,xt.Z)({},e,{label:f,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]});case"date":return(0,xt.Z)({},e,{label:f,type:"date",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]});case"time":return(0,xt.Z)({},e,{label:f,type:"time",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]});case"date_time":return(0,xt.Z)({},e,{label:f,type:"datetime",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]});case"image_scq":case"scq":var p={},m={};null===(a=n.children)||void 0===a||a.forEach((function(e){var n,i;m[e.code]=(0,G.oN)(null===(n=t[e.qualifiedCode].content)||void 0===n||null===(i=n.label)||void 0===i?void 0:i[o])})),p[e]={label:f,fieldSettings:{listValues:m},type:"select",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","select_any_in","select_not_any_in"]};var g,_,x=null===(l=n.children)||void 0===l?void 0:l.find((function(e){return"Aother"===e.code}));if(x&&null!==(c=t[x.qualifiedCode].children)&&void 0!==c&&c.find((function(e){return"Atext"===e.code})))p[e+"AotherAtext"]={label:"".concat(f," [").concat(null===(g=t[x.qualifiedCode].content)||void 0===g||null===(_=g.label)||void 0===_?void 0:_[o],"]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return p;case"image_mcq":case"mcq":var j={},y={};null===(s=n.children)||void 0===s||s.forEach((function(e){var n,i;y[e.code]=(0,G.oN)(null===(n=t[e.qualifiedCode].content)||void 0===n||null===(i=n.label)||void 0===i?void 0:i[o])})),j[e]={label:f,fieldSettings:{listValues:y},type:"multiselect",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","multiselect_equals","multiselect_not_equals"]};var b,Z,S=null===(d=n.children)||void 0===d?void 0:d.find((function(e){return"Aother"===e.code}));if(S&&null!==(u=t[S.qualifiedCode].children)&&void 0!==u&&u.find((function(e){return"Atext"===e.code})))j[e+"AotherAtext"]={label:"".concat(f," [").concat(null===(b=t[S.qualifiedCode].content)||void 0===b||null===(Z=b.label)||void 0===Z?void 0:Z[o],"]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return j;case"scq_array":var C={},w={};return null===(v=n.children)||void 0===v||v.filter((function(e){return"column"==e.type})).forEach((function(e){var n,i;w[e.code]=(0,G.oN)(null===(n=t[e.qualifiedCode].content)||void 0===n||null===(i=n.label)||void 0===i?void 0:i[o])})),C[e]={label:f,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]},null===(h=n.children)||void 0===h||h.filter((function(e){return"row"==e.type})).forEach((function(n){var i,r;C[e+n.code]={label:f+" - "+(0,G.oN)(null===(i=t[n.qualifiedCode].content)||void 0===i||null===(r=i.label)||void 0===r?void 0:r[o]),type:"select",valueSources:["value"],fieldSettings:{listValues:w},operators:["select_any_in","select_not_any_in"]}})),C;default:return[]}},ho="Relevance_relevanceError__xcNIs",fo="Relevance_errorContainer__jRpup";var po=function(e){var n,t,r,a=e.code,l=(0,_.I0)(),s=(0,i.useState)(!1),d=(0,v.Z)(s,2),u=d[0],h=d[1],f=(0,_.v9)((function(e){return e.designState.langInfo.mainLang})),p=(0,_.v9)((function(e){return e.designState[a]})),m=(0,_.v9)((function(e){return function(e,n,t,i){var r=W(e,n),a={};return r.forEach((function(e){((0,G.KX)(e)||(0,G.ty)(e))&&(a=(0,o.Z)((0,o.Z)({},a),vo(e,t[e],t,i)))})),a}(e.designState.componentIndex,a,e.designState,f)})),g=!y&&Object.keys(m).length>0,j=null===(n=p.instructionList)||void 0===n?void 0:n.find((function(e){return"conditional_relevance"==e.code})),y=((null===j||void 0===j?void 0:j.errors)||[]).length>0,b=null===(t=p.relevance)||void 0===t?void 0:t.logic,Z=(0,i.useState)((null===(r=p.relevance)||void 0===r?void 0:r.rule)||"show_always"),S=(0,v.Z)(Z,2),C=S[0],w=S[1],I="show_if"==C||"hide_if"==C,k=function(){return l((0,oe.Bl)({code:a,key:"relevance",value:{logic:void 0,rule:"show_always"}}))};return(0,x.jsxs)("div",{className:"".concat(y?ho:""),children:[(0,x.jsx)(Tt.Z,{variant:"standard",fullWidth:!0,children:(0,x.jsxs)(Hn.Z,{id:"show-hide-select",value:C,label:"Age",onChange:function(e){return function(e){switch(w(e),e){case"show_always":return void k();case"hide_always":return void l((0,oe.Bl)({code:a,key:"relevance",value:{logic:void 0,rule:e}}));case"show_if":case"hide_if":return"show_if"!=(null===b||void 0===b?void 0:b.rule)&&"hide_if"!=(null===b||void 0===b?void 0:b.rule)&&h(!0),void(b&&l((0,oe.Bl)({code:a,key:"relevance",value:{logic:b,rule:e}})))}}(e.target.value)},children:[(0,x.jsx)(He.Z,{disabled:y,value:"show_always",children:"Show Always"},"show_always"),(0,x.jsx)(He.Z,{disabled:!g,value:"show_if",children:"Show If"},"show_if"),(0,x.jsx)(He.Z,{disabled:!g,value:"hide_if",children:"Hide If"},"hide_if"),(0,x.jsx)(He.Z,{disabled:y,value:"hide_always",children:"Hide Always"},"hide_always")]})}),!y&&I&&(0,x.jsx)(uo,{title:"show_if"==C?"Condition To Show":"Condition To Hide",onChange:function(e){h(!1),I&&l((0,oe.Bl)({code:a,key:"relevance",value:{logic:e,rule:C}}))},onDialogStateChanged:function(e){return h(e)},fields:m,dialogOpen:u,logic:b}),y?(0,x.jsxs)("div",{className:fo,children:[(0,x.jsxs)("span",{children:["\u274c There was an error in Logic therefore this was reset to ",(0,x.jsx)("b",{children:"Always Show"})]}),(0,x.jsx)(c.Z,{variant:"contained",onClick:function(){return k()},children:"OK"})]}):"",I&&!b?(0,x.jsxs)("div",{children:["\u274c Without Logic, this will be reset to ",(0,x.jsx)("b",{children:"Always Show"})]}):""]})},mo=t(88551),go=function(e,n,t){var o,i,r=n[e];return{code:e,label:e+". "+(0,G.oN)(null===(o=r.content)||void 0===o||null===(i=o.label)||void 0===i?void 0:i[t])}},_o=function e(n,t){var o=[],i=n.find((function(e){return e.code===t.parent}));return i&&i.parent&&(o.push(i),o=o.concat(e(n,i))),o},xo=function(e,n,t,o){var i=[];if(!(0,G.ty)(n.code)&&!(0,G.KX)(n.code))return i;var r=e.filter((function(e){return e.parent==n.parent&&e.minIndex>n.maxIndex&&(!n.prioritisedSiblings||-1===n.prioritisedSiblings.indexOf(e.code))}));return r.forEach((function(n){i=(i=i.concat(go(n.code,t,o))).concat(jo(e,n,t,o))})),i},jo=function e(n,t,o,i){var r=[];return(0,G.ty)(t.code)?(t.children&&t.children.forEach((function(t){var a=n.find((function(e){return e.code===t}));r=(r=r.concat(go(a.code,o,i))).concat(e(n,a,o,i))})),r):r},yo={skipItem:"SkipLogic_skipItem__Y3RRu",toEnd:"SkipLogic_toEnd__WxDSC"};function bo(e,n,t){return(0,x.jsxs)(z.Z,{className:yo.errorDisplay,children:[(0,x.jsx)(mo.Z,{style:{verticalAlign:"middle"}})," ",n," is not a valid Skip Destination...",(0,x.jsx)(c.Z,{variant:"contained",onClick:function(){return t(e,"proceed")},children:" OK "})]})}function Zo(e,n,t,o,i,r){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Tt.Z,{variant:"standard",fullWidth:!0,children:(0,x.jsxs)(Hn.Z,{id:"skip-action",value:t,label:"Skip To",onChange:function(n){return i(e,n.target.value)},children:[(0,x.jsx)(He.Z,{value:"proceed",children:"Proceed as usual"},"proceed"),n&&(null===n||void 0===n?void 0:n.map((function(e){return(0,x.jsx)(He.Z,{value:e.code,children:e.label},e.code)})))]})}),t&&t.startsWith("G")&&(0,x.jsxs)("div",{className:yo.toEnd,children:[(0,x.jsx)("h4",{children:"To Group End"}),(0,x.jsx)(Vn.Z,{checked:o||!1,onChange:function(n){return r(e,n.target.checked)}})]})]})}var So=function(e){var n=e.code,t=(0,_.I0)(),o=(0,_.v9)((function(e){return e.designState[n].skip_logic||{}})),i=(0,_.v9)((function(e){var t=e.designState.langInfo.mainLang;return function(e,n,t,o){var i=[],r=e.find((function(e){return e.code===n}));return r?(i=i.concat(xo(e,r,t,o)),r.parent&&_o(e,r).filter((function(e){return(0,G.KX)(e.code)||(0,G.ty)(e.code)})).forEach((function(n){i=i.concat(xo(e,n,t,o))})),i):i}(e.designState.componentIndex,n,e.designState,t)})),r=(0,_.v9)((function(e){return e.designState[n].instructionList.filter((function(e){return e.code.startsWith("skip_to")}))})),a=(0,_.v9)((function(e){var t,o,i=e.designState.langInfo.lang;return null===(t=e.designState[n])||void 0===t||null===(o=t.children)||void 0===o?void 0:o.map((function(n){var t,o;return{code:n.code,label:(null===(t=e.designState[n.qualifiedCode].content)||void 0===t||null===(o=t.label)||void 0===o?void 0:o[i])||n.code}}))})),l=function(e,o){t("proceed"==o?(0,oe.SJ)({code:n,answerCode:e}):(0,oe.he)({code:n,answerCode:e,skipTo:o}))},c=function(e,o){t((0,oe.cy)({code:n,answerCode:e,toEnd:o}))};return(0,x.jsx)(x.Fragment,{children:null===a||void 0===a?void 0:a.map((function(e){var n,t,a=e.code,s=null===o||void 0===o?void 0:o[a],d=null===s||void 0===s?void 0:s.skipTo,u=d||"proceed",v=d&&(null===r||void 0===r||null===(n=r.find((function(e){return e.code=="skip_to_on_"+a})))||void 0===n||null===(t=n.errors)||void 0===t?void 0:t.find((function(e){return"InvalidSkipReference"==e.name})));return(0,x.jsxs)("div",{className:yo.skipItem,children:[(0,x.jsxs)("span",{children:["If answer is ",(0,x.jsx)("b",{children:e.label})]}),v?bo(a,d,l):Zo(a,i,u,null===s||void 0===s?void 0:s.toEnd,l,c)]},e.code)}))})},Co={sectionTitle:"SetupPanel_sectionTitle__qD5RO"},wo=t(13609),Io=t(43671),ko=t(91267);var No=function(e){var n,t=e.setupInfo,o=(0,_.I0)(),i=(0,_.v9)((function(e){return e.designState[t.code]})),r=1===(null===(n=t.rules)||void 0===n?void 0:n.length),a=function(e){var n;return(0,x.jsxs)(wo.Z,{expanded:(null===(n=t.expanded)||void 0===n?void 0:n.includes(e.key))||r||!1,TransitionProps:{unmountOnExit:!0},children:[(0,x.jsx)(Io.Z,{sx:{backgroundColor:"#ECECEC",margin:0},onClick:function(){return n=e.key,void o((0,oe.wI)(n));var n},className:Co.setupHeader,expandIcon:r?null:(0,x.jsx)(Rt.Z,{}),children:(0,x.jsx)("span",{className:Co.sectionTitle,children:e.title.replace("title:","")})}),(0,x.jsx)(ko.Z,{sx:{backgroundColor:e.key==t.highlighted?"beige":"background.paper"},children:e.rules.map((function(e){return l(e)}))})]},t.code+e.title)},l=function(e){if(e.startsWith("validation_"))return(0,x.jsx)(Lt,{rule:e,code:t.code},t.code+e);switch(e){case"theme":return(0,x.jsx)($t,{},t.code+e);case"maxChars":return(0,x.jsx)(Wn,{label:"Text Field Size",rule:e,lowerBound:1,upperBound:500,defaultValue:20,code:t.code},t.code+e);case"minRows":return(0,x.jsx)(Wn,{label:"TextArea Lines",lowerBound:1,upperBound:500,code:t.code,defaultValue:20},t.code+e);case"showWordCount":return(0,x.jsx)(Pt,{label:"Show Word Count",rule:e,code:t.code},t.code+e);case"hint":return(0,x.jsx)(Xn,{code:t.code},t.code+e);case"fullDayFormat":return(0,x.jsx)(Pt,{rule:e,code:t.code,label:"FullDay Format"},t.code+e);case"maxDate":return(0,x.jsx)(Bt,{lowerBound:1,code:t.code,label:"Max Date",rule:e},t.code+e);case"minDate":return(0,x.jsx)(Bt,{label:"Min Date",rule:e,code:t.code},t.code+e);case"dateFormat":return(0,x.jsx)(Ot,{values:["DD.MM.YYYY","MM.DD.YYYY","YYYY.MM.DD","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"],defaultValue:"DD.MM.YYYY",label:"Date Format",rule:e,code:t.code},t.code+e);case"columns":return(0,x.jsx)(Ot,{values:["1","2","3","4","6"],defaultValue:"2",label:"Columns Number",rule:e,code:t.code},t.code+e);case"imageHeight":return(0,x.jsx)(Wn,{label:"Image Height",lowerBound:50,upperBound:500,code:t.code,defaultValue:250,rule:e},t.code+e);case"spacing":return(0,x.jsx)(Wn,{label:"Spacing",lowerBound:2,upperBound:32,code:t.code,defaultValue:8,rule:e},t.code+e);case"random":return(0,x.jsx)(mt,{label:"",code:t.code},t.code+e);case"random_array":var n=(0,G.NI)(i,"random_group"),o=(0,G.NI)(i,"priority_groups"),r=(null===n||void 0===n?void 0:n.errors)||[],a=(null===o||void 0===o?void 0:o.errors)||[];return(0,x.jsxs)("div",{children:[r.length>0?(0,x.jsx)(pt,{errors:r},"randomErrors"):"",a.length>0?(0,x.jsx)(pt,{errors:a},"priorityErrors"):"",(0,x.jsx)(mt,{label:"Randomize Rows",type:"row",hideErrors:!0,code:t.code},"rows"),(0,x.jsx)(mt,{hideErrors:!0,label:"Randomize Columns",type:"column",code:t.code},"columns")]},t.code+e);case"skip_logic":return(0,x.jsx)(So,{code:t.code},t.code+e);case"relevance":return(0,x.jsx)(po,{code:t.code},t.code+e);default:return""}};return(0,x.jsx)(x.Fragment,{children:t.rules.map((function(e,n){return a(e)}))})},qo=t(70734);var Do=function(){var e=(0,_.I0)(),n=(0,_.v9)((function(e){return e.designState.setup})),t=(0,_.v9)((function(e){return e.designState.langInfo})),o=null===t||void 0===t?void 0:t.lang,i=null===t||void 0===t?void 0:t.mainLang,r=null===t||void 0===t?void 0:t.languagesList;return(0,x.jsxs)(z.Z,{sx:{backgroundColor:"background.paper"},className:Gn.leftContent,children:[(0,x.jsxs)("div",{className:Gn.leftPanelGroupItem,children:[(0,x.jsx)(Hn.Z,{id:"ChangeLang",value:o,onChange:function(n){e((0,oe.t4)(n.target.value))},children:r?r.map((function(e,n){return(0,x.jsx)(He.Z,{value:e.code,children:e.langName},n)})):""}),(0,x.jsx)("div",{children:(0,x.jsx)(Be.Z,{onClick:function(){return(0,ee.zL)(o)},children:(0,x.jsx)(Yn.Z,{className:Gn.settingIcon})})}),o===i?(0,x.jsxs)("div",{children:[(0,x.jsx)(Be.Z,{onClick:function(){return e((0,oe.cY)({code:"Survey",rules:[{title:"Theme",rules:["theme"]}]}))},children:(0,x.jsx)(Qn.Z,{className:Gn.settingIcon})}),(0,x.jsx)(Be.Z,{onClick:function(){return e((0,oe.cY)(Ce.vv))},children:(0,x.jsx)(Se.Z,{className:Gn.settingIcon})})]}):null]}),(0,x.jsx)(x.Fragment,{children:n?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:Gn.close,children:(0,x.jsx)(Be.Z,{onClick:function(){return e((0,oe.Wy)())},children:(0,x.jsx)(be.Z,{})})}),(0,x.jsx)(No,{setupInfo:n},n.code)]}):(0,x.jsx)(qo.ZP,{})})]})},Ao=t(11647),Lo=t(8771),Ro=t(27170),Eo="SavingSurvey_savingProgress__85uZ2";var Po=function(){var e=(0,_.v9)((function(e){return e.designState.isSaving}));return(0,x.jsx)(Ao.Z,{open:e,children:(0,x.jsxs)(Lo.Z,{severity:"warning",children:["Saving Survey... ",(0,x.jsx)(Ro.Z,{className:Eo,color:"warning"})]})})};var To=function(){var e=(0,_.I0)(),n=(0,_.v9)((function(e){return e.designState.error||!1})),t=function(){e((0,oe.$g)(!1))};return n&&!n.seen&&(0,x.jsxs)(An.Z,{open:!0,onClose:function(){return t()},"aria-labelledby":"alert-dialog-title-error","aria-describedby":"alert-dialog-description",children:[(0,x.jsx)(Ln.Z,{id:"alert-dialog-title-error",children:"Error"}),(0,x.jsx)(co.Z,{children:n.message||""}),(0,x.jsx)(Rn.Z,{children:(0,x.jsx)(c.Z,{onClick:function(){return t()},children:"OK"})})]})};var Mo=function(){var e=(0,C.$)("common").i18n,n=(0,_.I0)(),t=(0,_.v9)((function(e){return e.designState.Survey})),v=(0,_.v9)((function(e){return e.designState.langInfo})),h=null===v||void 0===v?void 0:v.lang,f=(0,_.v9)((function(e){var n;return null===(n=e.designState.Survey)||void 0===n?void 0:n.theme})),p=function(e){n((0,oe.PK)(e))},m=function(e){n((0,oe.qQ)(e))};(0,i.useEffect)((function(){t||(0,ee.eO)(p,m,!0).then((function(n){n&&e.loadLanguages(n.languages)}))}),[]);var g=(0,Bn.Z)({key:P.Bc.includes(h)?"muirtl":"muiltr",stylisPlugins:P.Bc.includes(h)?[Fn.Ji,zn.Z]:null}),j=i.useCallback((0,a.Z)((0,o.Z)((0,o.Z)({},(0,Ce.ph)(f)),{},{direction:P.Bc.includes(h)?"rtl":"ltr"})),[f]);return(0,x.jsx)(jn.C,{value:g,children:(0,x.jsx)(l.Z,{theme:j,children:(0,x.jsxs)(s.Z,{children:[t&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:d,children:(0,x.jsxs)(r.Z5,{onDragUpdate:function(e){return console.log(e)},onDragEnd:function(e){!function(e,n,t){if(console.log(e),!e.destination)return console.log("NO DESTINATION"),void t((0,o.Z)({},n));"questions"==e.type&&(0,G.ty)(e.source.droppableId)&&(0,G.ty)(e.destination.droppableId)?t({type:"reorder_questions",source:e.source.droppableId,destination:e.destination.droppableId,id:e.draggableId,fromIndex:e.source.index,toIndex:e.destination.index}):"questions"==e.type&&"new-questions"==e.source.droppableId&&(0,G.ty)(e.destination.droppableId)?t({type:"new_question",questionType:e.draggableId,destination:e.destination.droppableId,toIndex:e.destination.index}):"groups"==e.type&&(0,G.ty)(e.draggableId)?t({type:"reorder_groups",id:e.draggableId,fromIndex:e.source.index,toIndex:e.destination.index}):"groups"!=e.type||"new-groups"!=e.source.droppableId?e.type.startsWith("option")?t({type:"reorder_answers",id:e.draggableId,fromIndex:e.source.index,toIndex:e.destination.index}):(e.type.startsWith("row")||e.type.startsWith("col"))&&t({type:"reorder_answers_by_type",id:e.draggableId,fromIndex:e.source.index,toIndex:e.destination.index}):t({type:"new_group",groupType:e.draggableId,toIndex:e.destination.index})}(e,t,(function(e){n((0,oe.dz)(e))}))},children:[(0,x.jsx)(Do,{}),(0,x.jsx)(On,{headerImage:t.headerImage,groups:t.children})]})}),(0,x.jsx)("div",{className:u,children:(0,x.jsx)(c.Z,{variant:"contained",onClick:function(){window.confirm("Are you sure?")&&(0,ee.uG)(p,m)},children:"Reset Data"})}),(0,x.jsx)(Po,{})]}),(0,x.jsx)(To,{})]})})})}}}]);
//# sourceMappingURL=985.e39410e7.chunk.js.map